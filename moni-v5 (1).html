<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Moni - Financial Confidence</title>
  <link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    
    :root {
      --bg: #faf9f7;
      --card: #ffffff;
      --text: #1a1a1a;
      --text-soft: #6b6b6b;
      --text-muted: #9a9a9a;
      --accent: #1a1a1a;
      --green: #22c55e;
      --green-light: #f0fdf4;
      --orange: #f59e0b;
      --orange-light: #fffbeb;
      --border: #e8e6e3;
      --purple: #8b5cf6;
      --purple-light: #f5f3ff;
      --primary: #8b5cf6;
      /* Archetype colors */
      --dreamer: #8b5cf6;
      --experiencer: #f97316;
      --giver: #ec4899;
      --planner: #10b981;
    }

    body {
      min-height: 100vh;
      background: #1a1a1a;
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: 'Be Vietnam Pro', sans-serif;
      padding: 20px;
    }

    .phone {
      width: 100%;
      max-width: 390px;
      height: 844px;
      background: var(--bg);
      border-radius: 44px;
      box-shadow: 0 25px 80px rgba(0,0,0,0.5);
      overflow: hidden;
      display: flex;
      flex-direction: column;
      position: relative;
    }

    .phone.splash-bg {
      background: linear-gradient(160deg, #1a1a1a 0%, #2d2d2d 100%);
    }

    .header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 16px 24px;
    }

    .btn-back {
      width: 44px;
      height: 44px;
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 14px;
      font-size: 18px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .progress-dots {
      display: flex;
      gap: 6px;
    }

    .dot {
      width: 8px;
      height: 8px;
      border-radius: 4px;
      background: var(--border);
      transition: all 0.3s;
    }

    .dot.active {
      width: 24px;
      background: var(--text);
    }

    .content {
      flex: 1;
      overflow-y: auto;
      padding: 0 24px;
    }

    .footer {
      padding: 16px 24px 40px;
    }

    .btn {
      width: 100%;
      padding: 18px 24px;
      background: var(--text);
      border: none;
      border-radius: 16px;
      color: white;
      font-size: 17px;
      font-weight: 600;
      cursor: pointer;
      font-family: inherit;
      transition: transform 0.2s, opacity 0.2s;
    }

    .btn:hover { transform: scale(1.02); }
    .btn:disabled { opacity: 0.4; cursor: not-allowed; transform: none; }

    .btn.secondary {
      background: transparent;
      color: var(--text-muted);
      padding: 14px 24px;
    }

    .btn.white {
      background: white;
      color: var(--text);
    }

    .input {
      width: 100%;
      padding: 18px 20px;
      border: 2px solid var(--border);
      border-radius: 16px;
      font-size: 17px;
      font-family: inherit;
      outline: none;
      transition: border-color 0.2s;
      background: var(--card);
    }

    .input:focus { border-color: var(--text); }

    .hidden { display: none !important; }

    /* Splash */
    .splash {
      flex: 1;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      padding: 60px 32px 48px;
      text-align: center;
    }

    .splash-logo { font-size: 80px; margin-bottom: 16px; }
    .splash-title { font-size: 48px; font-weight: 800; color: white; letter-spacing: -1px; }
    .splash-tagline { font-size: 17px; color: rgba(255,255,255,0.7); margin-top: 12px; line-height: 1.5; }

    /* Onboarding */
    .ob-icon { font-size: 64px; margin-bottom: 20px; }
    .ob-title { font-size: 26px; font-weight: 700; color: var(--text); margin-bottom: 12px; line-height: 1.3; }
    .ob-desc { font-size: 16px; color: var(--text-soft); line-height: 1.6; }
    .ob-center { text-align: center; padding-top: 20px; }

    .benefits { display: flex; flex-direction: column; gap: 14px; margin: 28px 0; }
    .benefit { display: flex; align-items: center; gap: 14px; padding: 16px 18px; background: var(--card); border: 1px solid var(--border); border-radius: 16px; }
    .benefit-icon { font-size: 24px; }
    .benefit-text { font-size: 15px; color: var(--text); }

    .quote-box { padding: 20px 24px; background: var(--green-light); border-radius: 20px; text-align: center; }
    .quote-text { font-size: 15px; color: #166534; font-style: italic; line-height: 1.6; }

    /* Quiz */
    .quiz-progress { display: flex; align-items: center; gap: 12px; }
    .quiz-bar { width: 100px; height: 6px; background: var(--border); border-radius: 3px; overflow: hidden; }
    .quiz-bar-fill { height: 100%; background: var(--text); transition: width 0.3s; }
    .quiz-count { font-size: 14px; font-weight: 600; color: var(--text-muted); }
    .quiz-badge { display: inline-block; padding: 8px 16px; background: var(--purple-light); border-radius: 20px; font-size: 13px; font-weight: 600; color: var(--purple); margin-bottom: 20px; }
    .quiz-question { font-size: 20px; font-weight: 700; color: var(--text); line-height: 1.5; margin-bottom: 28px; }
    .quiz-option { display: flex; align-items: center; gap: 14px; width: 100%; padding: 18px 20px; background: var(--card); border: 2px solid var(--border); border-radius: 16px; cursor: pointer; text-align: left; margin-bottom: 12px; transition: all 0.2s; font-family: inherit; }
    .quiz-option:hover { border-color: var(--text); background: var(--bg); }
    .quiz-option-icon { font-size: 24px; }
    .quiz-option-text { font-size: 15px; color: var(--text); }

    /* Result */
    .result-card { background: linear-gradient(135deg, var(--purple), #a855f7); border-radius: 28px; padding: 36px 28px; text-align: center; color: white; margin: 20px 0; }
    .result-emoji { font-size: 72px; margin-bottom: 16px; }
    .result-type { font-size: 28px; font-weight: 800; }
    .result-tag { font-size: 16px; opacity: 0.9; margin-top: 8px; }
    .result-desc { font-size: 16px; color: var(--text-soft); line-height: 1.7; text-align: center; margin-top: 20px; }

    /* Income */
    .income-input-wrap { display: flex; background: var(--card); border-radius: 16px; border: 2px solid var(--border); overflow: hidden; margin: 24px 0; }
    .income-input-wrap:focus-within { border-color: var(--text); }
    .income-input { flex: 1; border: none; padding: 20px; font-size: 28px; font-weight: 700; text-align: center; outline: none; font-family: inherit; background: transparent; }
    .income-unit { display: flex; align-items: center; padding: 0 20px; font-size: 16px; color: var(--text-muted); background: var(--bg); }

    .presets { display: flex; flex-wrap: wrap; gap: 10px; justify-content: center; margin-bottom: 24px; }
    .preset { padding: 12px 20px; border-radius: 12px; border: 1px solid var(--border); background: var(--card); font-size: 15px; font-weight: 600; color: var(--text-soft); cursor: pointer; transition: all 0.2s; font-family: inherit; }
    .preset:hover, .preset.active { background: var(--text); color: white; border-color: var(--text); }

    .privacy-note { display: flex; align-items: center; gap: 10px; padding: 14px 16px; background: var(--bg); border-radius: 14px; }
    .privacy-note span:first-child { font-size: 18px; }
    .privacy-note span:last-child { font-size: 13px; color: var(--text-muted); }

    /* Goals */
    .goal-grid { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 12px; margin: 24px 0; }
    .goal-item { display: flex; flex-direction: column; align-items: center; gap: 8px; padding: 18px 12px; background: var(--card); border: 2px solid var(--border); border-radius: 18px; cursor: pointer; transition: all 0.2s; }
    .goal-item:hover { border-color: var(--text-soft); }
    .goal-item.selected { border-color: var(--green); background: var(--green-light); }
    .goal-item-icon { font-size: 32px; }
    .goal-item-name { font-size: 13px; font-weight: 600; color: var(--text); }

    .selected-goals { display: flex; flex-direction: column; gap: 12px; margin-top: 20px; }
    .selected-goal { display: flex; align-items: center; gap: 14px; padding: 16px 18px; background: var(--green-light); border: 2px solid #86efac; border-radius: 16px; }
    .selected-goal-icon { font-size: 28px; }
    .selected-goal-info { flex: 1; }
    .selected-goal-name { font-size: 15px; font-weight: 600; color: var(--text); }
    .selected-goal-amount { font-size: 13px; color: var(--text-soft); }
    .selected-goal-remove { width: 32px; height: 32px; background: #fee2e2; border: none; border-radius: 10px; color: #ef4444; font-size: 18px; cursor: pointer; }

    /* Allocation */
    .allocation-card { background: var(--card); border: 1px solid var(--border); border-radius: 20px; padding: 20px; margin-bottom: 16px; }
    .allocation-header { display: flex; align-items: center; gap: 14px; margin-bottom: 16px; }
    .allocation-icon { font-size: 32px; }
    .allocation-name { font-size: 16px; font-weight: 600; color: var(--text); }
    .allocation-target { font-size: 13px; color: var(--text-muted); }
    .allocation-input-row { display: flex; align-items: center; gap: 12px; }
    .allocation-input { flex: 1; padding: 14px 16px; border: 2px solid var(--border); border-radius: 12px; font-size: 18px; font-weight: 600; font-family: inherit; outline: none; text-align: center; }
    .allocation-input:focus { border-color: var(--text); }
    .allocation-per { font-size: 14px; color: var(--text-muted); }
    .allocation-time { margin-top: 12px; padding: 12px; background: var(--bg); border-radius: 10px; text-align: center; font-size: 13px; color: var(--text-soft); }
    .allocation-time strong { color: var(--green); }

    /* Main App */
    .status-bar { display: flex; justify-content: space-between; padding: 14px 28px 10px; font-size: 14px; font-weight: 600; }
    .main-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 32px; }
    .greeting { font-size: 18px; font-weight: 600; color: var(--text); }
    .avatar { width: 40px; height: 40px; background: linear-gradient(135deg, #e0e0e0, #f5f5f5); border-radius: 14px; display: flex; align-items: center; justify-content: center; font-size: 18px; }

    .spendable { text-align: center; margin-bottom: 40px; }
    .spendable-label { font-size: 14px; color: var(--text-muted); margin-bottom: 8px; }
    .spendable-amount { font-size: 56px; font-weight: 800; color: var(--text); letter-spacing: -3px; line-height: 1; margin-bottom: 8px; }
    .spendable-amount .unit { font-size: 32px; font-weight: 600; color: var(--text-soft); }
    .spendable-sub { font-size: 14px; color: var(--text-muted); }
    .spendable-sub span { color: var(--text-soft); font-weight: 600; }

    .goals-status { display: flex; gap: 12px; margin-bottom: 24px; }
    .goal-pill { flex: 1; background: var(--card); border: 1px solid var(--border); border-radius: 16px; padding: 14px 16px; display: flex; align-items: center; gap: 12px; transition: transform 0.2s, box-shadow 0.2s; }
    .goal-pill:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(0,0,0,0.08); }
    .goal-emoji { font-size: 24px; }
    .goal-info { flex: 1; min-width: 0; }
    .goal-name { font-size: 13px; font-weight: 600; color: var(--text); }
    .goal-meta { font-size: 12px; color: var(--text-muted); margin-top: 4px; display: flex; align-items: center; gap: 4px; }
    .goal-progress { width: 100%; height: 6px; background: rgba(0,0,0,0.06); border-radius: 3px; margin-top: 8px; overflow: hidden; }
    .goal-progress-fill { height: 100%; background: var(--primary); border-radius: 3px; transition: width 0.5s ease; }

    .recent-section { margin-bottom: 24px; }
    .recent-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px; }
    .recent-title { font-size: 13px; font-weight: 600; color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.5px; }
    .recent-total { font-size: 14px; font-weight: 600; color: var(--text-soft); }
    .recent-list { background: var(--card); border: 1px solid var(--border); border-radius: 16px; overflow: hidden; }
    .recent-item { display: flex; align-items: center; gap: 12px; padding: 14px 16px; border-bottom: 1px solid var(--border); }
    .recent-item:last-child { border-bottom: none; }
    .recent-emoji { font-size: 18px; }
    .recent-name { flex: 1; font-size: 14px; color: var(--text); }
    .recent-amount { font-size: 14px; font-weight: 600; color: var(--text-soft); }

    .spacer { flex: 1; }

    .ask-section { padding-bottom: 24px; }
    .ask-container { background: var(--card); border: 2px solid var(--border); border-radius: 20px; padding: 6px; transition: all 0.2s ease; }
    .ask-container:focus-within { border-color: var(--text); }
    .ask-row { display: flex; align-items: center; gap: 12px; }
    .ask-icon { width: 42px; height: 42px; background: var(--bg); border-radius: 14px; display: flex; align-items: center; justify-content: center; font-size: 20px; }
    .ask-input { flex: 1; border: none; background: transparent; font-size: 16px; font-family: inherit; color: var(--text); outline: none; padding: 12px 0; }
    .ask-input::placeholder { color: var(--text-muted); }
    .ask-btn { width: 42px; height: 42px; background: var(--text); border: none; border-radius: 14px; color: white; font-size: 18px; cursor: pointer; transition: transform 0.2s; }
    .ask-btn:hover { transform: scale(1.05); }
    .ask-hint { text-align: center; font-size: 13px; color: var(--text-muted); margin-top: 16px; }

    .chips { display: flex; gap: 8px; margin-top: 14px; overflow-x: auto; padding-bottom: 4px; }
    .chips::-webkit-scrollbar { display: none; }
    .chip { flex-shrink: 0; padding: 10px 16px; background: var(--bg); border: 1px solid var(--border); border-radius: 12px; font-size: 14px; color: var(--text-soft); cursor: pointer; transition: all 0.2s; font-family: inherit; }
    .chip:hover { background: var(--card); border-color: var(--text-soft); }

    .response { margin-top: 20px; }
    .response.show { display: block; animation: slideUp 0.3s ease; }
    @keyframes slideUp { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

    /* Celebration animations */
    @keyframes confetti-fall { 0% { transform: translateY(-100vh) rotate(0deg); opacity: 1; } 100% { transform: translateY(100vh) rotate(720deg); opacity: 0; } }
    @keyframes celebrate-pop { 0% { transform: scale(0.8); opacity: 0; } 50% { transform: scale(1.1); } 100% { transform: scale(1); opacity: 1; } }
    @keyframes pulse-glow { 0%, 100% { box-shadow: 0 0 20px var(--primary); } 50% { box-shadow: 0 0 40px var(--primary); } }
    .celebration-banner { animation: celebrate-pop 0.5s ease forwards; background: linear-gradient(135deg, var(--primary), var(--purple)); color: white; padding: 16px 20px; border-radius: 16px; margin-bottom: 16px; display: flex; align-items: center; gap: 12px; }
    .celebration-banner .icon { font-size: 32px; }
    .celebration-banner .text { flex: 1; }
    .celebration-banner .title { font-weight: 700; font-size: 15px; }
    .celebration-banner .desc { font-size: 13px; opacity: 0.9; margin-top: 2px; }
    .celebration-banner .dismiss { background: rgba(255,255,255,0.2); border: none; color: white; width: 28px; height: 28px; border-radius: 14px; cursor: pointer; font-size: 16px; }
    .confetti { position: fixed; width: 10px; height: 10px; top: -10px; animation: confetti-fall 3s linear forwards; pointer-events: none; z-index: 1000; }
    .streak-badge { display: inline-flex; align-items: center; gap: 4px; background: var(--orange-light); color: var(--orange); padding: 4px 10px; border-radius: 8px; font-size: 12px; font-weight: 600; }
    .milestone-ring { animation: pulse-glow 2s ease-in-out infinite; }
    .response-bubble { background: var(--bg); border-radius: 18px; padding: 18px 20px; }
    .response-text { font-size: 15px; color: var(--text); line-height: 1.6; margin-bottom: 16px; }
    .response-meta { font-size: 13px; color: var(--text-muted); padding: 12px 0; border-top: 1px solid var(--border); margin-bottom: 16px; }
    .response-actions { display: flex; gap: 10px; }
    .res-btn { flex: 1; padding: 14px; border-radius: 12px; font-size: 15px; font-weight: 600; cursor: pointer; font-family: inherit; transition: all 0.2s; }
    .res-btn.primary { background: var(--text); border: none; color: white; }
    .res-btn.secondary { background: transparent; border: 1px solid var(--border); color: var(--text-soft); }

    .tab-bar { display: flex; justify-content: space-around; padding: 12px 0 32px; background: var(--bg); border-top: 1px solid var(--border); }
    .tab { display: flex; flex-direction: column; align-items: center; gap: 4px; background: none; border: none; cursor: pointer; padding: 8px 20px; }
    .tab-icon { font-size: 22px; opacity: 0.4; }
    .tab.active .tab-icon { opacity: 1; }
    .tab-label { font-size: 11px; font-weight: 600; color: var(--text-muted); }
    .tab.active .tab-label { color: var(--text); }

    /* FAB */
    .fab {
      position: absolute;
      bottom: 100px;
      right: 24px;
      width: 56px;
      height: 56px;
      background: var(--text);
      border: none;
      border-radius: 16px;
      color: white;
      font-size: 28px;
      cursor: pointer;
      box-shadow: 0 4px 20px rgba(0,0,0,0.25);
      display: flex;
      align-items: center;
      justify-content: center;
      transition: transform 0.2s, box-shadow 0.2s;
      z-index: 50;
    }
    .fab:hover {
      transform: scale(1.05);
      box-shadow: 0 6px 25px rgba(0,0,0,0.3);
    }

    /* Language Selection Screen */
    .lang-screen {
      flex: 1;
      display: flex;
      flex-direction: column;
      padding: 48px 24px 32px;
      overflow-y: auto;
      max-height: 100%;
    }
    .lang-screen-header {
      text-align: center;
      margin-bottom: 28px;
    }
    .lang-screen-icon {
      font-size: 56px;
      margin-bottom: 16px;
    }
    .lang-screen-title {
      font-size: 26px;
      font-weight: 800;
      color: white;
      margin-bottom: 8px;
    }
    .lang-screen-subtitle {
      font-size: 15px;
      color: rgba(255,255,255,0.6);
      line-height: 1.5;
    }
    .lang-list {
      flex: 1;
      overflow-y: auto;
      display: flex;
      flex-direction: column;
      gap: 10px;
      padding: 4px;
      margin: 0 -4px;
    }
    .lang-list::-webkit-scrollbar { width: 0; }
    .lang-card {
      display: flex;
      align-items: center;
      gap: 14px;
      padding: 14px 16px;
      background: rgba(255,255,255,0.08);
      border: 2px solid rgba(255,255,255,0.1);
      border-radius: 16px;
      cursor: pointer;
      transition: all 0.2s ease;
      font-family: inherit;
      text-align: left;
      width: 100%;
    }
    .lang-card:hover {
      background: rgba(255,255,255,0.12);
      border-color: rgba(255,255,255,0.2);
      transform: translateY(-1px);
    }
    .lang-card.selected {
      background: rgba(255,255,255,0.15);
      border-color: rgba(255,255,255,0.5);
      box-shadow: 0 4px 20px rgba(0,0,0,0.2);
    }
    .lang-card-flag {
      font-size: 36px;
      line-height: 1;
    }
    .lang-card-info {
      flex: 1;
    }
    .lang-card-name {
      font-size: 16px;
      font-weight: 700;
      color: white;
      margin-bottom: 2px;
    }
    .lang-card-currency {
      font-size: 13px;
      color: rgba(255,255,255,0.5);
      display: flex;
      align-items: center;
      gap: 6px;
    }
    .lang-card-currency-badge {
      padding: 2px 8px;
      background: rgba(255,255,255,0.15);
      border-radius: 6px;
      font-weight: 600;
      font-size: 12px;
      color: rgba(255,255,255,0.8);
    }
    .lang-card-check {
      width: 26px;
      height: 26px;
      border-radius: 13px;
      border: 2px solid rgba(255,255,255,0.3);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 14px;
      color: transparent;
      transition: all 0.2s;
    }
    .lang-card.selected .lang-card-check {
      background: #22c55e;
      border-color: #22c55e;
      color: white;
    }
    .lang-screen-footer {
      padding: 20px 0 16px;
      background: linear-gradient(transparent, rgba(26, 26, 26, 0.95) 30%);
      margin: 0 -24px -32px;
      padding: 24px 24px 32px;
      position: sticky;
      bottom: 0;
    }
    .lang-screen-footer .btn {
      background: white;
      color: #1a1a1a;
      font-size: 18px;
      padding: 20px 24px;
      font-weight: 700;
      box-shadow: 0 4px 20px rgba(255,255,255,0.3);
    }
    .lang-screen-footer .btn:hover {
      transform: scale(1.02);
      box-shadow: 0 6px 25px rgba(255,255,255,0.4);
    }
    .lang-screen-footer .btn:disabled {
      background: rgba(255,255,255,0.3);
      color: rgba(255,255,255,0.5);
      box-shadow: none;
    }

    /* Small language button on splash */
    .splash-lang-btn {
      position: absolute;
      top: 20px;
      right: 20px;
      display: flex;
      align-items: center;
      gap: 6px;
      padding: 8px 12px;
      background: rgba(255,255,255,0.1);
      border: 1px solid rgba(255,255,255,0.2);
      border-radius: 10px;
      color: rgba(255,255,255,0.8);
      font-size: 13px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
      font-family: inherit;
    }
    .splash-lang-btn:hover {
      background: rgba(255,255,255,0.15);
      border-color: rgba(255,255,255,0.3);
    }
    .splash-lang-btn .flag { font-size: 16px; }

    /* Chat loading */
    .typing {
      display: flex;
      gap: 4px;
      padding: 8px 0;
    }
    .typing span {
      width: 8px;
      height: 8px;
      background: var(--text-muted);
      border-radius: 50%;
      animation: bounce 1.4s infinite ease-in-out;
    }
    .typing span:nth-child(1) { animation-delay: 0s; }
    .typing span:nth-child(2) { animation-delay: 0.2s; }
    .typing span:nth-child(3) { animation-delay: 0.4s; }
    @keyframes bounce {
      0%, 80%, 100% { transform: scale(0.8); opacity: 0.5; }
      40% { transform: scale(1); opacity: 1; }
    }
  </style>
</head>
<body>
  <div id="app" class="phone"></div>

  <script>
    // ============= TRANSLATIONS =============
    const TRANSLATIONS = {
      vi: {
        // Splash
        welcome: 'ChÃ o má»«ng Ä‘áº¿n Moni!',
        tagline: 'Quáº£n lÃ½ tiá»n theo cÃ¡ch cá»§a báº¡n.<br>KhÃ´ng phÃ¡n xÃ©t. Chá»‰ Ä‘á»“ng hÃ nh.',
        start: 'Báº¯t Ä‘áº§u â†’',
        // Onboarding Step 0
        welcomeTitle: 'ChÃ o má»«ng Ä‘áº¿n Moni!',
        welcomeDesc: 'Moni sáº½ giÃºp báº¡n tiÃªu tiá»n cÃ³ chá»§ Ä‘Ã­ch â€” khÃ´ng pháº£i theo dÃµi tá»«ng Ä‘á»“ng, mÃ  lÃ  biáº¿t mÃ¬nh Ä‘ang á»Ÿ Ä‘Ã¢u trÃªn Ä‘Æ°á»ng Ä‘áº¿n má»¥c tiÃªu.',
        nameLabel: 'MÃ¬nh gá»i báº¡n lÃ  gÃ¬ nhá»‰?',
        namePlaceholder: 'Nháº­p tÃªn cá»§a báº¡n...',
        continue: 'Tiáº¿p tá»¥c â†’',
        // Onboarding Step 1 - Quiz Intro
        quizTitle: '4 Money Personalities',
        quizDesc: 'Báº¡n thuá»™c nhÃ³m nÃ o? LÃ m quiz Ä‘á»ƒ khÃ¡m phÃ¡!',
        theDreamer: 'The Dreamer',
        dreamerTag: 'NgÆ°á»i mÆ¡ má»™ng',
        theExperiencer: 'The Experiencer',
        experiencerTag: 'NgÆ°á»i tráº£i nghiá»‡m',
        theGiver: 'The Giver',
        giverTag: 'NgÆ°á»i cho Ä‘i',
        thePlanner: 'The Planner',
        plannerTag: 'NgÆ°á»i káº¿ hoáº¡ch',
        quizAccompany: 'ğŸ¯ Moni sáº½ Ä‘á»“ng hÃ nh theo phong cÃ¡ch cá»§a báº¡n',
        startQuiz: 'LÃ m Quiz Â· 4 cÃ¢u há»i â†’',
        skip: 'Bá» qua',
        // Quiz Questions
        quiz1: 'Khi nháº­n Ä‘Æ°á»£c tiá»n thÆ°á»Ÿng báº¥t ngá», báº¡n thÆ°á»ng...',
        quiz1opt1: 'LÃªn káº¿ hoáº¡ch cá»¥ thá»ƒ cho nÃ³',
        quiz1opt2: 'Tá»± thÆ°á»Ÿng cho mÃ¬nh ngay',
        quiz1opt3: 'NghÄ© Ä‘áº¿n quÃ  cho ngÆ°á»i thÃ¢n',
        quiz1opt4: 'MÆ¡ vá» nhá»¯ng possibilities',
        quiz2: 'Báº¡n hay vÆ°á»£t chi tiÃªu nháº¥t khi nÃ o?',
        quiz2opt1: 'Äi chÆ¡i vá»›i báº¡n bÃ¨',
        quiz2opt2: 'CÃ³ ai Ä‘Ã³ cáº§n giÃºp Ä‘á»¡',
        quiz2opt3: 'Bá»‹ thu hÃºt bá»Ÿi cÃ¡i má»›i',
        quiz2opt4: 'Hiáº¿m khi vÆ°á»£t chi',
        quiz3: 'Cáº£m xÃºc cá»§a báº¡n khi nghÄ© vá» tiá»n...',
        quiz3opt1: 'Excited vá» tÆ°Æ¡ng lai',
        quiz3opt2: 'Thoáº£i mÃ¡i, sá»‘ng hiá»‡n táº¡i',
        quiz3opt3: 'Lo láº¯ng cho ngÆ°á»i thÃ¢n',
        quiz3opt4: 'Cáº£m giÃ¡c kiá»ƒm soÃ¡t',
        quiz4: 'Äiá»u nÃ o mÃ´ táº£ báº¡n nháº¥t?',
        quiz4opt1: 'Nhiá»u Æ°á»›c mÆ¡, khÃ³ focus',
        quiz4opt2: 'Ká»· niá»‡m quan trá»ng hÆ¡n tiáº¿t kiá»‡m',
        quiz4opt3: 'Vui khi Ä‘Æ°á»£c giÃºp ngÆ°á»i khÃ¡c',
        quiz4opt4: 'ThÃ­ch káº¿ hoáº¡ch rÃµ rÃ ng',
        // Quiz Result
        thisIsYou: 'âœ¨ ÄÃ¢y lÃ  báº¡n!',
        dreamerDesc: 'Báº¡n cÃ³ nhiá»u Æ°á»›c mÆ¡ Ä‘áº¹p vÃ  trÃ­ tÆ°á»Ÿng tÆ°á»£ng phong phÃº. Moni sáº½ giÃºp báº¡n focus vÃ o Ä‘iá»u quan trá»ng nháº¥t.',
        experiencerDesc: 'Báº¡n tin cuá»™c sá»‘ng lÃ  Ä‘á»ƒ tráº£i nghiá»‡m. Moni sáº½ giÃºp báº¡n balance giá»¯a táº­n hÆ°á»Ÿng vÃ  Ä‘áº£m báº£o tÆ°Æ¡ng lai.',
        giverDesc: 'Niá»m vui cá»§a báº¡n lÃ  mang láº¡i niá»m vui cho ngÆ°á»i khÃ¡c. Moni sáº½ nháº¯c báº¡n cÅ©ng cáº§n invest vÃ o báº£n thÃ¢n.',
        plannerDesc: 'Báº¡n cÃ³ ká»· luáº­t tÃ i chÃ­nh tá»‘t. Moni sáº½ giÃºp báº¡n optimize hÆ¡n ná»¯a vÃ  celebrate nhá»¯ng progress nhá».',
        // Archetype quotes
        dreamerQuote1: 'Æ¯á»›c mÆ¡ thÃ nh hiá»‡n thá»±c, tá»«ng bÆ°á»›c nhá» âœ¨',
        dreamerQuote2: 'Táº§m nhÃ¬n cá»§a báº¡n lÃ  kim chá»‰ nam ğŸŒŸ',
        dreamerQuote3: 'Äiá»u lá»›n lao báº¯t Ä‘áº§u tá»« tiáº¿t kiá»‡m nhá» ğŸ’«',
        experiencerQuote1: 'Cuá»™c sá»‘ng lÃ  nhá»¯ng khoáº£nh kháº¯c Ä‘Ã¡ng giÃ¡ ğŸ¢',
        experiencerQuote2: 'PhiÃªu lÆ°u Ä‘ang chá», báº¡n Ä‘ang chuáº©n bá»‹ tá»‘t! ğŸŒˆ',
        experiencerQuote3: 'Má»—i láº§n tiáº¿t kiá»‡m Ä‘Æ°a tráº£i nghiá»‡m gáº§n hÆ¡n ğŸ¯',
        giverQuote1: 'Sá»± rá»™ng rÃ£i báº¯t Ä‘áº§u tá»« tá»± chÄƒm sÃ³c ğŸ’',
        giverQuote2: 'Äeo máº·t náº¡ oxy cho mÃ¬nh trÆ°á»›c Ä‘Ã£ ğŸ¤',
        giverQuote3: 'TÃ i chÃ­nh vá»¯ng giÃºp báº¡n cho Ä‘i nhiá»u hÆ¡n ğŸ’•',
        plannerQuote1: 'Má»i chi tiáº¿t Ä‘á»u quan trá»ng, báº¡n Ä‘ang on track ğŸ“‹',
        plannerQuote2: 'Tiáº¿n bá»™ cÃ³ há»‡ thá»‘ng dáº«n Ä‘áº¿n thÃ nh cÃ´ng ğŸ¯',
        plannerQuote3: 'Káº¿ hoáº¡ch cá»§a báº¡n Ä‘ang hoáº¡t Ä‘á»™ng tuyá»‡t vá»i âœ…',
        // Celebration translations
        firstExpenseTitle: 'Chi tiÃªu Ä‘áº§u tiÃªn!',
        firstExpenseDesc: 'Báº¡n Ä‘ang trÃªn Ä‘Æ°á»ng Ä‘i!',
        tenExpensesTitle: 'NgÃ y cÃ ng tá»• chá»©c!',
        tenExpensesDesc: 'ÄÃ£ ghi 10 khoáº£n chi!',
        goalCompleteDesc: 'ThÃ nh tá»±u tuyá»‡t vá»i!',
        keepGoingDesc: 'Tiáº¿p tá»¥c nhÃ©!',
        toward: 'hÆ°á»›ng tá»›i',
        dayStreak: 'NgÃ y liÃªn tá»¥c',
        streakDesc: 'Báº¡n Ä‘ang chÃ¡y!',
        days: 'ngÃ y',
        // Moni mood messages
        moniCelebrating: 'Woohoo! Báº¡n lÃ m Ä‘Æ°á»£c rá»“i!',
        moniHappy: 'NgÃ y tuyá»‡t vá»i!',
        moniExcited: 'Báº¡n Ä‘ang lÃ m tá»‘t láº¯m!',
        moniProud: 'NhÃ¬n tiáº¿n Ä‘á»™ kÃ¬a!',
        moniEncouraging: 'Khá»Ÿi Ä‘áº§u má»›i hÃ´m nay!',
        moniCalm: 'CÃ¢n báº±ng vÃ  á»•n Ä‘á»‹nh.',
        moniFriendly: 'ChÃ o báº¡n!',
        moniSupportive: 'NgÃ y mai lÃ  ngÃ y má»›i!',
        // Archetype goal UI
        dreamGoal: 'Má»¥c tiÃªu mÆ¡ Æ°á»›c',
        dreamerGoalQuote1: 'Giáº¥c mÆ¡ Ä‘ang thÃ nh hÃ¬nh âœ¨',
        dreamerGoalQuote2: 'Tá»«ng bÆ°á»›c Ä‘Æ°a báº¡n gáº§n hÆ¡n ğŸŒŸ',
        bringDreamCloser: 'ÄÆ°a giáº¥c mÆ¡ gáº§n hÆ¡n',
        dreamAchieved: 'Giáº¥c mÆ¡ thÃ nh hiá»‡n thá»±c',
        breakdown: 'Chi tiáº¿t',
        week: 'tuáº§n',
        day: 'ngÃ y',
        monthly: 'HÃ ng thÃ¡ng',
        giverTripImpact: 'Táº¡o ká»· niá»‡m vá»›i ngÆ°á»i thÃ¢n',
        giverEmergencyImpact: 'Sáºµn sÃ ng khi ai Ä‘Ã³ cáº§n báº¡n',
        giverDefaultImpact: 'Cho trÃ¡i tim rá»™ng lÆ°á»£ng',
        yourProgress: 'Tiáº¿n Ä‘á»™',
        toGo: 'cÃ²n láº¡i',
        addToGiving: 'ThÃªm vÃ o quá»¹ yÃªu thÆ°Æ¡ng',
        readyToGive: 'Sáºµn sÃ ng cho Ä‘i',
        adventure: 'CUá»˜C PHIÃŠU LÆ¯U',
        fundedSoFar: 'Ä‘Ã£ gÃ³p',
        monthsToGo: 'thÃ¡ng ná»¯a',
        fundAdventure: 'GÃ³p quá»¹ phiÃªu lÆ°u',
        adventureReady: 'Sáºµn sÃ ng phiÃªu lÆ°u',
        // Income Step
        incomeTitle: 'Thu nháº­p hÃ ng thÃ¡ng',
        incomeDesc: 'Äá»ƒ Moni tÃ­nh Ä‘Æ°á»£c báº¡n cÃ³ thá»ƒ tiÃªu thoáº£i mÃ¡i bao nhiÃªu má»—i thÃ¡ng.',
        privacyNote: 'ThÃ´ng tin Ä‘Æ°á»£c báº£o máº­t vÃ  chá»‰ lÆ°u trÃªn thiáº¿t bá»‹',
        smartInputHint: 'ğŸ’¡ Nháº­p tá»± nhiÃªn: 15tr, 15 triá»‡u, 500k, 500 nghÃ¬n...',
        // Fixed Expenses Step
        fixedTitle: 'Chi phÃ­ cá»‘ Ä‘á»‹nh hÃ ng thÃ¡ng',
        fixedDesc: 'Nhá»¯ng khoáº£n pháº£i tráº£ Ä‘á»u Ä‘áº·n. Nháº­p sá»‘ tiá»n hoáº·c xÃ³a náº¿u khÃ´ng cÃ³.',
        addOther: 'ThÃªm khoáº£n khÃ¡c',
        totalFixed: 'Tá»•ng chi phÃ­ cá»‘ Ä‘á»‹nh',
        addFixedTitle: 'â• ThÃªm chi phÃ­ cá»‘ Ä‘á»‹nh',
        expenseName: 'TÃªn khoáº£n chi',
        expenseNamePlaceholder: 'VD: Gym, Netflix, Há»c phÃ­...',
        amountPerMonth: 'Sá»‘ tiá»n / thÃ¡ng',
        add: 'ThÃªm',
        // Goals Step
        goalsTitle: 'Báº¡n Ä‘ang hÆ°á»›ng tá»›i Ä‘iá»u gÃ¬?',
        goalsDesc: 'Chá»n 1-3 má»¥c tiÃªu. Moni sáº½ giÃºp báº¡n theo dÃµi tiáº¿n Ä‘á»™.',
        createOwn: 'Tá»± táº¡o',
        createGoalTitle: 'âœ¨ Táº¡o má»¥c tiÃªu má»›i',
        goalName: 'TÃªn má»¥c tiÃªu',
        goalNamePlaceholder: 'VD: iPhone má»›i, KhÃ³a há»c, Xe Ä‘áº¡p...',
        amountNeeded: 'Sá»‘ tiá»n cáº§n',
        addGoal: 'ThÃªm má»¥c tiÃªu',
        // Allocation Step
        allocationTitle: 'Má»—i thÃ¡ng dÃ nh bao nhiÃªu?',
        allocationDesc: 'Chá»n sá»‘ tiá»n báº¡n muá»‘n Ä‘á»ƒ dÃ nh cho má»—i má»¥c tiÃªu hÃ ng thÃ¡ng.',
        target: 'Má»¥c tiÃªu',
        perMonth: '/ thÃ¡ng',
        reachGoalIn: 'Äáº¡t má»¥c tiÃªu trong',
        months: 'thÃ¡ng',
        income: 'Thu nháº­p',
        fixedExpenses: 'Chi phÃ­ cá»‘ Ä‘á»‹nh',
        savingForGoals: 'Äá»ƒ dÃ nh cho goals',
        spendComfortably: 'TiÃªu thoáº£i mÃ¡i',
        finish: 'HoÃ n táº¥t â†’',
        // Main App
        hey: 'Hey,',
        spendableLabel: 'TiÃªu thoáº£i mÃ¡i',
        daysLeft: 'ngÃ y ná»¯a',
        remaining: 'cÃ²n',
        goalTarget: 'Má»¥c tiÃªu',
        actual: 'Thá»±c táº¿',
        today: 'HÃ´m nay',
        yesterday: 'HÃ´m qua',
        thisMonth: 'ThÃ¡ng nÃ y',
        seeAll: 'Xem táº¥t cáº£',
        askPlaceholder: 'Muá»‘n mua gÃ¬?',
        askHint: 'Há»i Moni trÆ°á»›c khi tiÃªu',
        addExpenseTitle: 'âœï¸ ThÃªm chi tiÃªu',
        expenseTextPlaceholder: 'VD: Cafe 50k, Grab 85k, CÆ¡m 45k...',
        expenseTextHint: 'ğŸ’¡ GÃµ tÃªn + sá»‘ tiá»n, AI sáº½ tá»± phÃ¢n loáº¡i',
        name: 'TÃªn',
        namePlaceholderExpense: 'VD: Cafe, Grab, Ä‚n trÆ°a...',
        amount: 'Sá»‘ tiá»n',
        addExpense: 'ThÃªm chi tiÃªu',
        expense: 'Chi tiÃªu',
        enterValidAmount: 'Vui lÃ²ng nháº­p sá»‘ tiá»n há»£p lá»‡',
        viewAll: 'Xem danh má»¥c',
        hideCategories: 'áº¨n danh má»¥c',
        noExpensesYet: 'ChÆ°a cÃ³ chi tiÃªu nÃ o hÃ´m nay',
        noGoalsYet: 'ChÆ°a cÃ³ má»¥c tiÃªu nÃ o',
        goalsWillAppear: 'Má»¥c tiÃªu sáº½ hiá»ƒn thá»‹ á»Ÿ Ä‘Ã¢y',
        deposit: 'Gá»­i tiá»n',
        goalAchieved: 'Äáº¡t má»¥c tiÃªu',
        enterDepositAmount: 'Nháº­p sá»‘ tiá»n gá»­i',
        enterWithdrawAmount: 'Nháº­p sá»‘ tiá»n rÃºt',
        remaining: 'CÃ²n láº¡i',
        available: 'CÃ³ sáºµn',
        setAllocation: 'Äáº·t má»¥c tiÃªu hÃ ng thÃ¡ng',
        expensesWillAppear: 'Chi tiÃªu sáº½ hiá»ƒn thá»‹ á»Ÿ Ä‘Ã¢y',
        saved: 'Ä‘Ã£ tiáº¿t kiá»‡m',
        total: 'Tá»•ng',
        afterPurchase: 'Sau khi mua:',
        leftRemaining: 'cÃ²n láº¡i',
        bought: 'Mua rá»“i âœ“',
        cancel: 'ThÃ´i',
        close: 'ÄÃ³ng',
        home: 'Home',
        goals: 'Goals',
        history: 'History',
        // Fixed expenses names
        rent: 'Tiá»n nhÃ ',
        electric: 'Äiá»‡n',
        water: 'NÆ°á»›c',
        internet: 'Internet',
        phone: 'Äiá»‡n thoáº¡i',
        insurance: 'Báº£o hiá»ƒm',
        // Goals names
        laptop: 'Laptop',
        phoneGoal: 'Äiá»‡n thoáº¡i',
        trip: 'Du lá»‹ch',
        bike: 'Xe mÃ¡y',
        emergency: 'Quá»¹ kháº©n cáº¥p',
        wedding: 'ÄÃ¡m cÆ°á»›i',
        // Chat
        notUnderstand: 'Moni chÆ°a hiá»ƒu láº¯m. Báº¡n thá»­ nháº­p kiá»ƒu "Cafe 50k" hoáº·c "Grab 85k" nhÃ©! ğŸ˜Š',
        buyIt: 'mua Ä‘i!',
        okToBuy: 'Ä‘Æ°á»£c thÃ´i!',
        tooMuch: 'hÆ¡i nhiá»u Ä‘Ã³!',
        onlyPercent: 'Chá»‰',
        budget: 'ngÃ¢n sÃ¡ch',
        comfortable: 'thoáº£i mÃ¡i!',
        considerIt: 'CÃ¢n nháº¯c chÃºt nhÃ©.',
        areYouSure: 'Báº¡n cháº¯c chá»©?',
        percentOfBudget: 'ngÃ¢n sÃ¡ch cÃ²n láº¡i.',
        // B1: Permission Engine
        mayAffectGoals: 'CÃ³ thá»ƒ áº£nh hÆ°á»Ÿng má»¥c tiÃªu',
        noGoalImpact: 'KhÃ´ng áº£nh hÆ°á»Ÿng má»¥c tiÃªu',
        // B2: Future Self Visualization
        addFutureSelfNote: 'Viáº¿t vá» tÆ°Æ¡ng lai cá»§a báº¡n...',
        futureSelfPrompt: 'Táº¡i sao báº¡n muá»‘n Ä‘iá»u nÃ y? MÃ´ táº£ báº£n thÃ¢n tÆ°Æ¡ng lai:',
        // B3: Analytics
        analytics: 'Thá»‘ng kÃª',
        relationships: 'Káº¿t ná»‘i',
        selfCare: 'Báº£n thÃ¢n',
        necessities: 'Thiáº¿t yáº¿u',
        thisMonthSpending: 'Chi tiÃªu thÃ¡ng nÃ y',
        meaningAttached: 'Ã nghÄ©a chi tiÃªu',
        relationshipsFocus: 'XÃ¢y dá»±ng má»‘i quan há»‡',
        selfCareFocus: 'Äáº§u tÆ° cho báº£n thÃ¢n',
        necessitiesFocus: 'Chi phÃ­ cáº§n thiáº¿t',
        noDataYet: 'ChÆ°a cÃ³ dá»¯ liá»‡u chi tiÃªu',
        // B4: Peace of Mind Indicator
        paceOkay: 'Äang okay',
        paceGood: 'Váº«n á»•n',
        paceWatch: 'ChÃº Ã½ chÃºt',
        onPace: 'váº«n Ä‘Ãºng pace',
        slowDown: 'nÃªn cháº­m láº¡i',
        // B5: Settings
        settings: 'CÃ i Ä‘áº·t',
        edit: 'Sá»­a',
        redo: 'LÃ m láº¡i',
        reset: 'XÃ³a',
        month: 'thÃ¡ng',
        enterIncome: 'Nháº­p thu nháº­p hÃ ng thÃ¡ng:',
        goalsAllocation: 'Goals & Allocation',
        monthlyAllocation: 'Äá»ƒ dÃ nh hÃ ng thÃ¡ng',
        personality: 'TÃ­nh cÃ¡ch',
        languageLabel: 'NgÃ´n ngá»¯',
        noFixedExpenses: 'KhÃ´ng cÃ³ chi phÃ­ cá»‘ Ä‘á»‹nh',
        noGoals: 'ChÆ°a cÃ³ má»¥c tiÃªu',
        resetData: 'XÃ³a dá»¯ liá»‡u',
        resetWarning: 'Báº¯t Ä‘áº§u láº¡i tá»« Ä‘áº§u',
        redoQuizConfirm: 'LÃ m láº¡i quiz tÃ­nh cÃ¡ch? Káº¿t quáº£ hiá»‡n táº¡i sáº½ bá»‹ thay tháº¿.',
        selectLanguage: 'Chá»n ngÃ´n ngá»¯',
        enterNumber: 'Nháº­p sá»‘ (1-7)',
        resetConfirm: 'Báº¡n cháº¯c chá»©? Táº¥t cáº£ dá»¯ liá»‡u sáº½ bá»‹ xÃ³a.',
        resetConfirm2: 'KhÃ´ng thá»ƒ hoÃ n tÃ¡c. Tháº­t sá»± xÃ³a?',
      },
      en: {
        welcome: 'Welcome to Moni!',
        tagline: 'Manage money your way.<br>No judgment. Just support.',
        start: 'Get Started â†’',
        welcomeTitle: 'Welcome to Moni!',
        welcomeDesc: 'Moni helps you spend with intention â€” not tracking every penny, but knowing where you are on the path to your goals.',
        nameLabel: 'What should we call you?',
        namePlaceholder: 'Enter your name...',
        continue: 'Continue â†’',
        quizTitle: '4 Money Personalities',
        quizDesc: 'Which type are you? Take the quiz to find out!',
        theDreamer: 'The Dreamer',
        dreamerTag: 'Visionary',
        theExperiencer: 'The Experiencer',
        experiencerTag: 'Adventure Seeker',
        theGiver: 'The Giver',
        giverTag: 'Generous Soul',
        thePlanner: 'The Planner',
        plannerTag: 'Strategic Mind',
        quizAccompany: 'ğŸ¯ Moni will support your unique style',
        startQuiz: 'Take Quiz Â· 4 questions â†’',
        skip: 'Skip',
        quiz1: 'When you receive unexpected bonus money, you usually...',
        quiz1opt1: 'Make a specific plan for it',
        quiz1opt2: 'Treat yourself right away',
        quiz1opt3: 'Think about gifts for loved ones',
        quiz1opt4: 'Dream about possibilities',
        quiz2: 'When do you overspend the most?',
        quiz2opt1: 'Going out with friends',
        quiz2opt2: 'When someone needs help',
        quiz2opt3: 'Attracted by new things',
        quiz2opt4: 'Rarely overspend',
        quiz3: 'How do you feel when thinking about money...',
        quiz3opt1: 'Excited about the future',
        quiz3opt2: 'Relaxed, living in the moment',
        quiz3opt3: 'Worried about loved ones',
        quiz3opt4: 'Feeling in control',
        quiz4: 'What describes you best?',
        quiz4opt1: 'Many dreams, hard to focus',
        quiz4opt2: 'Memories matter more than saving',
        quiz4opt3: 'Happy when helping others',
        quiz4opt4: 'Love clear plans',
        thisIsYou: 'âœ¨ This is you!',
        dreamerDesc: 'You have beautiful dreams and rich imagination. Moni will help you focus on what matters most.',
        experiencerDesc: 'You believe life is for experiencing. Moni will help you balance enjoying now and securing your future.',
        giverDesc: 'Your joy is bringing joy to others. Moni will remind you to invest in yourself too.',
        plannerDesc: 'You have great financial discipline. Moni will help you optimize further and celebrate small wins.',
        // Archetype quotes
        dreamerQuote1: 'Dreams become reality, one step at a time âœ¨',
        dreamerQuote2: 'Your vision is your compass ğŸŒŸ',
        dreamerQuote3: 'Big things start with small savings ğŸ’«',
        experiencerQuote1: 'Life is made of moments worth funding ğŸ¢',
        experiencerQuote2: 'Adventures await, you\'re preparing well! ğŸŒˆ',
        experiencerQuote3: 'Each save brings new experiences closer ğŸ¯',
        giverQuote1: 'Your generosity starts with self-care ğŸ’',
        giverQuote2: 'Secure your mask first, then help others ğŸ¤',
        giverQuote3: 'Financial wellness lets you give more ğŸ’•',
        plannerQuote1: 'Every detail matters, you\'re on track ğŸ“‹',
        plannerQuote2: 'Systematic progress leads to success ğŸ¯',
        plannerQuote3: 'Your plan is working beautifully âœ…',
        // Celebration translations
        firstExpenseTitle: 'First Expense!',
        firstExpenseDesc: 'You\'re on your way!',
        tenExpensesTitle: 'Getting Organized!',
        tenExpensesDesc: '10 expenses tracked!',
        goalCompleteDesc: 'Amazing achievement!',
        keepGoingDesc: 'Keep it up!',
        toward: 'toward',
        dayStreak: 'Day Streak',
        streakDesc: 'You\'re on fire!',
        days: 'days',
        // Moni mood messages
        moniCelebrating: 'Woohoo! You did it!',
        moniHappy: 'Great day so far!',
        moniExcited: 'You\'re on a roll!',
        moniProud: 'Look at that progress!',
        moniEncouraging: 'Fresh start today!',
        moniCalm: 'Balanced and steady.',
        moniFriendly: 'Hey there, friend!',
        moniSupportive: 'Tomorrow is a new day!',
        // Archetype goal UI
        dreamGoal: 'Dream Goal',
        dreamerGoalQuote1: 'Your dream is taking shape âœ¨',
        dreamerGoalQuote2: 'Every step brings you closer ğŸŒŸ',
        bringDreamCloser: 'Bring Dream Closer',
        dreamAchieved: 'Dream Achieved',
        breakdown: 'Breakdown',
        week: 'wk',
        day: 'day',
        monthly: 'Monthly',
        giverTripImpact: 'Create memories with loved ones',
        giverEmergencyImpact: 'Be there when others need you',
        giverDefaultImpact: 'Enable your generous heart',
        yourProgress: 'Your progress',
        toGo: 'to go',
        addToGiving: 'Add to Your Giving Fund',
        readyToGive: 'Ready to Give',
        adventure: 'ADVENTURE',
        fundedSoFar: 'funded',
        monthsToGo: 'months to go',
        fundAdventure: 'Fund This Adventure',
        adventureReady: 'Adventure Ready',
        incomeTitle: 'Monthly Income',
        incomeDesc: 'So Moni can calculate how much you can comfortably spend each month.',
        privacyNote: 'Information is secure and stored only on your device',
        smartInputHint: 'ğŸ’¡ Type naturally: 15k, 1.5m, 1.5 million...',
        fixedTitle: 'Monthly Fixed Expenses',
        fixedDesc: 'Regular payments you make. Enter amounts or remove if not applicable.',
        addOther: 'Add another',
        totalFixed: 'Total fixed expenses',
        addFixedTitle: 'â• Add fixed expense',
        expenseName: 'Expense name',
        expenseNamePlaceholder: 'E.g.: Gym, Netflix, Tuition...',
        amountPerMonth: 'Amount / month',
        add: 'Add',
        goalsTitle: 'What are you working towards?',
        goalsDesc: 'Choose 1-3 goals. Moni will help you track progress.',
        createOwn: 'Create own',
        createGoalTitle: 'âœ¨ Create new goal',
        goalName: 'Goal name',
        goalNamePlaceholder: 'E.g.: New iPhone, Course, Bicycle...',
        amountNeeded: 'Amount needed',
        addGoal: 'Add goal',
        allocationTitle: 'How much to save monthly?',
        allocationDesc: 'Choose how much you want to save for each goal monthly.',
        target: 'Target',
        perMonth: '/ month',
        reachGoalIn: 'Reach goal in',
        months: 'months',
        income: 'Income',
        fixedExpenses: 'Fixed expenses',
        savingForGoals: 'Saving for goals',
        spendComfortably: 'Spend comfortably',
        finish: 'Finish â†’',
        hey: 'Hey,',
        spendableLabel: 'Spendable',
        daysLeft: 'days left',
        remaining: 'remaining',
        goalTarget: 'Target',
        actual: 'Actual',
        today: 'Today',
        yesterday: 'Yesterday',
        thisMonth: 'This month',
        seeAll: 'See all',
        askPlaceholder: 'Want to buy something?',
        askHint: 'Ask Moni before spending',
        addExpenseTitle: 'âœï¸ Add expense',
        expenseTextPlaceholder: 'E.g.: Coffee $5, Uber $25, Lunch $15...',
        expenseTextHint: 'ğŸ’¡ Type name + amount, AI will categorize',
        name: 'Name',
        namePlaceholderExpense: 'E.g.: Coffee, Uber, Lunch...',
        amount: 'Amount',
        addExpense: 'Add expense',
        expense: 'Expense',
        enterValidAmount: 'Please enter a valid amount',
        viewAll: 'View categories',
        hideCategories: 'Hide categories',
        noExpensesYet: 'No expenses yet today',
        noGoalsYet: 'No goals yet',
        goalsWillAppear: 'Your goals will appear here',
        deposit: 'Deposit',
        goalAchieved: 'Goal achieved',
        enterDepositAmount: 'Enter deposit amount',
        enterWithdrawAmount: 'Enter withdrawal amount',
        remaining: 'Remaining',
        available: 'Available',
        setAllocation: 'Set monthly goal',
        expensesWillAppear: 'Your expenses will appear here',
        saved: 'saved',
        total: 'Total',
        afterPurchase: 'After purchase:',
        leftRemaining: 'remaining',
        bought: 'Bought âœ“',
        cancel: 'Cancel',
        close: 'Close',
        home: 'Home',
        goals: 'Goals',
        history: 'History',
        rent: 'Rent',
        electric: 'Electric',
        water: 'Water',
        internet: 'Internet',
        phone: 'Phone',
        insurance: 'Insurance',
        laptop: 'Laptop',
        phoneGoal: 'Phone',
        trip: 'Trip',
        bike: 'Motorbike',
        emergency: 'Emergency Fund',
        wedding: 'Wedding',
        notUnderstand: 'Moni doesn\'t understand. Try typing "Coffee 50k" or "Uber 85k"! ğŸ˜Š',
        buyIt: 'go for it!',
        okToBuy: 'looks good!',
        tooMuch: 'that\'s a bit much!',
        onlyPercent: 'Only',
        budget: 'budget',
        comfortable: 'comfortable!',
        considerIt: 'Consider it.',
        areYouSure: 'Are you sure?',
        percentOfBudget: 'of remaining budget.',
        // B1: Permission Engine
        mayAffectGoals: 'May slow down your goals',
        noGoalImpact: 'Won\'t affect your goals',
        // B2: Future Self Visualization
        addFutureSelfNote: 'Add a note about your future self...',
        futureSelfPrompt: 'Why do you want this? Describe your future self enjoying this goal:',
        // B3: Analytics
        analytics: 'Analytics',
        relationships: 'Relationships',
        selfCare: 'Self-care',
        necessities: 'Necessities',
        thisMonthSpending: 'This Month\'s Spending',
        meaningAttached: 'Meaning Attached',
        relationshipsFocus: 'Building connections',
        selfCareFocus: 'Investing in yourself',
        necessitiesFocus: 'Covering essentials',
        noDataYet: 'No spending data yet',
        // B4: Peace of Mind Indicator
        paceOkay: 'On track',
        paceGood: 'Doing well',
        paceWatch: 'Watch spending',
        onPace: 'on pace',
        slowDown: 'slow down a bit',
        // B5: Settings
        settings: 'Settings',
        edit: 'Edit',
        redo: 'Redo',
        reset: 'Reset',
        month: 'mo',
        enterIncome: 'Enter monthly income:',
        goalsAllocation: 'Goals & Allocation',
        monthlyAllocation: 'Monthly allocation',
        personality: 'Personality',
        languageLabel: 'Language',
        noFixedExpenses: 'No fixed expenses',
        noGoals: 'No goals set',
        resetData: 'Reset Data',
        resetWarning: 'Start fresh',
        redoQuizConfirm: 'Retake personality quiz? Your current type will be replaced.',
        selectLanguage: 'Select language',
        enterNumber: 'Enter number (1-7)',
        resetConfirm: 'Are you sure? All data will be deleted.',
        resetConfirm2: 'This cannot be undone. Really reset?',
      },
      zh: {
        welcome: 'æ¬¢è¿æ¥åˆ°Moni!',
        tagline: 'æŒ‰ç…§æ‚¨çš„æ–¹å¼ç®¡ç†é‡‘é’±ã€‚<br>ä¸è¯„åˆ¤ï¼Œåªé™ªä¼´ã€‚',
        start: 'å¼€å§‹ â†’',
        welcomeTitle: 'æ¬¢è¿æ¥åˆ°Moni!',
        welcomeDesc: 'Moniå¸®åŠ©æ‚¨æœ‰ç›®çš„åœ°æ¶ˆè´¹â€”â€”ä¸æ˜¯è¿½è¸ªæ¯ä¸€åˆ†é’±ï¼Œè€Œæ˜¯çŸ¥é“æ‚¨åœ¨å®ç°ç›®æ ‡çš„è·¯ä¸Šèµ°åˆ°å“ªé‡Œäº†ã€‚',
        nameLabel: 'æˆ‘ä»¬æ€ä¹ˆç§°å‘¼æ‚¨ï¼Ÿ',
        namePlaceholder: 'è¾“å…¥æ‚¨çš„åå­—...',
        continue: 'ç»§ç»­ â†’',
        quizTitle: '4ç§é‡‘é’±æ€§æ ¼',
        quizDesc: 'æ‚¨å±äºå“ªä¸€ç§ï¼Ÿåšæµ‹è¯•æ¥å‘ç°ï¼',
        theDreamer: 'æ¢¦æƒ³å®¶',
        dreamerTag: 'å……æ»¡æƒ³è±¡',
        theExperiencer: 'ä½“éªŒè€…',
        experiencerTag: 'è¿½æ±‚ä½“éªŒ',
        theGiver: 'ç»™äºˆè€…',
        giverTag: 'æ…·æ…¨å¤§æ–¹',
        thePlanner: 'è§„åˆ’è€…',
        plannerTag: 'æ·±æ€ç†Ÿè™‘',
        quizAccompany: 'ğŸ¯ Moniå°†ä»¥æ‚¨çš„é£æ ¼é™ªä¼´æ‚¨',
        startQuiz: 'å¼€å§‹æµ‹è¯• Â· 4ä¸ªé—®é¢˜ â†’',
        skip: 'è·³è¿‡',
        quiz1: 'å½“æ‚¨æ”¶åˆ°æ„å¤–å¥–é‡‘æ—¶ï¼Œæ‚¨é€šå¸¸...',
        quiz1opt1: 'ä¸ºå®ƒåˆ¶å®šå…·ä½“è®¡åˆ’',
        quiz1opt2: 'ç«‹å³çŠ’åŠ³è‡ªå·±',
        quiz1opt3: 'æƒ³ç€ç»™äº²äººä¹°ç¤¼ç‰©',
        quiz1opt4: 'æ¢¦æƒ³å„ç§å¯èƒ½æ€§',
        quiz2: 'æ‚¨ä»€ä¹ˆæ—¶å€™æœ€å®¹æ˜“è¶…æ”¯ï¼Ÿ',
        quiz2opt1: 'å’Œæœ‹å‹å‡ºå»ç©',
        quiz2opt2: 'æœ‰äººéœ€è¦å¸®åŠ©æ—¶',
        quiz2opt3: 'è¢«æ–°äº‹ç‰©å¸å¼•',
        quiz2opt4: 'å¾ˆå°‘è¶…æ”¯',
        quiz3: 'å½“æ‚¨æƒ³åˆ°é’±æ—¶çš„æ„Ÿå—...',
        quiz3opt1: 'å¯¹æœªæ¥æ„Ÿåˆ°å…´å¥‹',
        quiz3opt2: 'æ”¾æ¾ï¼Œæ´»åœ¨å½“ä¸‹',
        quiz3opt3: 'æ‹…å¿ƒäº²äºº',
        quiz3opt4: 'æ„Ÿè§‰åœ¨æŒæ§ä¸­',
        quiz4: 'å“ªä¸ªæœ€èƒ½æè¿°æ‚¨ï¼Ÿ',
        quiz4opt1: 'æ¢¦æƒ³å¾ˆå¤šï¼Œéš¾ä»¥ä¸“æ³¨',
        quiz4opt2: 'å›å¿†æ¯”å­˜é’±æ›´é‡è¦',
        quiz4opt3: 'å¸®åŠ©ä»–äººæ—¶æ„Ÿåˆ°å¿«ä¹',
        quiz4opt4: 'å–œæ¬¢æ¸…æ™°çš„è®¡åˆ’',
        thisIsYou: 'âœ¨ è¿™å°±æ˜¯æ‚¨ï¼',
        dreamerDesc: 'æ‚¨æœ‰ç¾ä¸½çš„æ¢¦æƒ³å’Œä¸°å¯Œçš„æƒ³è±¡åŠ›ã€‚Moniå°†å¸®åŠ©æ‚¨ä¸“æ³¨äºæœ€é‡è¦çš„äº‹æƒ…ã€‚',
        experiencerDesc: 'æ‚¨ç›¸ä¿¡ç”Ÿæ´»å°±æ˜¯è¦ä½“éªŒã€‚Moniå°†å¸®åŠ©æ‚¨åœ¨äº«å—å½“ä¸‹å’Œç¡®ä¿æœªæ¥ä¹‹é—´å–å¾—å¹³è¡¡ã€‚',
        giverDesc: 'æ‚¨çš„å¿«ä¹æ˜¯ç»™ä»–äººå¸¦æ¥å¿«ä¹ã€‚Moniä¼šæé†’æ‚¨ä¹Ÿè¦æŠ•èµ„è‡ªå·±ã€‚',
        plannerDesc: 'æ‚¨æœ‰å¾ˆå¥½çš„è´¢åŠ¡çºªå¾‹ã€‚Moniå°†å¸®åŠ©æ‚¨è¿›ä¸€æ­¥ä¼˜åŒ–å¹¶åº†ç¥å°èƒœåˆ©ã€‚',
        // Archetype quotes
        dreamerQuote1: 'æ¢¦æƒ³ä¸€æ­¥æ­¥æˆä¸ºç°å® âœ¨',
        dreamerQuote2: 'ä½ çš„æ„¿æ™¯æ˜¯ä½ çš„æŒ‡å—é’ˆ ğŸŒŸ',
        dreamerQuote3: 'å¤§äº‹ä»å°å­˜å¼€å§‹ ğŸ’«',
        experiencerQuote1: 'ç”Ÿæ´»ç”±å€¼å¾—æŠ•èµ„çš„æ—¶åˆ»ç»„æˆ ğŸ¢',
        experiencerQuote2: 'å†’é™©åœ¨ç­‰å¾…ï¼Œä½ å‡†å¤‡å¾—å¾ˆå¥½ï¼ğŸŒˆ',
        experiencerQuote3: 'æ¯æ¬¡å‚¨è“„éƒ½è®©æ–°ä½“éªŒæ›´è¿‘ ğŸ¯',
        giverQuote1: 'æ…·æ…¨ä»è‡ªæˆ‘å…³çˆ±å¼€å§‹ ğŸ’',
        giverQuote2: 'å…ˆæˆ´å¥½è‡ªå·±çš„æ°§æ°”é¢ç½© ğŸ¤',
        giverQuote3: 'è´¢åŠ¡å¥åº·è®©ä½ ç»™äºˆæ›´å¤š ğŸ’•',
        plannerQuote1: 'æ¯ä¸ªç»†èŠ‚éƒ½é‡è¦ï¼Œä½ åœ¨æ­£è½¨ä¸Š ğŸ“‹',
        plannerQuote2: 'ç³»ç»Ÿæ€§çš„è¿›æ­¥é€šå‘æˆåŠŸ ğŸ¯',
        plannerQuote3: 'ä½ çš„è®¡åˆ’è¿è¡Œå¾—å¾ˆå®Œç¾ âœ…',
        // Celebration translations
        firstExpenseTitle: 'ç¬¬ä¸€ç¬”æ”¯å‡ºï¼',
        firstExpenseDesc: 'ä½ æ­£åœ¨è·¯ä¸Šï¼',
        tenExpensesTitle: 'è¶Šæ¥è¶Šæœ‰æ¡ç†ï¼',
        tenExpensesDesc: 'å·²è®°å½•10ç¬”æ”¯å‡ºï¼',
        goalCompleteDesc: 'äº†ä¸èµ·çš„æˆå°±ï¼',
        keepGoingDesc: 'ç»§ç»­åŠ æ²¹ï¼',
        toward: 'æœå‘',
        dayStreak: 'å¤©è¿ç»­',
        streakDesc: 'ä½ å¤ªæ£’äº†ï¼',
        days: 'å¤©',
        // Moni mood messages
        moniCelebrating: 'å¤ªæ£’äº†ï¼ä½ åšåˆ°äº†ï¼',
        moniHappy: 'ç¾å¥½çš„ä¸€å¤©ï¼',
        moniExcited: 'ä½ åŠ¿ä¸å¯æŒ¡ï¼',
        moniProud: 'çœ‹çœ‹è¿™è¿›æ­¥ï¼',
        moniEncouraging: 'ä»Šå¤©æ–°å¼€å§‹ï¼',
        moniCalm: 'å¹³è¡¡ç¨³å®šã€‚',
        moniFriendly: 'å—¨ï¼Œæœ‹å‹ï¼',
        moniSupportive: 'æ˜å¤©åˆæ˜¯æ–°çš„ä¸€å¤©ï¼',
        // Archetype goal UI
        dreamGoal: 'æ¢¦æƒ³ç›®æ ‡',
        dreamerGoalQuote1: 'ä½ çš„æ¢¦æƒ³æ­£åœ¨æˆå½¢ âœ¨',
        dreamerGoalQuote2: 'æ¯ä¸€æ­¥éƒ½è®©ä½ æ›´è¿‘ ğŸŒŸ',
        bringDreamCloser: 'è®©æ¢¦æƒ³æ›´è¿‘ä¸€æ­¥',
        dreamAchieved: 'æ¢¦æƒ³æˆçœŸ',
        breakdown: 'æ˜ç»†',
        week: 'å‘¨',
        day: 'å¤©',
        monthly: 'æ¯æœˆ',
        giverTripImpact: 'ä¸äº²äººåˆ›é€ å›å¿†',
        giverEmergencyImpact: 'åœ¨ä»–äººéœ€è¦æ—¶ä¼¸å‡ºæ´æ‰‹',
        giverDefaultImpact: 'æˆå°±ä½ æ…·æ…¨çš„å¿ƒ',
        yourProgress: 'ä½ çš„è¿›åº¦',
        toGo: 'è¿˜å·®',
        addToGiving: 'æ·»åŠ åˆ°çˆ±å¿ƒåŸºé‡‘',
        readyToGive: 'å‡†å¤‡å¥½ç»™äºˆ',
        adventure: 'å†’é™©',
        fundedSoFar: 'å·²ç­¹',
        monthsToGo: 'ä¸ªæœˆå',
        fundAdventure: 'ä¸ºå†’é™©å‚¨è“„',
        adventureReady: 'å†’é™©å‡†å¤‡å°±ç»ª',
        incomeTitle: 'æœˆæ”¶å…¥',
        incomeDesc: 'è¿™æ ·Moniå¯ä»¥è®¡ç®—æ‚¨æ¯æœˆå¯ä»¥èˆ’é€‚åœ°èŠ±å¤šå°‘é’±ã€‚',
        privacyNote: 'ä¿¡æ¯å®‰å…¨ï¼Œä»…å­˜å‚¨åœ¨æ‚¨çš„è®¾å¤‡ä¸Š',
        smartInputHint: 'ğŸ’¡ è‡ªç„¶è¾“å…¥: 15k, 1.5ä¸‡, 100ä¸‡...',
        fixedTitle: 'æ¯æœˆå›ºå®šæ”¯å‡º',
        fixedDesc: 'æ‚¨å®šæœŸæ”¯ä»˜çš„è´¹ç”¨ã€‚è¾“å…¥é‡‘é¢æˆ–åˆ é™¤ä¸é€‚ç”¨çš„é¡¹ç›®ã€‚',
        addOther: 'æ·»åŠ å…¶ä»–',
        totalFixed: 'å›ºå®šæ”¯å‡ºæ€»è®¡',
        addFixedTitle: 'â• æ·»åŠ å›ºå®šæ”¯å‡º',
        expenseName: 'æ”¯å‡ºåç§°',
        expenseNamePlaceholder: 'ä¾‹å¦‚ï¼šå¥èº«æˆ¿ã€Netflixã€å­¦è´¹...',
        amountPerMonth: 'æ¯æœˆé‡‘é¢',
        add: 'æ·»åŠ ',
        goalsTitle: 'æ‚¨åœ¨è¿½æ±‚ä»€ä¹ˆï¼Ÿ',
        goalsDesc: 'é€‰æ‹©1-3ä¸ªç›®æ ‡ã€‚Moniå°†å¸®åŠ©æ‚¨è·Ÿè¸ªè¿›åº¦ã€‚',
        createOwn: 'è‡ªå®šä¹‰',
        createGoalTitle: 'âœ¨ åˆ›å»ºæ–°ç›®æ ‡',
        goalName: 'ç›®æ ‡åç§°',
        goalNamePlaceholder: 'ä¾‹å¦‚ï¼šæ–°iPhoneã€è¯¾ç¨‹ã€è‡ªè¡Œè½¦...',
        amountNeeded: 'éœ€è¦é‡‘é¢',
        addGoal: 'æ·»åŠ ç›®æ ‡',
        allocationTitle: 'æ¯æœˆå­˜å¤šå°‘ï¼Ÿ',
        allocationDesc: 'é€‰æ‹©æ‚¨æ¯æœˆæƒ³ä¸ºæ¯ä¸ªç›®æ ‡å­˜å¤šå°‘é’±ã€‚',
        target: 'ç›®æ ‡',
        perMonth: '/ æœˆ',
        reachGoalIn: 'è¾¾æˆç›®æ ‡éœ€è¦',
        months: 'ä¸ªæœˆ',
        income: 'æ”¶å…¥',
        fixedExpenses: 'å›ºå®šæ”¯å‡º',
        savingForGoals: 'ç›®æ ‡å‚¨è“„',
        spendComfortably: 'å¯è‡ªç”±æ”¯é…',
        finish: 'å®Œæˆ â†’',
        hey: 'å—¨ï¼Œ',
        spendableLabel: 'å¯æ”¯é…',
        daysLeft: 'å¤©å‰©ä½™',
        remaining: 'è¿˜æœ‰',
        goalTarget: 'ç›®æ ‡',
        actual: 'å®é™…',
        today: 'ä»Šå¤©',
        yesterday: 'æ˜¨å¤©',
        thisMonth: 'æœ¬æœˆ',
        seeAll: 'æŸ¥çœ‹å…¨éƒ¨',
        askPlaceholder: 'æƒ³ä¹°ä»€ä¹ˆï¼Ÿ',
        askHint: 'æ¶ˆè´¹å‰é—®é—®Moni',
        addExpenseTitle: 'âœï¸ æ·»åŠ æ”¯å‡º',
        expenseTextPlaceholder: 'ä¾‹å¦‚ï¼šå’–å•¡ 30å…ƒ, æ‰“è½¦ 50å…ƒ...',
        expenseTextHint: 'ğŸ’¡ è¾“å…¥åç§°+é‡‘é¢ï¼ŒAIè‡ªåŠ¨åˆ†ç±»',
        name: 'åç§°',
        namePlaceholderExpense: 'ä¾‹å¦‚ï¼šå’–å•¡ã€æ‰“è½¦ã€åˆé¤...',
        amount: 'é‡‘é¢',
        addExpense: 'æ·»åŠ æ”¯å‡º',
        expense: 'æ”¯å‡º',
        enterValidAmount: 'è¯·è¾“å…¥æœ‰æ•ˆé‡‘é¢',
        viewAll: 'æŸ¥çœ‹åˆ†ç±»',
        hideCategories: 'éšè—åˆ†ç±»',
        noExpensesYet: 'ä»Šå¤©è¿˜æ²¡æœ‰æ”¯å‡º',
        noGoalsYet: 'è¿˜æ²¡æœ‰ç›®æ ‡',
        goalsWillAppear: 'ä½ çš„ç›®æ ‡å°†æ˜¾ç¤ºåœ¨è¿™é‡Œ',
        deposit: 'å­˜æ¬¾',
        goalAchieved: 'ç›®æ ‡è¾¾æˆ',
        enterDepositAmount: 'è¾“å…¥å­˜æ¬¾é‡‘é¢',
        enterWithdrawAmount: 'è¾“å…¥å–æ¬¾é‡‘é¢',
        remaining: 'å‰©ä½™',
        available: 'å¯ç”¨',
        setAllocation: 'è®¾ç½®æ¯æœˆç›®æ ‡',
        expensesWillAppear: 'ä½ çš„æ”¯å‡ºå°†æ˜¾ç¤ºåœ¨è¿™é‡Œ',
        saved: 'å·²å­˜',
        total: 'æ€»è®¡',
        afterPurchase: 'è´­ä¹°åï¼š',
        leftRemaining: 'å‰©ä½™',
        bought: 'å·²è´­ä¹° âœ“',
        cancel: 'å–æ¶ˆ',
        close: 'å…³é—­',
        home: 'é¦–é¡µ',
        goals: 'ç›®æ ‡',
        history: 'å†å²',
        rent: 'æˆ¿ç§Ÿ',
        electric: 'ç”µè´¹',
        water: 'æ°´è´¹',
        internet: 'ç½‘è´¹',
        phone: 'è¯è´¹',
        insurance: 'ä¿é™©',
        laptop: 'ç¬”è®°æœ¬',
        phoneGoal: 'æ‰‹æœº',
        trip: 'æ—…è¡Œ',
        bike: 'æ‘©æ‰˜è½¦',
        emergency: 'åº”æ€¥åŸºé‡‘',
        wedding: 'å©šç¤¼',
        notUnderstand: 'Moniä¸å¤ªæ˜ç™½ã€‚è¯•è¯•è¾“å…¥"å’–å•¡ 50k"æˆ–"æ‰“è½¦ 85k"ï¼ğŸ˜Š',
        buyIt: 'ä¹°å§ï¼',
        okToBuy: 'å¯ä»¥ä¹°ï¼',
        tooMuch: 'æœ‰ç‚¹å¤šï¼',
        onlyPercent: 'åªæœ‰',
        budget: 'é¢„ç®—',
        comfortable: 'æ²¡é—®é¢˜ï¼',
        considerIt: 'è€ƒè™‘ä¸€ä¸‹ã€‚',
        areYouSure: 'ç¡®å®šå—ï¼Ÿ',
        percentOfBudget: 'å‰©ä½™é¢„ç®—ã€‚',
        // B1: Permission Engine
        mayAffectGoals: 'å¯èƒ½å½±å“ä½ çš„ç›®æ ‡',
        noGoalImpact: 'ä¸ä¼šå½±å“ä½ çš„ç›®æ ‡',
        // B2: Future Self Visualization
        addFutureSelfNote: 'å†™ä¸‹å…³äºæœªæ¥è‡ªå·±çš„ç¬”è®°...',
        futureSelfPrompt: 'ä¸ºä»€ä¹ˆæƒ³è¦è¿™ä¸ªï¼Ÿæè¿°äº«å—è¿™ä¸ªç›®æ ‡çš„æœªæ¥è‡ªå·±ï¼š',
        // B3: Analytics
        analytics: 'ç»Ÿè®¡',
        relationships: 'äººé™…å…³ç³»',
        selfCare: 'è‡ªæˆ‘å…³çˆ±',
        necessities: 'å¿…éœ€å“',
        thisMonthSpending: 'æœ¬æœˆæ”¯å‡º',
        meaningAttached: 'æ¶ˆè´¹æ„ä¹‰',
        relationshipsFocus: 'å»ºç«‹è”ç³»',
        selfCareFocus: 'æŠ•èµ„è‡ªå·±',
        necessitiesFocus: 'åŸºæœ¬å¼€æ”¯',
        noDataYet: 'æš‚æ— æ¶ˆè´¹æ•°æ®',
        // B4: Peace of Mind Indicator
        paceOkay: 'çŠ¶æ€è‰¯å¥½',
        paceGood: 'è¿˜ä¸é”™',
        paceWatch: 'æ³¨æ„æ”¯å‡º',
        onPace: 'è¿›åº¦æ­£å¸¸',
        slowDown: 'ç¨å¾®æ…¢ç‚¹',
        // B5: Settings
        settings: 'è®¾ç½®',
        edit: 'ç¼–è¾‘',
        redo: 'é‡åš',
        reset: 'é‡ç½®',
        month: 'æœˆ',
        enterIncome: 'è¾“å…¥æœˆæ”¶å…¥ï¼š',
        goalsAllocation: 'ç›®æ ‡å’Œåˆ†é…',
        monthlyAllocation: 'æ¯æœˆåˆ†é…',
        personality: 'æ€§æ ¼',
        languageLabel: 'è¯­è¨€',
        noFixedExpenses: 'æ— å›ºå®šæ”¯å‡º',
        noGoals: 'æœªè®¾ç½®ç›®æ ‡',
        resetData: 'é‡ç½®æ•°æ®',
        resetWarning: 'é‡æ–°å¼€å§‹',
        redoQuizConfirm: 'é‡åšæ€§æ ¼æµ‹è¯•ï¼Ÿå½“å‰ç»“æœå°†è¢«æ›¿æ¢ã€‚',
        selectLanguage: 'é€‰æ‹©è¯­è¨€',
        enterNumber: 'è¾“å…¥æ•°å­— (1-7)',
        resetConfirm: 'ç¡®å®šå—ï¼Ÿæ‰€æœ‰æ•°æ®å°†è¢«åˆ é™¤ã€‚',
        resetConfirm2: 'æ— æ³•æ’¤é”€ã€‚ç¡®å®šé‡ç½®ï¼Ÿ',
      },
      ja: {
        welcome: 'Moniã¸ã‚ˆã†ã“ãï¼',
        tagline: 'ã‚ãªãŸã‚‰ã—ã„ãŠé‡‘ã®ç®¡ç†ã€‚<br>æ‰¹åˆ¤ãªã—ã€‚ã‚µãƒãƒ¼ãƒˆã®ã¿ã€‚',
        start: 'å§‹ã‚ã‚‹ â†’',
        welcomeTitle: 'Moniã¸ã‚ˆã†ã“ãï¼',
        welcomeDesc: 'Moniã¯ç›®çš„ã‚’æŒã£ãŸæ”¯å‡ºã‚’ãŠæ‰‹ä¼ã„ã—ã¾ã™ â€” ä¸€å††ä¸€å††ã‚’è¿½è·¡ã™ã‚‹ã®ã§ã¯ãªãã€ç›®æ¨™ã¸ã®é“ã®ã‚Šã§ã©ã“ã«ã„ã‚‹ã‹ã‚’æŠŠæ¡ã—ã¾ã™ã€‚',
        nameLabel: 'ãŠåå‰ã¯ä½•ã§ã™ã‹ï¼Ÿ',
        namePlaceholder: 'ãŠåå‰ã‚’å…¥åŠ›...',
        continue: 'ç¶šã‘ã‚‹ â†’',
        quizTitle: '4ã¤ã®ãƒãƒãƒ¼æ€§æ ¼',
        quizDesc: 'ã‚ãªãŸã¯ã©ã®ã‚¿ã‚¤ãƒ—ï¼Ÿã‚¯ã‚¤ã‚ºã§ç™ºè¦‹ï¼',
        theDreamer: 'ãƒ‰ãƒªãƒ¼ãƒãƒ¼',
        dreamerTag: 'å¤¢è¦‹ã‚‹äºº',
        theExperiencer: 'ã‚¨ã‚¯ã‚¹ãƒšãƒªã‚¨ãƒ³ã‚µãƒ¼',
        experiencerTag: 'ä½“é¨“è€…',
        theGiver: 'ã‚®ãƒãƒ¼',
        giverTag: 'ä¸ãˆã‚‹äºº',
        thePlanner: 'ãƒ—ãƒ©ãƒ³ãƒŠãƒ¼',
        plannerTag: 'è¨ˆç”»è€…',
        quizAccompany: 'ğŸ¯ Moniã¯ã‚ãªãŸã®ã‚¹ã‚¿ã‚¤ãƒ«ã§ã‚µãƒãƒ¼ãƒˆã—ã¾ã™',
        startQuiz: 'ã‚¯ã‚¤ã‚ºã‚’å§‹ã‚ã‚‹ Â· 4å• â†’',
        skip: 'ã‚¹ã‚­ãƒƒãƒ—',
        quiz1: 'äºˆæœŸã›ã¬ãƒœãƒ¼ãƒŠã‚¹ã‚’ã‚‚ã‚‰ã£ãŸã¨ãã€ã‚ãªãŸã¯...',
        quiz1opt1: 'å…·ä½“çš„ãªè¨ˆç”»ã‚’ç«‹ã¦ã‚‹',
        quiz1opt2: 'ã™ãã«è‡ªåˆ†ã«ã”è¤’ç¾',
        quiz1opt3: 'å¤§åˆ‡ãªäººã¸ã®ãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆã‚’è€ƒãˆã‚‹',
        quiz1opt4: 'å¯èƒ½æ€§ã‚’å¤¢è¦‹ã‚‹',
        quiz2: 'ã„ã¤ä¸€ç•ªä½¿ã„ã™ãã¾ã™ã‹ï¼Ÿ',
        quiz2opt1: 'å‹é”ã¨éŠã¶ã¨ã',
        quiz2opt2: 'èª°ã‹ãŒåŠ©ã‘ã‚’å¿…è¦ã¨ã—ã¦ã„ã‚‹ã¨ã',
        quiz2opt3: 'æ–°ã—ã„ã‚‚ã®ã«æƒ¹ã‹ã‚ŒãŸã¨ã',
        quiz2opt4: 'ã‚ã£ãŸã«ä½¿ã„ã™ããªã„',
        quiz3: 'ãŠé‡‘ã®ã“ã¨ã‚’è€ƒãˆã‚‹ã¨ã...',
        quiz3opt1: 'æœªæ¥ã«ãƒ¯ã‚¯ãƒ¯ã‚¯',
        quiz3opt2: 'ãƒªãƒ©ãƒƒã‚¯ã‚¹ã€ä»Šã‚’ç”Ÿãã‚‹',
        quiz3opt3: 'å¤§åˆ‡ãªäººãŒå¿ƒé…',
        quiz3opt4: 'ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã—ã¦ã„ã‚‹æ„Ÿè¦š',
        quiz4: 'ã‚ãªãŸã‚’æœ€ã‚‚ã‚ˆãè¡¨ã™ã®ã¯ï¼Ÿ',
        quiz4opt1: 'å¤¢ãŒãŸãã•ã‚“ã€é›†ä¸­ã—ã«ãã„',
        quiz4opt2: 'æ€ã„å‡ºã¯è²¯é‡‘ã‚ˆã‚Šå¤§åˆ‡',
        quiz4opt3: 'äººã‚’åŠ©ã‘ã‚‹ã¨å¬‰ã—ã„',
        quiz4opt4: 'æ˜ç¢ºãªè¨ˆç”»ãŒå¥½ã',
        thisIsYou: 'âœ¨ ã“ã‚ŒãŒã‚ãªãŸã§ã™ï¼',
        dreamerDesc: 'ç¾ã—ã„å¤¢ã¨è±Šã‹ãªæƒ³åƒåŠ›ã‚’æŒã£ã¦ã„ã¾ã™ã€‚Moniã¯æœ€ã‚‚å¤§åˆ‡ãªã“ã¨ã«é›†ä¸­ã™ã‚‹ãŠæ‰‹ä¼ã„ã‚’ã—ã¾ã™ã€‚',
        experiencerDesc: 'äººç”Ÿã¯ä½“é¨“ã™ã‚‹ãŸã‚ã«ã‚ã‚‹ã¨ä¿¡ã˜ã¦ã„ã¾ã™ã€‚Moniã¯ä»Šã‚’æ¥½ã—ã¿ãªãŒã‚‰å°†æ¥ã‚‚ç¢ºä¿ã™ã‚‹ãƒãƒ©ãƒ³ã‚¹ã‚’ãŠæ‰‹ä¼ã„ã—ã¾ã™ã€‚',
        giverDesc: 'ã‚ãªãŸã®å–œã³ã¯ä»–ã®äººã«å–œã³ã‚’ã‚‚ãŸã‚‰ã™ã“ã¨ã€‚Moniã¯è‡ªåˆ†è‡ªèº«ã¸ã®æŠ•è³‡ã‚‚å¿˜ã‚Œãªã„ã‚ˆã†ãƒªãƒã‚¤ãƒ³ãƒ‰ã—ã¾ã™ã€‚',
        plannerDesc: 'ç´ æ™´ã‚‰ã—ã„é‡‘èè¦å¾‹ã‚’æŒã£ã¦ã„ã¾ã™ã€‚Moniã¯ã•ã‚‰ã«æœ€é©åŒ–ã—ã€å°ã•ãªå‹åˆ©ã‚’ç¥ã†ãŠæ‰‹ä¼ã„ã‚’ã—ã¾ã™ã€‚',
        // Archetype quotes
        dreamerQuote1: 'å¤¢ã¯ä¸€æ­©ãšã¤ç¾å®Ÿã«ãªã‚‹ âœ¨',
        dreamerQuote2: 'ã‚ãªãŸã®ãƒ“ã‚¸ãƒ§ãƒ³ãŒç¾…é‡ç›¤ ğŸŒŸ',
        dreamerQuote3: 'å¤§ããªã“ã¨ã¯å°ã•ãªè²¯é‡‘ã‹ã‚‰å§‹ã¾ã‚‹ ğŸ’«',
        experiencerQuote1: 'äººç”Ÿã¯æŠ•è³‡ã«å€¤ã™ã‚‹ç¬é–“ã§ã§ãã¦ã„ã‚‹ ğŸ¢',
        experiencerQuote2: 'å†’é™ºãŒå¾…ã£ã¦ã„ã‚‹ã€æº–å‚™ä¸‡ç«¯ï¼ğŸŒˆ',
        experiencerQuote3: 'è²¯é‡‘ã™ã‚‹ãŸã³ã«æ–°ã—ã„ä½“é¨“ãŒè¿‘ã¥ã ğŸ¯',
        giverQuote1: 'å¯›å¤§ã•ã¯è‡ªå·±ã‚±ã‚¢ã‹ã‚‰å§‹ã¾ã‚‹ ğŸ’',
        giverQuote2: 'ã¾ãšè‡ªåˆ†ã®é…¸ç´ ãƒã‚¹ã‚¯ã‚’ ğŸ¤',
        giverQuote3: 'çµŒæ¸ˆçš„å¥åº·ã§ã‚‚ã£ã¨ä¸ãˆã‚‰ã‚Œã‚‹ ğŸ’•',
        plannerQuote1: 'ã™ã¹ã¦ã®è©³ç´°ãŒé‡è¦ã€é †èª¿ã§ã™ ğŸ“‹',
        plannerQuote2: 'è¨ˆç”»çš„ãªé€²æ­©ãŒæˆåŠŸã«ã¤ãªãŒã‚‹ ğŸ¯',
        plannerQuote3: 'è¨ˆç”»ã¯ç¾ã—ãæ©Ÿèƒ½ã—ã¦ã„ã¾ã™ âœ…',
        // Celebration translations
        firstExpenseTitle: 'æœ€åˆã®æ”¯å‡ºï¼',
        firstExpenseDesc: 'é †èª¿ã§ã™ï¼',
        tenExpensesTitle: 'æ•´ç†ä¸Šæ‰‹ï¼',
        tenExpensesDesc: '10ä»¶ã®æ”¯å‡ºã‚’è¨˜éŒ²ï¼',
        goalCompleteDesc: 'ç´ æ™´ã‚‰ã—ã„é”æˆï¼',
        keepGoingDesc: 'ãã®èª¿å­ï¼',
        toward: 'ã«å‘ã‘ã¦',
        dayStreak: 'æ—¥é€£ç¶š',
        streakDesc: 'çµ¶å¥½èª¿ã§ã™ï¼',
        days: 'æ—¥',
        // Moni mood messages
        moniCelebrating: 'ã‚„ã£ãŸã­ï¼ã§ãã¾ã—ãŸï¼',
        moniHappy: 'ç´ æ™´ã‚‰ã—ã„ä¸€æ—¥ï¼',
        moniExcited: 'çµ¶å¥½èª¿ã§ã™ã­ï¼',
        moniProud: 'ã“ã®é€²æ­©ã‚’è¦‹ã¦ï¼',
        moniEncouraging: 'ä»Šæ—¥ã¯æ–°ã—ã„ã‚¹ã‚¿ãƒ¼ãƒˆï¼',
        moniCalm: 'ãƒãƒ©ãƒ³ã‚¹è‰¯ãå®‰å®šã€‚',
        moniFriendly: 'ã“ã‚“ã«ã¡ã¯ã€å‹é”ï¼',
        moniSupportive: 'æ˜æ—¥ã¯æ–°ã—ã„æ—¥ï¼',
        dreamGoal: 'å¤¢ã®ç›®æ¨™',
        dreamerGoalQuote1: 'å¤¢ãŒå½¢ã«ãªã£ã¦ãã¦ã„ã¾ã™ âœ¨',
        dreamerGoalQuote2: 'ä¸€æ­©ãšã¤è¿‘ã¥ã„ã¦ã„ã¾ã™ ğŸŒŸ',
        bringDreamCloser: 'å¤¢ã‚’è¿‘ã¥ã‘ã‚‹',
        dreamAchieved: 'å¤¢ãŒå¶ã„ã¾ã—ãŸ',
        breakdown: 'å†…è¨³',
        week: 'é€±',
        day: 'æ—¥',
        monthly: 'æœˆé¡',
        giverTripImpact: 'å¤§åˆ‡ãªäººã¨ã®æ€ã„å‡ºã‚’ä½œã‚‹',
        giverEmergencyImpact: 'èª°ã‹ãŒå¿…è¦ãªæ™‚ã«ãã°ã«ã„ã‚‹',
        giverDefaultImpact: 'å¯›å¤§ãªå¿ƒã‚’æ”¯ãˆã‚‹',
        yourProgress: 'é€²æ—',
        toGo: 'æ®‹ã‚Š',
        addToGiving: 'æ€ã„ã‚„ã‚ŠåŸºé‡‘ã«è¿½åŠ ',
        readyToGive: 'ä¸ãˆã‚‹æº–å‚™å®Œäº†',
        adventure: 'ã‚¢ãƒ‰ãƒ™ãƒ³ãƒãƒ£ãƒ¼',
        fundedSoFar: 'ç©ç«‹æ¸ˆ',
        monthsToGo: 'ãƒ¶æœˆå¾Œ',
        fundAdventure: 'å†’é™ºã«æŠ•è³‡',
        adventureReady: 'å†’é™ºæº–å‚™å®Œäº†',
        incomeTitle: 'æœˆå',
        incomeDesc: 'MoniãŒæ¯æœˆå¿«é©ã«ä½¿ãˆã‚‹é‡‘é¡ã‚’è¨ˆç®—ã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚',
        privacyNote: 'æƒ…å ±ã¯å®‰å…¨ã§ã€ãƒ‡ãƒã‚¤ã‚¹ã«ã®ã¿ä¿å­˜ã•ã‚Œã¾ã™',
        smartInputHint: 'ğŸ’¡ è‡ªç„¶ã«å…¥åŠ›: 15k, 1.5ä¸‡, 100ä¸‡...',
        fixedTitle: 'æ¯æœˆã®å›ºå®šè²»',
        fixedDesc: 'å®šæœŸçš„ãªæ”¯æ‰•ã„ã€‚é‡‘é¡ã‚’å…¥åŠ›ã™ã‚‹ã‹ã€è©²å½“ã—ãªã„å ´åˆã¯å‰Šé™¤ã—ã¦ãã ã•ã„ã€‚',
        addOther: 'ä»–ã‚’è¿½åŠ ',
        totalFixed: 'å›ºå®šè²»åˆè¨ˆ',
        addFixedTitle: 'â• å›ºå®šè²»ã‚’è¿½åŠ ',
        expenseName: 'è²»ç”¨å',
        expenseNamePlaceholder: 'ä¾‹ï¼šã‚¸ãƒ ã€Netflixã€å­¦è²»...',
        amountPerMonth: 'æœˆé¡',
        add: 'è¿½åŠ ',
        goalsTitle: 'ä½•ã‚’ç›®æŒ‡ã—ã¦ã„ã¾ã™ã‹ï¼Ÿ',
        goalsDesc: '1-3å€‹ã®ç›®æ¨™ã‚’é¸æŠã€‚MoniãŒé€²æ—ã‚’è¿½è·¡ã—ã¾ã™ã€‚',
        createOwn: 'è‡ªåˆ†ã§ä½œæˆ',
        createGoalTitle: 'âœ¨ æ–°ã—ã„ç›®æ¨™ã‚’ä½œæˆ',
        goalName: 'ç›®æ¨™å',
        goalNamePlaceholder: 'ä¾‹ï¼šæ–°ã—ã„iPhoneã€è¬›åº§ã€è‡ªè»¢è»Š...',
        amountNeeded: 'å¿…è¦é‡‘é¡',
        addGoal: 'ç›®æ¨™ã‚’è¿½åŠ ',
        allocationTitle: 'æ¯æœˆã„ãã‚‰è²¯ã‚ã‚‹ï¼Ÿ',
        allocationDesc: 'å„ç›®æ¨™ã«æ¯æœˆã„ãã‚‰è²¯ã‚ã‚‹ã‹é¸æŠã—ã¦ãã ã•ã„ã€‚',
        target: 'ç›®æ¨™',
        perMonth: '/ æœˆ',
        reachGoalIn: 'ç›®æ¨™é”æˆã¾ã§',
        months: 'ãƒ¶æœˆ',
        income: 'åå…¥',
        fixedExpenses: 'å›ºå®šè²»',
        savingForGoals: 'ç›®æ¨™è²¯é‡‘',
        spendComfortably: 'è‡ªç”±ã«ä½¿ãˆã‚‹',
        finish: 'å®Œäº† â†’',
        hey: 'ã‚„ã‚ã€',
        spendableLabel: 'ä½¿ãˆã‚‹é‡‘é¡',
        daysLeft: 'æ—¥æ®‹ã‚Š',
        remaining: 'æ®‹ã‚Š',
        goalTarget: 'ç›®æ¨™',
        actual: 'å®Ÿéš›',
        today: 'ä»Šæ—¥',
        yesterday: 'æ˜¨æ—¥',
        thisMonth: 'ä»Šæœˆ',
        seeAll: 'ã™ã¹ã¦è¦‹ã‚‹',
        askPlaceholder: 'ä½•ã‚’è²·ã„ãŸã„ï¼Ÿ',
        askHint: 'ä½¿ã†å‰ã«Moniã«èã„ã¦',
        addExpenseTitle: 'âœï¸ æ”¯å‡ºã‚’è¿½åŠ ',
        expenseTextPlaceholder: 'ä¾‹ï¼šã‚³ãƒ¼ãƒ’ãƒ¼ 500å††, ã‚¿ã‚¯ã‚·ãƒ¼ 2000å††...',
        expenseTextHint: 'ğŸ’¡ åå‰+é‡‘é¡ã‚’å…¥åŠ›ã€AIãŒè‡ªå‹•åˆ†é¡',
        name: 'åå‰',
        namePlaceholderExpense: 'ä¾‹ï¼šã‚³ãƒ¼ãƒ’ãƒ¼ã€ã‚¿ã‚¯ã‚·ãƒ¼ã€ãƒ©ãƒ³ãƒ...',
        amount: 'é‡‘é¡',
        addExpense: 'æ”¯å‡ºã‚’è¿½åŠ ',
        expense: 'æ”¯å‡º',
        enterValidAmount: 'æœ‰åŠ¹ãªé‡‘é¡ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„',
        viewAll: 'ã‚«ãƒ†ã‚´ãƒªã‚’è¦‹ã‚‹',
        hideCategories: 'ã‚«ãƒ†ã‚´ãƒªã‚’éš ã™',
        noExpensesYet: 'ä»Šæ—¥ã¯ã¾ã æ”¯å‡ºãŒã‚ã‚Šã¾ã›ã‚“',
        noGoalsYet: 'ã¾ã ç›®æ¨™ãŒã‚ã‚Šã¾ã›ã‚“',
        goalsWillAppear: 'ç›®æ¨™ãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™',
        deposit: 'å…¥é‡‘',
        goalAchieved: 'ç›®æ¨™é”æˆ',
        enterDepositAmount: 'å…¥é‡‘é¡ã‚’å…¥åŠ›',
        enterWithdrawAmount: 'å‡ºé‡‘é¡ã‚’å…¥åŠ›',
        remaining: 'æ®‹ã‚Š',
        available: 'åˆ©ç”¨å¯èƒ½',
        setAllocation: 'æœˆé–“ç›®æ¨™ã‚’è¨­å®š',
        expensesWillAppear: 'æ”¯å‡ºãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™',
        saved: 'è²¯è“„æ¸ˆã¿',
        total: 'åˆè¨ˆ',
        afterPurchase: 'è³¼å…¥å¾Œï¼š',
        leftRemaining: 'æ®‹ã‚Š',
        bought: 'è³¼å…¥æ¸ˆã¿ âœ“',
        cancel: 'ã‚­ãƒ£ãƒ³ã‚»ãƒ«',
        close: 'é–‰ã˜ã‚‹',
        home: 'ãƒ›ãƒ¼ãƒ ',
        goals: 'ç›®æ¨™',
        history: 'å±¥æ­´',
        rent: 'å®¶è³ƒ',
        electric: 'é›»æ°—',
        water: 'æ°´é“',
        internet: 'ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆ',
        phone: 'é›»è©±',
        insurance: 'ä¿é™º',
        laptop: 'ãƒãƒ¼ãƒˆPC',
        phoneGoal: 'ã‚¹ãƒãƒ›',
        trip: 'æ—…è¡Œ',
        bike: 'ãƒã‚¤ã‚¯',
        emergency: 'ç·Šæ€¥è³‡é‡‘',
        wedding: 'çµå©šå¼',
        notUnderstand: 'Moniã¯ã‚ˆãåˆ†ã‹ã‚Šã¾ã›ã‚“ã€‚ã€Œã‚³ãƒ¼ãƒ’ãƒ¼ 50kã€ã‚„ã€Œã‚¿ã‚¯ã‚·ãƒ¼ 85kã€ã¨å…¥åŠ›ã—ã¦ã¿ã¦ãã ã•ã„ï¼ğŸ˜Š',
        buyIt: 'è²·ã£ã¡ã‚ƒãŠã†ï¼',
        okToBuy: 'å¤§ä¸ˆå¤«ï¼',
        tooMuch: 'ã¡ã‚‡ã£ã¨å¤šã„ã‹ã‚‚ï¼',
        onlyPercent: 'ãŸã£ãŸ',
        budget: 'äºˆç®—',
        comfortable: 'å•é¡Œãªã—ï¼',
        considerIt: 'è€ƒãˆã¦ã¿ã¦ã€‚',
        areYouSure: 'æœ¬å½“ã«ï¼Ÿ',
        percentOfBudget: 'æ®‹ã‚Šäºˆç®—ã®ã€‚',
        // B1: Permission Engine
        mayAffectGoals: 'ç›®æ¨™ã«å½±éŸ¿ã™ã‚‹ã‹ã‚‚',
        noGoalImpact: 'ç›®æ¨™ã«ã¯å½±éŸ¿ãªã—',
        // B2: Future Self Visualization
        addFutureSelfNote: 'æœªæ¥ã®è‡ªåˆ†ã«ã¤ã„ã¦ãƒ¡ãƒ¢ã‚’è¿½åŠ ...',
        futureSelfPrompt: 'ãªãœã“ã‚ŒãŒæ¬²ã—ã„ã®ï¼Ÿã“ã®ç›®æ¨™ã‚’é”æˆã—ãŸæœªæ¥ã®è‡ªåˆ†ã‚’æƒ³åƒã—ã¦ï¼š',
        // B3: Analytics
        analytics: 'çµ±è¨ˆ',
        relationships: 'äººé–“é–¢ä¿‚',
        selfCare: 'ã‚»ãƒ«ãƒ•ã‚±ã‚¢',
        necessities: 'å¿…éœ€å“',
        thisMonthSpending: 'ä»Šæœˆã®æ”¯å‡º',
        meaningAttached: 'æ”¯å‡ºã®æ„å‘³',
        relationshipsFocus: 'ã¤ãªãŒã‚Šã‚’ç¯‰ã',
        selfCareFocus: 'è‡ªåˆ†ã¸ã®æŠ•è³‡',
        necessitiesFocus: 'å¿…è¦çµŒè²»',
        noDataYet: 'ã¾ã æ”¯å‡ºãƒ‡ãƒ¼ã‚¿ãªã—',
        // B4: Peace of Mind Indicator
        paceOkay: 'é †èª¿',
        paceGood: 'ã„ã„æ„Ÿã˜',
        paceWatch: 'æ³¨æ„',
        onPace: 'ãƒšãƒ¼ã‚¹é€šã‚Š',
        slowDown: 'ã¡ã‚‡ã£ã¨æŠ‘ãˆã¦',
        // B5: Settings
        settings: 'è¨­å®š',
        edit: 'ç·¨é›†',
        redo: 'ã‚„ã‚Šç›´ã—',
        reset: 'ãƒªã‚»ãƒƒãƒˆ',
        month: 'æœˆ',
        enterIncome: 'æœˆåã‚’å…¥åŠ›ï¼š',
        goalsAllocation: 'ç›®æ¨™ã¨é…åˆ†',
        monthlyAllocation: 'æœˆé¡é…åˆ†',
        personality: 'æ€§æ ¼',
        languageLabel: 'è¨€èª',
        noFixedExpenses: 'å›ºå®šè²»ãªã—',
        noGoals: 'ç›®æ¨™æœªè¨­å®š',
        resetData: 'ãƒ‡ãƒ¼ã‚¿ãƒªã‚»ãƒƒãƒˆ',
        resetWarning: 'æœ€åˆã‹ã‚‰ã‚„ã‚Šç›´ã™',
        redoQuizConfirm: 'æ€§æ ¼ã‚¯ã‚¤ã‚ºã‚’ã‚„ã‚Šç›´ã—ã¾ã™ã‹ï¼Ÿç¾åœ¨ã®çµæœã¯ç½®ãæ›ãˆã‚‰ã‚Œã¾ã™ã€‚',
        selectLanguage: 'è¨€èªã‚’é¸æŠ',
        enterNumber: 'æ•°å­—ã‚’å…¥åŠ› (1-7)',
        resetConfirm: 'æœ¬å½“ã«ãƒªã‚»ãƒƒãƒˆã—ã¾ã™ã‹ï¼Ÿå…¨ãƒ‡ãƒ¼ã‚¿ãŒå‰Šé™¤ã•ã‚Œã¾ã™ã€‚',
        resetConfirm2: 'å…ƒã«æˆ»ã›ã¾ã›ã‚“ã€‚æœ¬å½“ã«ãƒªã‚»ãƒƒãƒˆï¼Ÿ',
      },
      ko: {
        welcome: 'Moniì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤!',
        tagline: 'ë‹¹ì‹ ë§Œì˜ ë°©ì‹ìœ¼ë¡œ ëˆì„ ê´€ë¦¬í•˜ì„¸ìš”.<br>íŒë‹¨ ì—†ì´. ì˜¤ì§ ì§€ì›ë§Œ.',
        start: 'ì‹œì‘í•˜ê¸° â†’',
        welcomeTitle: 'Moniì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤!',
        welcomeDesc: 'MoniëŠ” ì˜ë„ì ì¸ ì†Œë¹„ë¥¼ ë„ì™€ë“œë¦½ë‹ˆë‹¤ â€” ëª¨ë“  ëˆì„ ì¶”ì í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ëª©í‘œë¥¼ í–¥í•œ ì—¬ì •ì—ì„œ ì–´ë””ì— ìˆëŠ”ì§€ ì•Œë ¤ë“œë¦½ë‹ˆë‹¤.',
        nameLabel: 'ì´ë¦„ì´ ë­ì˜ˆìš”?',
        namePlaceholder: 'ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”...',
        continue: 'ê³„ì† â†’',
        quizTitle: '4ê°€ì§€ ëˆ ì„±ê²©',
        quizDesc: 'ë‹¹ì‹ ì€ ì–´ë–¤ ìœ í˜•ì¸ê°€ìš”? í€´ì¦ˆë¡œ ì•Œì•„ë³´ì„¸ìš”!',
        theDreamer: 'ë“œë¦¬ë¨¸',
        dreamerTag: 'ê¿ˆê¾¸ëŠ” ì‚¬ëŒ',
        theExperiencer: 'ìµìŠ¤í”¼ë¦¬ì–¸ì„œ',
        experiencerTag: 'ê²½í—˜ì„ ì¶”êµ¬í•˜ëŠ” ì‚¬ëŒ',
        theGiver: 'ê¸°ë²„',
        giverTag: 'ë² í‘¸ëŠ” ì‚¬ëŒ',
        thePlanner: 'í”Œë˜ë„ˆ',
        plannerTag: 'ê³„íší•˜ëŠ” ì‚¬ëŒ',
        quizAccompany: 'ğŸ¯ Moniê°€ ë‹¹ì‹ ì˜ ìŠ¤íƒ€ì¼ì— ë§ì¶° ë„ì™€ë“œë¦½ë‹ˆë‹¤',
        startQuiz: 'í€´ì¦ˆ ì‹œì‘ Â· 4ë¬¸í•­ â†’',
        skip: 'ê±´ë„ˆë›°ê¸°',
        quiz1: 'ì˜ˆìƒì¹˜ ëª»í•œ ë³´ë„ˆìŠ¤ë¥¼ ë°›ìœ¼ë©´, ë³´í†µ...',
        quiz1opt1: 'êµ¬ì²´ì ì¸ ê³„íšì„ ì„¸ìš´ë‹¤',
        quiz1opt2: 'ë°”ë¡œ ìì‹ ì—ê²Œ ë³´ìƒí•œë‹¤',
        quiz1opt3: 'ì‚¬ë‘í•˜ëŠ” ì‚¬ëŒ ì„ ë¬¼ì„ ìƒê°í•œë‹¤',
        quiz1opt4: 'ê°€ëŠ¥ì„±ì„ ê¿ˆê¾¼ë‹¤',
        quiz2: 'ì–¸ì œ ê°€ì¥ ê³¼ì†Œë¹„í•˜ë‚˜ìš”?',
        quiz2opt1: 'ì¹œêµ¬ë“¤ê³¼ ë†€ ë•Œ',
        quiz2opt2: 'ëˆ„êµ°ê°€ ë„ì›€ì´ í•„ìš”í•  ë•Œ',
        quiz2opt3: 'ìƒˆë¡œìš´ ê²ƒì— ëŒë¦´ ë•Œ',
        quiz2opt4: 'ê±°ì˜ ê³¼ì†Œë¹„ ì•ˆ í•¨',
        quiz3: 'ëˆì— ëŒ€í•´ ìƒê°í•  ë•Œ...',
        quiz3opt1: 'ë¯¸ë˜ì— ì„¤ë Œë‹¤',
        quiz3opt2: 'í¸ì•ˆí•˜ê²Œ, í˜„ì¬ë¥¼ ì‚°ë‹¤',
        quiz3opt3: 'ì‚¬ë‘í•˜ëŠ” ì‚¬ëŒì´ ê±±ì •ëœë‹¤',
        quiz3opt4: 'í†µì œí•˜ëŠ” ëŠë‚Œ',
        quiz4: 'ë‹¹ì‹ ì„ ê°€ì¥ ì˜ ì„¤ëª…í•˜ëŠ” ê²ƒì€?',
        quiz4opt1: 'ê¿ˆì´ ë§ê³ , ì§‘ì¤‘ì´ ì–´ë µë‹¤',
        quiz4opt2: 'ì¶”ì–µì´ ì €ì¶•ë³´ë‹¤ ì¤‘ìš”í•˜ë‹¤',
        quiz4opt3: 'ë‹¤ë¥¸ ì‚¬ëŒì„ ë„ìš°ë©´ í–‰ë³µí•˜ë‹¤',
        quiz4opt4: 'ëª…í™•í•œ ê³„íšì„ ì¢‹ì•„í•œë‹¤',
        thisIsYou: 'âœ¨ ì´ê²ƒì´ ë‹¹ì‹ ì…ë‹ˆë‹¤!',
        dreamerDesc: 'ì•„ë¦„ë‹¤ìš´ ê¿ˆê³¼ í’ë¶€í•œ ìƒìƒë ¥ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. Moniê°€ ê°€ì¥ ì¤‘ìš”í•œ ê²ƒì— ì§‘ì¤‘í•˜ë„ë¡ ë„ì™€ë“œë¦½ë‹ˆë‹¤.',
        experiencerDesc: 'ì¸ìƒì€ ê²½í—˜í•˜ê¸° ìœ„í•œ ê²ƒì´ë¼ê³  ë¯¿ìŠµë‹ˆë‹¤. Moniê°€ í˜„ì¬ë¥¼ ì¦ê¸°ë©´ì„œ ë¯¸ë˜ë„ í™•ë³´í•˜ëŠ” ê· í˜•ì„ ë„ì™€ë“œë¦½ë‹ˆë‹¤.',
        giverDesc: 'ë‹¹ì‹ ì˜ ê¸°ì¨ì€ ë‹¤ë¥¸ ì‚¬ëŒì—ê²Œ ê¸°ì¨ì„ ì£¼ëŠ” ê²ƒì…ë‹ˆë‹¤. Moniê°€ ìì‹ ì—ê²Œë„ íˆ¬ìí•˜ë¼ê³  ì•Œë ¤ë“œë¦½ë‹ˆë‹¤.',
        plannerDesc: 'í›Œë¥­í•œ ì¬ì • ê·œìœ¨ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. Moniê°€ ë” ìµœì í™”í•˜ê³  ì‘ì€ ìŠ¹ë¦¬ë¥¼ ì¶•í•˜í•˜ë„ë¡ ë„ì™€ë“œë¦½ë‹ˆë‹¤.',
        // Archetype quotes
        dreamerQuote1: 'ê¿ˆì€ í•œ ê±¸ìŒì”© í˜„ì‹¤ì´ ë©ë‹ˆë‹¤ âœ¨',
        dreamerQuote2: 'ë‹¹ì‹ ì˜ ë¹„ì „ì´ ë‚˜ì¹¨ë°˜ì…ë‹ˆë‹¤ ğŸŒŸ',
        dreamerQuote3: 'í° ì¼ì€ ì‘ì€ ì €ì¶•ì—ì„œ ì‹œì‘ë©ë‹ˆë‹¤ ğŸ’«',
        experiencerQuote1: 'ì¸ìƒì€ íˆ¬ìí•  ê°€ì¹˜ê°€ ìˆëŠ” ìˆœê°„ë“¤ë¡œ ì´ë£¨ì–´ì ¸ ìˆìŠµë‹ˆë‹¤ ğŸ¢',
        experiencerQuote2: 'ëª¨í—˜ì´ ê¸°ë‹¤ë¦¬ê³  ìˆì–´ìš”, ì˜ ì¤€ë¹„í•˜ê³  ìˆì–´ìš”! ğŸŒˆ',
        experiencerQuote3: 'ì €ì¶•í•  ë•Œë§ˆë‹¤ ìƒˆë¡œìš´ ê²½í—˜ì´ ê°€ê¹Œì›Œì§‘ë‹ˆë‹¤ ğŸ¯',
        giverQuote1: 'ê´€ëŒ€í•¨ì€ ìê¸° ê´€ë¦¬ì—ì„œ ì‹œì‘ë©ë‹ˆë‹¤ ğŸ’',
        giverQuote2: 'ë¨¼ì € ìì‹ ì˜ ì‚°ì†Œë§ˆìŠ¤í¬ë¥¼ ì“°ì„¸ìš” ğŸ¤',
        giverQuote3: 'ì¬ì • ê±´ê°•ì´ ë” ë§ì´ ì¤„ ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤ ğŸ’•',
        plannerQuote1: 'ëª¨ë“  ì„¸ë¶€ ì‚¬í•­ì´ ì¤‘ìš”í•´ìš”, ìˆœì¡°ë¡­ìŠµë‹ˆë‹¤ ğŸ“‹',
        plannerQuote2: 'ì²´ê³„ì ì¸ ì§„ì „ì´ ì„±ê³µìœ¼ë¡œ ì´ë•ë‹ˆë‹¤ ğŸ¯',
        plannerQuote3: 'ê³„íšì´ ì•„ë¦„ë‹µê²Œ ì‘ë™í•˜ê³  ìˆì–´ìš” âœ…',
        // Celebration translations
        firstExpenseTitle: 'ì²« ë²ˆì§¸ ì§€ì¶œ!',
        firstExpenseDesc: 'ì˜ í•˜ê³  ìˆì–´ìš”!',
        tenExpensesTitle: 'ì ì  ì •ë¦¬ë¼ìš”!',
        tenExpensesDesc: '10ê°œì˜ ì§€ì¶œ ê¸°ë¡!',
        goalCompleteDesc: 'ëŒ€ë‹¨í•œ ì„±ì·¨!',
        keepGoingDesc: 'ê³„ì† í™”ì´íŒ…!',
        toward: 'í–¥í•´',
        dayStreak: 'ì¼ ì—°ì†',
        streakDesc: 'ëŒ€ë‹¨í•´ìš”!',
        days: 'ì¼',
        // Moni mood messages
        moniCelebrating: 'ì™€! í•´ëƒˆì–´ìš”!',
        moniHappy: 'ì¢‹ì€ í•˜ë£¨ì˜ˆìš”!',
        moniExcited: 'ëŒ€ë‹¨í•´ìš”!',
        moniProud: 'ì´ ì§„ì „ì„ ë³´ì„¸ìš”!',
        moniEncouraging: 'ì˜¤ëŠ˜ ìƒˆë¡œìš´ ì‹œì‘!',
        moniCalm: 'ê· í˜• ì¡íŒ í•˜ë£¨.',
        moniFriendly: 'ì•ˆë…•í•˜ì„¸ìš”, ì¹œêµ¬!',
        moniSupportive: 'ë‚´ì¼ì€ ìƒˆë¡œìš´ ë‚ !',
        dreamGoal: 'ê¿ˆì˜ ëª©í‘œ',
        dreamerGoalQuote1: 'ê¿ˆì´ ëª¨ì–‘ì„ ê°–ì¶”ê³  ìˆì–´ìš” âœ¨',
        dreamerGoalQuote2: 'í•œ ê±¸ìŒì”© ê°€ê¹Œì›Œì§€ê³  ìˆì–´ìš” ğŸŒŸ',
        bringDreamCloser: 'ê¿ˆì— ê°€ê¹Œì´',
        dreamAchieved: 'ê¿ˆ ë‹¬ì„±',
        breakdown: 'ë‚´ì—­',
        week: 'ì£¼',
        day: 'ì¼',
        monthly: 'ì›”',
        giverTripImpact: 'ì‚¬ë‘í•˜ëŠ” ì‚¬ëŒê³¼ ì¶”ì–µ ë§Œë“¤ê¸°',
        giverEmergencyImpact: 'ëˆ„êµ°ê°€ í•„ìš”í•  ë•Œ í•¨ê»˜í•˜ê¸°',
        giverDefaultImpact: 'ê´€ëŒ€í•œ ë§ˆìŒì„ í¼ì¹˜ê¸°',
        yourProgress: 'ì§„í–‰ ìƒí™©',
        toGo: 'ë‚¨ìŒ',
        addToGiving: 'ë‚˜ëˆ” ê¸°ê¸ˆì— ì¶”ê°€',
        readyToGive: 'ë‚˜ëˆŒ ì¤€ë¹„ ì™„ë£Œ',
        adventure: 'ëª¨í—˜',
        fundedSoFar: 'ëª¨ê¸ˆ',
        monthsToGo: 'ê°œì›” ë‚¨ìŒ',
        fundAdventure: 'ì´ ëª¨í—˜ì— íˆ¬ì',
        adventureReady: 'ëª¨í—˜ ì¤€ë¹„ ì™„ë£Œ',
        incomeTitle: 'ì›” ìˆ˜ì…',
        incomeDesc: 'Moniê°€ ë§¤ì›” í¸ì•ˆí•˜ê²Œ ì“¸ ìˆ˜ ìˆëŠ” ê¸ˆì•¡ì„ ê³„ì‚°í•  ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤.',
        privacyNote: 'ì •ë³´ëŠ” ì•ˆì „í•˜ë©° ê¸°ê¸°ì—ë§Œ ì €ì¥ë©ë‹ˆë‹¤',
        smartInputHint: 'ğŸ’¡ ìì—°ìŠ¤ëŸ½ê²Œ ì…ë ¥: 15k, 1.5ë§Œ, 100ë§Œ...',
        fixedTitle: 'ì›” ê³ ì • ì§€ì¶œ',
        fixedDesc: 'ì •ê¸°ì ì¸ ì§€ì¶œì…ë‹ˆë‹¤. ê¸ˆì•¡ì„ ì…ë ¥í•˜ê±°ë‚˜ í•´ë‹¹ë˜ì§€ ì•Šìœ¼ë©´ ì‚­ì œí•˜ì„¸ìš”.',
        addOther: 'ë‹¤ë¥¸ í•­ëª© ì¶”ê°€',
        totalFixed: 'ê³ ì • ì§€ì¶œ í•©ê³„',
        addFixedTitle: 'â• ê³ ì • ì§€ì¶œ ì¶”ê°€',
        expenseName: 'ì§€ì¶œ ì´ë¦„',
        expenseNamePlaceholder: 'ì˜ˆ: í—¬ìŠ¤ì¥, ë„·í”Œë¦­ìŠ¤, í•™ë¹„...',
        amountPerMonth: 'ì›” ê¸ˆì•¡',
        add: 'ì¶”ê°€',
        goalsTitle: 'ë¬´ì—‡ì„ í–¥í•´ ë‚˜ì•„ê°€ê³  ìˆë‚˜ìš”?',
        goalsDesc: '1-3ê°œ ëª©í‘œë¥¼ ì„ íƒí•˜ì„¸ìš”. Moniê°€ ì§„í–‰ ìƒí™©ì„ ì¶”ì í•©ë‹ˆë‹¤.',
        createOwn: 'ì§ì ‘ ë§Œë“¤ê¸°',
        createGoalTitle: 'âœ¨ ìƒˆ ëª©í‘œ ë§Œë“¤ê¸°',
        goalName: 'ëª©í‘œ ì´ë¦„',
        goalNamePlaceholder: 'ì˜ˆ: ìƒˆ ì•„ì´í°, ê°•ì¢Œ, ìì „ê±°...',
        amountNeeded: 'í•„ìš” ê¸ˆì•¡',
        addGoal: 'ëª©í‘œ ì¶”ê°€',
        allocationTitle: 'ë§¤ì›” ì–¼ë§ˆë‚˜ ì €ì¶•í• ê¹Œìš”?',
        allocationDesc: 'ê° ëª©í‘œì— ë§¤ì›” ì–¼ë§ˆë¥¼ ì €ì¶•í• ì§€ ì„ íƒí•˜ì„¸ìš”.',
        target: 'ëª©í‘œ',
        perMonth: '/ ì›”',
        reachGoalIn: 'ëª©í‘œ ë‹¬ì„±ê¹Œì§€',
        months: 'ê°œì›”',
        income: 'ìˆ˜ì…',
        fixedExpenses: 'ê³ ì • ì§€ì¶œ',
        savingForGoals: 'ëª©í‘œ ì €ì¶•',
        spendComfortably: 'ììœ ë¡­ê²Œ ì“¸ ìˆ˜ ìˆëŠ”',
        finish: 'ì™„ë£Œ â†’',
        hey: 'ì•ˆë…•,',
        spendableLabel: 'ì“¸ ìˆ˜ ìˆëŠ” ëˆ',
        daysLeft: 'ì¼ ë‚¨ìŒ',
        remaining: 'ë‚¨ì€',
        goalTarget: 'ëª©í‘œ',
        actual: 'ì‹¤ì œ',
        today: 'ì˜¤ëŠ˜',
        yesterday: 'ì–´ì œ',
        thisMonth: 'ì´ë²ˆ ë‹¬',
        seeAll: 'ëª¨ë‘ ë³´ê¸°',
        askPlaceholder: 'ë­˜ ì‚¬ê³  ì‹¶ì–´ìš”?',
        askHint: 'ì“°ê¸° ì „ì— Moniì—ê²Œ ë¬¼ì–´ë³´ì„¸ìš”',
        addExpenseTitle: 'âœï¸ ì§€ì¶œ ì¶”ê°€',
        expenseTextPlaceholder: 'ì˜ˆ: ì»¤í”¼ 5000ì›, íƒì‹œ 15000ì›...',
        expenseTextHint: 'ğŸ’¡ ì´ë¦„+ê¸ˆì•¡ ì…ë ¥, AIê°€ ìë™ ë¶„ë¥˜',
        name: 'ì´ë¦„',
        namePlaceholderExpense: 'ì˜ˆ: ì»¤í”¼, íƒì‹œ, ì ì‹¬...',
        amount: 'ê¸ˆì•¡',
        addExpense: 'ì§€ì¶œ ì¶”ê°€',
        expense: 'ì§€ì¶œ',
        enterValidAmount: 'ìœ íš¨í•œ ê¸ˆì•¡ì„ ì…ë ¥í•˜ì„¸ìš”',
        viewAll: 'ì¹´í…Œê³ ë¦¬ ë³´ê¸°',
        hideCategories: 'ì¹´í…Œê³ ë¦¬ ìˆ¨ê¸°ê¸°',
        noExpensesYet: 'ì˜¤ëŠ˜ ì•„ì§ ì§€ì¶œì´ ì—†ìŠµë‹ˆë‹¤',
        noGoalsYet: 'ì•„ì§ ëª©í‘œê°€ ì—†ìŠµë‹ˆë‹¤',
        goalsWillAppear: 'ëª©í‘œê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤',
        deposit: 'ì…ê¸ˆ',
        goalAchieved: 'ëª©í‘œ ë‹¬ì„±',
        enterDepositAmount: 'ì…ê¸ˆì•¡ ì…ë ¥',
        enterWithdrawAmount: 'ì¶œê¸ˆì•¡ ì…ë ¥',
        remaining: 'ë‚¨ì€',
        available: 'ì´ìš© ê°€ëŠ¥',
        setAllocation: 'ì›”ê°„ ëª©í‘œ ì„¤ì •',
        expensesWillAppear: 'ì§€ì¶œì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤',
        saved: 'ì €ì¶•',
        total: 'í•©ê³„',
        afterPurchase: 'êµ¬ë§¤ í›„:',
        leftRemaining: 'ë‚¨ìŒ',
        bought: 'êµ¬ë§¤í•¨ âœ“',
        cancel: 'ì·¨ì†Œ',
        close: 'ë‹«ê¸°',
        home: 'í™ˆ',
        goals: 'ëª©í‘œ',
        history: 'ê¸°ë¡',
        rent: 'ì›”ì„¸',
        electric: 'ì „ê¸°',
        water: 'ìˆ˜ë„',
        internet: 'ì¸í„°ë„·',
        phone: 'ì „í™”',
        insurance: 'ë³´í—˜',
        laptop: 'ë…¸íŠ¸ë¶',
        phoneGoal: 'íœ´ëŒ€í°',
        trip: 'ì—¬í–‰',
        bike: 'ì˜¤í† ë°”ì´',
        emergency: 'ë¹„ìƒê¸ˆ',
        wedding: 'ê²°í˜¼ì‹',
        notUnderstand: 'Moniê°€ ì´í•´í•˜ì§€ ëª»í–ˆì–´ìš”. "ì»¤í”¼ 50k" ë˜ëŠ” "íƒì‹œ 85k"ì²˜ëŸ¼ ì…ë ¥í•´ë³´ì„¸ìš”! ğŸ˜Š',
        buyIt: 'ì‚¬ì„¸ìš”!',
        okToBuy: 'ê´œì°®ì•„ìš”!',
        tooMuch: 'ì¢€ ë§ì•„ìš”!',
        onlyPercent: 'ë‹¨',
        budget: 'ì˜ˆì‚°',
        comfortable: 'í¸í•´ìš”!',
        considerIt: 'ê³ ë ¤í•´ë³´ì„¸ìš”.',
        areYouSure: 'í™•ì‹¤í•´ìš”?',
        percentOfBudget: 'ë‚¨ì€ ì˜ˆì‚°ì˜.',
        // B1: Permission Engine
        mayAffectGoals: 'ëª©í‘œì— ì˜í–¥ì„ ì¤„ ìˆ˜ ìˆì–´ìš”',
        noGoalImpact: 'ëª©í‘œì— ì˜í–¥ ì—†ì–´ìš”',
        // B2: Future Self Visualization
        addFutureSelfNote: 'ë¯¸ë˜ì˜ ë‚˜ì— ëŒ€í•œ ë©”ëª¨ ì¶”ê°€...',
        futureSelfPrompt: 'ì™œ ì´ê²ƒì„ ì›í•˜ë‚˜ìš”? ì´ ëª©í‘œë¥¼ ë‹¬ì„±í•œ ë¯¸ë˜ì˜ ë‚˜ë¥¼ ë¬˜ì‚¬í•´ë³´ì„¸ìš”:',
        // B3: Analytics
        analytics: 'í†µê³„',
        relationships: 'ì¸ê°„ê´€ê³„',
        selfCare: 'ìê¸°ê´€ë¦¬',
        necessities: 'í•„ìˆ˜í’ˆ',
        thisMonthSpending: 'ì´ë²ˆ ë‹¬ ì§€ì¶œ',
        meaningAttached: 'ì§€ì¶œì˜ ì˜ë¯¸',
        relationshipsFocus: 'ê´€ê³„ êµ¬ì¶•',
        selfCareFocus: 'ë‚˜ì—ê²Œ íˆ¬ì',
        necessitiesFocus: 'í•„ìˆ˜ ì§€ì¶œ',
        noDataYet: 'ì•„ì§ ì§€ì¶œ ë°ì´í„° ì—†ìŒ',
        // B4: Peace of Mind Indicator
        paceOkay: 'ì˜ ê°€ê³  ìˆì–´ìš”',
        paceGood: 'ê´œì°®ì•„ìš”',
        paceWatch: 'ì£¼ì˜ í•„ìš”',
        onPace: 'ì˜ˆì •ëŒ€ë¡œ',
        slowDown: 'ì¡°ê¸ˆ ì¤„ì—¬ìš”',
        // B5: Settings
        settings: 'ì„¤ì •',
        edit: 'í¸ì§‘',
        redo: 'ë‹¤ì‹œí•˜ê¸°',
        reset: 'ì´ˆê¸°í™”',
        month: 'ì›”',
        enterIncome: 'ì›” ìˆ˜ì…ì„ ì…ë ¥í•˜ì„¸ìš”:',
        goalsAllocation: 'ëª©í‘œ ë° ë°°ë¶„',
        monthlyAllocation: 'ì›” ë°°ë¶„',
        personality: 'ì„±ê²©',
        languageLabel: 'ì–¸ì–´',
        noFixedExpenses: 'ê³ ì • ì§€ì¶œ ì—†ìŒ',
        noGoals: 'ëª©í‘œ ì—†ìŒ',
        resetData: 'ë°ì´í„° ì´ˆê¸°í™”',
        resetWarning: 'ì²˜ìŒë¶€í„° ì‹œì‘',
        redoQuizConfirm: 'ì„±ê²© í€´ì¦ˆë¥¼ ë‹¤ì‹œ í•˜ì‹œê² ì–´ìš”? í˜„ì¬ ê²°ê³¼ê°€ ëŒ€ì²´ë©ë‹ˆë‹¤.',
        selectLanguage: 'ì–¸ì–´ ì„ íƒ',
        enterNumber: 'ìˆ«ì ì…ë ¥ (1-7)',
        resetConfirm: 'ì •ë§ìš”? ëª¨ë“  ë°ì´í„°ê°€ ì‚­ì œë©ë‹ˆë‹¤.',
        resetConfirm2: 'ë˜ëŒë¦´ ìˆ˜ ì—†ì–´ìš”. ì •ë§ ì´ˆê¸°í™”?',
      },
      fr: {
        welcome: 'Bienvenue sur Moni!',
        tagline: 'GÃ©rez votre argent Ã  votre faÃ§on.<br>Sans jugement. Juste du soutien.',
        start: 'Commencer â†’',
        welcomeTitle: 'Bienvenue sur Moni!',
        welcomeDesc: 'Moni vous aide Ã  dÃ©penser avec intention â€” pas en suivant chaque centime, mais en sachant oÃ¹ vous en Ãªtes sur le chemin de vos objectifs.',
        nameLabel: 'Comment vous appeler?',
        namePlaceholder: 'Entrez votre nom...',
        continue: 'Continuer â†’',
        quizTitle: '4 PersonnalitÃ©s FinanciÃ¨res',
        quizDesc: 'Quel type Ãªtes-vous? Faites le quiz pour dÃ©couvrir!',
        theDreamer: 'Le RÃªveur',
        dreamerTag: 'Visionnaire',
        theExperiencer: 'L\'ExpÃ©rimentateur',
        experiencerTag: 'Aventurier',
        theGiver: 'Le Donneur',
        giverTag: 'Ã‚me gÃ©nÃ©reuse',
        thePlanner: 'Le Planificateur',
        plannerTag: 'Esprit stratÃ©gique',
        quizAccompany: 'ğŸ¯ Moni vous accompagnera selon votre style',
        startQuiz: 'Faire le Quiz Â· 4 questions â†’',
        skip: 'Passer',
        quiz1: 'Quand vous recevez un bonus inattendu, vous...',
        quiz1opt1: 'Faites un plan prÃ©cis',
        quiz1opt2: 'Vous faites plaisir tout de suite',
        quiz1opt3: 'Pensez Ã  des cadeaux pour vos proches',
        quiz1opt4: 'RÃªvez aux possibilitÃ©s',
        quiz2: 'Quand dÃ©pensez-vous trop?',
        quiz2opt1: 'En sortant avec des amis',
        quiz2opt2: 'Quand quelqu\'un a besoin d\'aide',
        quiz2opt3: 'AttirÃ© par les nouveautÃ©s',
        quiz2opt4: 'Rarement trop dÃ©penser',
        quiz3: 'Ce que vous ressentez en pensant Ã  l\'argent...',
        quiz3opt1: 'ExcitÃ© par l\'avenir',
        quiz3opt2: 'DÃ©tendu, vivre le moment',
        quiz3opt3: 'Inquiet pour les proches',
        quiz3opt4: 'Sentiment de contrÃ´le',
        quiz4: 'Qu\'est-ce qui vous dÃ©crit le mieux?',
        quiz4opt1: 'Beaucoup de rÃªves, difficile de se concentrer',
        quiz4opt2: 'Les souvenirs comptent plus que l\'Ã©pargne',
        quiz4opt3: 'Heureux d\'aider les autres',
        quiz4opt4: 'J\'aime les plans clairs',
        thisIsYou: 'âœ¨ C\'est vous!',
        dreamerDesc: 'Vous avez de beaux rÃªves et une imagination riche. Moni vous aidera Ã  vous concentrer sur l\'essentiel.',
        experiencerDesc: 'Vous croyez que la vie est faite pour Ãªtre vÃ©cue. Moni vous aidera Ã  Ã©quilibrer plaisir et avenir.',
        giverDesc: 'Votre joie est d\'apporter de la joie aux autres. Moni vous rappellera d\'investir en vous aussi.',
        plannerDesc: 'Vous avez une excellente discipline financiÃ¨re. Moni vous aidera Ã  optimiser et cÃ©lÃ©brer les petites victoires.',
        // Archetype quotes
        dreamerQuote1: 'Les rÃªves deviennent rÃ©alitÃ©, pas Ã  pas âœ¨',
        dreamerQuote2: 'Votre vision est votre boussole ğŸŒŸ',
        dreamerQuote3: 'Les grandes choses commencent par de petites Ã©conomies ğŸ’«',
        experiencerQuote1: 'La vie est faite de moments qui valent l\'investissement ğŸ¢',
        experiencerQuote2: 'Les aventures attendent, vous vous prÃ©parez bien ! ğŸŒˆ',
        experiencerQuote3: 'Chaque Ã©conomie rapproche de nouvelles expÃ©riences ğŸ¯',
        giverQuote1: 'La gÃ©nÃ©rositÃ© commence par prendre soin de soi ğŸ’',
        giverQuote2: 'Mettez d\'abord votre masque Ã  oxygÃ¨ne ğŸ¤',
        giverQuote3: 'La santÃ© financiÃ¨re permet de donner plus ğŸ’•',
        plannerQuote1: 'Chaque dÃ©tail compte, vous Ãªtes sur la bonne voie ğŸ“‹',
        plannerQuote2: 'Le progrÃ¨s systÃ©matique mÃ¨ne au succÃ¨s ğŸ¯',
        plannerQuote3: 'Votre plan fonctionne Ã  merveille âœ…',
        // Celebration translations
        firstExpenseTitle: 'PremiÃ¨re dÃ©pense !',
        firstExpenseDesc: 'Vous Ãªtes en bonne voie !',
        tenExpensesTitle: 'De plus en plus organisÃ© !',
        tenExpensesDesc: '10 dÃ©penses suivies !',
        goalCompleteDesc: 'Accomplissement incroyable !',
        keepGoingDesc: 'Continuez !',
        toward: 'vers',
        dayStreak: 'Jours consÃ©cutifs',
        streakDesc: 'Vous Ãªtes en feu !',
        days: 'jours',
        // Moni mood messages
        moniCelebrating: 'Woohoo ! Tu l\'as fait !',
        moniHappy: 'Super journÃ©e !',
        moniExcited: 'Tu es en feu !',
        moniProud: 'Regarde ces progrÃ¨s !',
        moniEncouraging: 'Nouveau dÃ©part aujourd\'hui !',
        moniCalm: 'Ã‰quilibrÃ© et stable.',
        moniFriendly: 'Salut, ami !',
        moniSupportive: 'Demain est un nouveau jour !',
        dreamGoal: 'Objectif de rÃªve',
        dreamerGoalQuote1: 'Votre rÃªve prend forme âœ¨',
        dreamerGoalQuote2: 'Chaque pas vous rapproche ğŸŒŸ',
        bringDreamCloser: 'Rapprocher le rÃªve',
        dreamAchieved: 'RÃªve rÃ©alisÃ©',
        breakdown: 'DÃ©tails',
        week: 'sem',
        day: 'jour',
        monthly: 'Mensuel',
        giverTripImpact: 'CrÃ©er des souvenirs avec vos proches',
        giverEmergencyImpact: 'ÃŠtre lÃ  quand les autres ont besoin',
        giverDefaultImpact: 'Soutenir votre cÅ“ur gÃ©nÃ©reux',
        yourProgress: 'Votre progression',
        toGo: 'restant',
        addToGiving: 'Ajouter au fonds de gÃ©nÃ©rositÃ©',
        readyToGive: 'PrÃªt Ã  donner',
        adventure: 'AVENTURE',
        fundedSoFar: 'financÃ©',
        monthsToGo: 'mois restants',
        fundAdventure: 'Financer cette aventure',
        adventureReady: 'Aventure prÃªte',
        incomeTitle: 'Revenu Mensuel',
        incomeDesc: 'Pour que Moni calcule combien vous pouvez dÃ©penser confortablement chaque mois.',
        privacyNote: 'Les informations sont sÃ©curisÃ©es et stockÃ©es uniquement sur votre appareil',
        smartInputHint: 'ğŸ’¡ Tapez naturellement: 15k, 1.5m, 1.5 million...',
        fixedTitle: 'DÃ©penses Fixes Mensuelles',
        fixedDesc: 'Paiements rÃ©guliers. Entrez les montants ou supprimez si non applicable.',
        addOther: 'Ajouter autre',
        totalFixed: 'Total dÃ©penses fixes',
        addFixedTitle: 'â• Ajouter dÃ©pense fixe',
        expenseName: 'Nom de la dÃ©pense',
        expenseNamePlaceholder: 'Ex: Gym, Netflix, Frais de scolaritÃ©...',
        amountPerMonth: 'Montant / mois',
        add: 'Ajouter',
        goalsTitle: 'Vers quoi travaillez-vous?',
        goalsDesc: 'Choisissez 1-3 objectifs. Moni suivra votre progression.',
        createOwn: 'CrÃ©er le vÃ´tre',
        createGoalTitle: 'âœ¨ CrÃ©er nouvel objectif',
        goalName: 'Nom de l\'objectif',
        goalNamePlaceholder: 'Ex: Nouvel iPhone, Cours, VÃ©lo...',
        amountNeeded: 'Montant nÃ©cessaire',
        addGoal: 'Ajouter objectif',
        allocationTitle: 'Combien Ã©pargner par mois?',
        allocationDesc: 'Choisissez combien Ã©pargner pour chaque objectif mensuellement.',
        target: 'Objectif',
        perMonth: '/ mois',
        reachGoalIn: 'Atteindre l\'objectif en',
        months: 'mois',
        income: 'Revenu',
        fixedExpenses: 'DÃ©penses fixes',
        savingForGoals: 'Ã‰pargne objectifs',
        spendComfortably: 'DÃ©penser librement',
        finish: 'Terminer â†’',
        hey: 'Salut,',
        spendableLabel: 'DÃ©pensable',
        daysLeft: 'jours restants',
        remaining: 'restant',
        goalTarget: 'Objectif',
        actual: 'RÃ©el',
        today: 'Aujourd\'hui',
        yesterday: 'Hier',
        thisMonth: 'Ce mois',
        seeAll: 'Voir tout',
        askPlaceholder: 'Envie d\'acheter?',
        askHint: 'Demandez Ã  Moni avant de dÃ©penser',
        addExpenseTitle: 'âœï¸ Ajouter dÃ©pense',
        expenseTextPlaceholder: 'Ex: CafÃ© 4â‚¬, Uber 20â‚¬, DÃ©jeuner 15â‚¬...',
        expenseTextHint: 'ğŸ’¡ Tapez nom + montant, l\'IA catÃ©gorise',
        name: 'Nom',
        namePlaceholderExpense: 'Ex: CafÃ©, Uber, DÃ©jeuner...',
        amount: 'Montant',
        addExpense: 'Ajouter dÃ©pense',
        expense: 'DÃ©pense',
        enterValidAmount: 'Veuillez entrer un montant valide',
        viewAll: 'Voir catÃ©gories',
        hideCategories: 'Masquer catÃ©gories',
        noExpensesYet: 'Pas encore de dÃ©penses aujourd\'hui',
        noGoalsYet: 'Pas encore d\'objectifs',
        goalsWillAppear: 'Vos objectifs apparaÃ®tront ici',
        deposit: 'DÃ©poser',
        goalAchieved: 'Objectif atteint',
        enterDepositAmount: 'Entrez le montant du dÃ©pÃ´t',
        enterWithdrawAmount: 'Entrez le montant du retrait',
        remaining: 'Restant',
        available: 'Disponible',
        setAllocation: 'DÃ©finir l\'objectif mensuel',
        expensesWillAppear: 'Vos dÃ©penses apparaÃ®tront ici',
        saved: 'Ã©conomisÃ©',
        total: 'Total',
        afterPurchase: 'AprÃ¨s achat:',
        leftRemaining: 'restant',
        bought: 'AchetÃ© âœ“',
        cancel: 'Annuler',
        close: 'Fermer',
        home: 'Accueil',
        goals: 'Objectifs',
        history: 'Historique',
        rent: 'Loyer',
        electric: 'Ã‰lectricitÃ©',
        water: 'Eau',
        internet: 'Internet',
        phone: 'TÃ©lÃ©phone',
        insurance: 'Assurance',
        laptop: 'Ordinateur',
        phoneGoal: 'TÃ©lÃ©phone',
        trip: 'Voyage',
        bike: 'Moto',
        emergency: 'Fonds d\'urgence',
        wedding: 'Mariage',
        notUnderstand: 'Moni ne comprend pas. Essayez "CafÃ© 50k" ou "Uber 85k"! ğŸ˜Š',
        buyIt: 'achetez!',
        okToBuy: 'Ã§a va!',
        tooMuch: 'c\'est beaucoup!',
        onlyPercent: 'Seulement',
        budget: 'budget',
        comfortable: 'confortable!',
        considerIt: 'RÃ©flÃ©chissez.',
        areYouSure: 'Vous Ãªtes sÃ»r?',
        percentOfBudget: 'du budget restant.',
        // B1: Permission Engine
        mayAffectGoals: 'Peut affecter vos objectifs',
        noGoalImpact: 'N\'affectera pas vos objectifs',
        // B2: Future Self Visualization
        addFutureSelfNote: 'Ajoutez une note sur votre futur vous...',
        futureSelfPrompt: 'Pourquoi voulez-vous cela? DÃ©crivez votre futur vous profitant de cet objectif:',
        // B3: Analytics
        analytics: 'Statistiques',
        relationships: 'Relations',
        selfCare: 'Bien-Ãªtre',
        necessities: 'NÃ©cessitÃ©s',
        thisMonthSpending: 'DÃ©penses ce mois',
        meaningAttached: 'Sens des dÃ©penses',
        relationshipsFocus: 'Construire des liens',
        selfCareFocus: 'Investir en soi',
        necessitiesFocus: 'Couvrir l\'essentiel',
        noDataYet: 'Pas encore de donnÃ©es',
        // B4: Peace of Mind Indicator
        paceOkay: 'En bonne voie',
        paceGood: 'Ã‡a va',
        paceWatch: 'Ã€ surveiller',
        onPace: 'dans le rythme',
        slowDown: 'ralentir un peu',
        // B5: Settings
        settings: 'ParamÃ¨tres',
        edit: 'Modifier',
        redo: 'Refaire',
        reset: 'RÃ©initialiser',
        month: 'mois',
        enterIncome: 'Entrez votre revenu mensuel :',
        goalsAllocation: 'Objectifs et allocation',
        monthlyAllocation: 'Allocation mensuelle',
        personality: 'PersonnalitÃ©',
        languageLabel: 'Langue',
        noFixedExpenses: 'Pas de frais fixes',
        noGoals: 'Pas d\'objectifs',
        resetData: 'RÃ©initialiser les donnÃ©es',
        resetWarning: 'Recommencer Ã  zÃ©ro',
        redoQuizConfirm: 'Refaire le quiz de personnalitÃ© ? Votre rÃ©sultat actuel sera remplacÃ©.',
        selectLanguage: 'Choisir la langue',
        enterNumber: 'Entrez un numÃ©ro (1-7)',
        resetConfirm: 'ÃŠtes-vous sÃ»r ? Toutes les donnÃ©es seront supprimÃ©es.',
        resetConfirm2: 'Cela ne peut pas Ãªtre annulÃ©. Vraiment rÃ©initialiser ?',
      },
      es: {
        welcome: 'Â¡Bienvenido a Moni!',
        tagline: 'Administra tu dinero a tu manera.<br>Sin juicios. Solo apoyo.',
        start: 'Empezar â†’',
        welcomeTitle: 'Â¡Bienvenido a Moni!',
        welcomeDesc: 'Moni te ayuda a gastar con intenciÃ³n â€” no rastreando cada centavo, sino sabiendo dÃ³nde estÃ¡s en el camino hacia tus metas.',
        nameLabel: 'Â¿CÃ³mo te llamamos?',
        namePlaceholder: 'Ingresa tu nombre...',
        continue: 'Continuar â†’',
        quizTitle: '4 Personalidades del Dinero',
        quizDesc: 'Â¿QuÃ© tipo eres? Â¡Haz el quiz para descubrirlo!',
        theDreamer: 'El SoÃ±ador',
        dreamerTag: 'Visionario',
        theExperiencer: 'El Experimentador',
        experiencerTag: 'Buscador de aventuras',
        theGiver: 'El Dador',
        giverTag: 'Alma generosa',
        thePlanner: 'El Planificador',
        plannerTag: 'Mente estratÃ©gica',
        quizAccompany: 'ğŸ¯ Moni te acompaÃ±arÃ¡ segÃºn tu estilo',
        startQuiz: 'Hacer Quiz Â· 4 preguntas â†’',
        skip: 'Saltar',
        quiz1: 'Cuando recibes dinero extra inesperado, normalmente...',
        quiz1opt1: 'Haces un plan especÃ­fico',
        quiz1opt2: 'Te das un gusto inmediatamente',
        quiz1opt3: 'Piensas en regalos para seres queridos',
        quiz1opt4: 'SueÃ±as con posibilidades',
        quiz2: 'Â¿CuÃ¡ndo gastas de mÃ¡s?',
        quiz2opt1: 'Saliendo con amigos',
        quiz2opt2: 'Cuando alguien necesita ayuda',
        quiz2opt3: 'AtraÃ­do por cosas nuevas',
        quiz2opt4: 'Raramente gasto de mÃ¡s',
        quiz3: 'CÃ³mo te sientes al pensar en dinero...',
        quiz3opt1: 'Emocionado por el futuro',
        quiz3opt2: 'Relajado, viviendo el momento',
        quiz3opt3: 'Preocupado por seres queridos',
        quiz3opt4: 'SensaciÃ³n de control',
        quiz4: 'Â¿QuÃ© te describe mejor?',
        quiz4opt1: 'Muchos sueÃ±os, difÃ­cil enfocarse',
        quiz4opt2: 'Los recuerdos importan mÃ¡s que ahorrar',
        quiz4opt3: 'Feliz cuando ayudo a otros',
        quiz4opt4: 'Me gustan los planes claros',
        thisIsYou: 'âœ¨ Â¡Este eres tÃº!',
        dreamerDesc: 'Tienes sueÃ±os hermosos e imaginaciÃ³n rica. Moni te ayudarÃ¡ a enfocarte en lo mÃ¡s importante.',
        experiencerDesc: 'Crees que la vida es para experimentar. Moni te ayudarÃ¡ a equilibrar disfrutar y asegurar tu futuro.',
        giverDesc: 'Tu alegrÃ­a es dar alegrÃ­a a otros. Moni te recordarÃ¡ invertir en ti tambiÃ©n.',
        plannerDesc: 'Tienes gran disciplina financiera. Moni te ayudarÃ¡ a optimizar mÃ¡s y celebrar pequeÃ±as victorias.',
        // Archetype quotes
        dreamerQuote1: 'Los sueÃ±os se hacen realidad, paso a paso âœ¨',
        dreamerQuote2: 'Tu visiÃ³n es tu brÃºjula ğŸŒŸ',
        dreamerQuote3: 'Las grandes cosas empiezan con pequeÃ±os ahorros ğŸ’«',
        experiencerQuote1: 'La vida estÃ¡ hecha de momentos que vale la pena financiar ğŸ¢',
        experiencerQuote2: 'Â¡Las aventuras esperan, te preparas bien! ğŸŒˆ',
        experiencerQuote3: 'Cada ahorro acerca nuevas experiencias ğŸ¯',
        giverQuote1: 'La generosidad empieza con el autocuidado ğŸ’',
        giverQuote2: 'Ponte primero tu mÃ¡scara de oxÃ­geno ğŸ¤',
        giverQuote3: 'La salud financiera te permite dar mÃ¡s ğŸ’•',
        plannerQuote1: 'Cada detalle importa, vas por buen camino ğŸ“‹',
        plannerQuote2: 'El progreso sistemÃ¡tico lleva al Ã©xito ğŸ¯',
        plannerQuote3: 'Tu plan estÃ¡ funcionando perfectamente âœ…',
        // Celebration translations
        firstExpenseTitle: 'Â¡Primer gasto!',
        firstExpenseDesc: 'Â¡Vas por buen camino!',
        tenExpensesTitle: 'Â¡Cada vez mÃ¡s organizado!',
        tenExpensesDesc: 'Â¡10 gastos registrados!',
        goalCompleteDesc: 'Â¡Logro increÃ­ble!',
        keepGoingDesc: 'Â¡Sigue asÃ­!',
        toward: 'hacia',
        dayStreak: 'DÃ­as seguidos',
        streakDesc: 'Â¡EstÃ¡s en racha!',
        days: 'dÃ­as',
        // Moni mood messages
        moniCelebrating: 'Â¡Woohoo! Â¡Lo lograste!',
        moniHappy: 'Â¡Gran dÃ­a!',
        moniExcited: 'Â¡EstÃ¡s en racha!',
        moniProud: 'Â¡Mira ese progreso!',
        moniEncouraging: 'Â¡Nuevo comienzo hoy!',
        moniCalm: 'Equilibrado y estable.',
        moniFriendly: 'Â¡Hola, amigo!',
        moniSupportive: 'Â¡MaÃ±ana es un nuevo dÃ­a!',
        dreamGoal: 'Meta soÃ±ada',
        dreamerGoalQuote1: 'Tu sueÃ±o estÃ¡ tomando forma âœ¨',
        dreamerGoalQuote2: 'Cada paso te acerca mÃ¡s ğŸŒŸ',
        bringDreamCloser: 'Acercar el sueÃ±o',
        dreamAchieved: 'SueÃ±o logrado',
        breakdown: 'Desglose',
        week: 'sem',
        day: 'dÃ­a',
        monthly: 'Mensual',
        giverTripImpact: 'Crear recuerdos con seres queridos',
        giverEmergencyImpact: 'Estar ahÃ­ cuando otros te necesiten',
        giverDefaultImpact: 'Alimentar tu corazÃ³n generoso',
        yourProgress: 'Tu progreso',
        toGo: 'por ir',
        addToGiving: 'AÃ±adir al fondo de generosidad',
        readyToGive: 'Listo para dar',
        adventure: 'AVENTURA',
        fundedSoFar: 'financiado',
        monthsToGo: 'meses restantes',
        fundAdventure: 'Financiar esta aventura',
        adventureReady: 'Aventura lista',
        incomeTitle: 'Ingreso Mensual',
        incomeDesc: 'Para que Moni calcule cuÃ¡nto puedes gastar cÃ³modamente cada mes.',
        privacyNote: 'La informaciÃ³n es segura y se almacena solo en tu dispositivo',
        smartInputHint: 'ğŸ’¡ Escribe naturalmente: 15k, 1.5m, 1.5 million...',
        fixedTitle: 'Gastos Fijos Mensuales',
        fixedDesc: 'Pagos regulares. Ingresa montos o elimina si no aplica.',
        addOther: 'Agregar otro',
        totalFixed: 'Total gastos fijos',
        addFixedTitle: 'â• Agregar gasto fijo',
        expenseName: 'Nombre del gasto',
        expenseNamePlaceholder: 'Ej: Gimnasio, Netflix, Colegiatura...',
        amountPerMonth: 'Monto / mes',
        add: 'Agregar',
        goalsTitle: 'Â¿Hacia quÃ© estÃ¡s trabajando?',
        goalsDesc: 'Elige 1-3 metas. Moni seguirÃ¡ tu progreso.',
        createOwn: 'Crear propio',
        createGoalTitle: 'âœ¨ Crear nueva meta',
        goalName: 'Nombre de la meta',
        goalNamePlaceholder: 'Ej: iPhone nuevo, Curso, Bicicleta...',
        amountNeeded: 'Monto necesario',
        addGoal: 'Agregar meta',
        allocationTitle: 'Â¿CuÃ¡nto ahorrar al mes?',
        allocationDesc: 'Elige cuÃ¡nto quieres ahorrar para cada meta mensualmente.',
        target: 'Meta',
        perMonth: '/ mes',
        reachGoalIn: 'Alcanzar meta en',
        months: 'meses',
        income: 'Ingreso',
        fixedExpenses: 'Gastos fijos',
        savingForGoals: 'Ahorro para metas',
        spendComfortably: 'Gastar libremente',
        finish: 'Finalizar â†’',
        hey: 'Hola,',
        spendableLabel: 'Disponible',
        daysLeft: 'dÃ­as restantes',
        remaining: 'restante',
        goalTarget: 'Meta',
        actual: 'Real',
        today: 'Hoy',
        yesterday: 'Ayer',
        thisMonth: 'Este mes',
        seeAll: 'Ver todo',
        askPlaceholder: 'Â¿Quieres comprar algo?',
        askHint: 'Pregunta a Moni antes de gastar',
        addExpenseTitle: 'âœï¸ Agregar gasto',
        expenseTextPlaceholder: 'Ej: CafÃ© 3â‚¬, Uber 15â‚¬, Almuerzo 12â‚¬...',
        expenseTextHint: 'ğŸ’¡ Escribe nombre + monto, IA categoriza',
        name: 'Nombre',
        namePlaceholderExpense: 'Ej: CafÃ©, Uber, Almuerzo...',
        amount: 'Monto',
        addExpense: 'Agregar gasto',
        expense: 'Gasto',
        enterValidAmount: 'Por favor ingrese un monto vÃ¡lido',
        viewAll: 'Ver categorÃ­as',
        hideCategories: 'Ocultar categorÃ­as',
        noExpensesYet: 'AÃºn no hay gastos hoy',
        noGoalsYet: 'AÃºn no hay metas',
        goalsWillAppear: 'Tus metas aparecerÃ¡n aquÃ­',
        deposit: 'Depositar',
        goalAchieved: 'Meta alcanzada',
        enterDepositAmount: 'Ingrese el monto del depÃ³sito',
        enterWithdrawAmount: 'Ingrese el monto del retiro',
        remaining: 'Restante',
        available: 'Disponible',
        setAllocation: 'Establecer meta mensual',
        expensesWillAppear: 'Tus gastos aparecerÃ¡n aquÃ­',
        saved: 'ahorrado',
        total: 'Total',
        afterPurchase: 'DespuÃ©s de comprar:',
        leftRemaining: 'restante',
        bought: 'Comprado âœ“',
        cancel: 'Cancelar',
        close: 'Cerrar',
        home: 'Inicio',
        goals: 'Metas',
        history: 'Historial',
        rent: 'Alquiler',
        electric: 'Electricidad',
        water: 'Agua',
        internet: 'Internet',
        phone: 'TelÃ©fono',
        insurance: 'Seguro',
        laptop: 'Laptop',
        phoneGoal: 'TelÃ©fono',
        trip: 'Viaje',
        bike: 'Moto',
        emergency: 'Fondo de emergencia',
        wedding: 'Boda',
        notUnderstand: 'Moni no entiende. Intenta escribir "CafÃ© 50k" o "Uber 85k"! ğŸ˜Š',
        buyIt: 'Â¡cÃ³mpralo!',
        okToBuy: 'Â¡estÃ¡ bien!',
        tooMuch: 'Â¡es mucho!',
        onlyPercent: 'Solo',
        budget: 'presupuesto',
        comfortable: 'Â¡cÃ³modo!',
        considerIt: 'ConsidÃ©ralo.',
        areYouSure: 'Â¿EstÃ¡s seguro?',
        percentOfBudget: 'del presupuesto restante.',
        // B1: Permission Engine
        mayAffectGoals: 'Puede afectar tus metas',
        noGoalImpact: 'No afectarÃ¡ tus metas',
        // B2: Future Self Visualization
        addFutureSelfNote: 'AÃ±ade una nota sobre tu yo futuro...',
        futureSelfPrompt: 'Â¿Por quÃ© quieres esto? Describe a tu yo futuro disfrutando de esta meta:',
        // B3: Analytics
        analytics: 'EstadÃ­sticas',
        relationships: 'Relaciones',
        selfCare: 'Autocuidado',
        necessities: 'Necesidades',
        thisMonthSpending: 'Gastos este mes',
        meaningAttached: 'Significado del gasto',
        relationshipsFocus: 'Construyendo conexiones',
        selfCareFocus: 'Invirtiendo en ti',
        necessitiesFocus: 'Cubriendo lo esencial',
        noDataYet: 'Sin datos aÃºn',
        // B4: Peace of Mind Indicator
        paceOkay: 'Bien',
        paceGood: 'Aceptable',
        paceWatch: 'Cuidado',
        onPace: 'al ritmo',
        slowDown: 'frenar un poco',
        // B5: Settings
        settings: 'Ajustes',
        edit: 'Editar',
        redo: 'Rehacer',
        reset: 'Reiniciar',
        month: 'mes',
        enterIncome: 'Ingresa tu ingreso mensual:',
        goalsAllocation: 'Metas y asignaciÃ³n',
        monthlyAllocation: 'AsignaciÃ³n mensual',
        personality: 'Personalidad',
        languageLabel: 'Idioma',
        noFixedExpenses: 'Sin gastos fijos',
        noGoals: 'Sin metas',
        resetData: 'Reiniciar datos',
        resetWarning: 'Empezar de nuevo',
        redoQuizConfirm: 'Â¿Rehacer el quiz de personalidad? Tu resultado actual serÃ¡ reemplazado.',
        selectLanguage: 'Selecciona idioma',
        enterNumber: 'Ingresa nÃºmero (1-7)',
        resetConfirm: 'Â¿EstÃ¡s seguro? Todos los datos serÃ¡n eliminados.',
        resetConfirm2: 'No se puede deshacer. Â¿Reiniciar de verdad?',
      }
    };

    const LANGUAGES = {
      vi: {
        label: 'Tiáº¿ng Viá»‡t', flag: 'ğŸ‡»ğŸ‡³',
        currency: 'VND', symbol: 'â‚«', symbolPosition: 'after',
        incomePresets: [8, 10, 15, 20, 25, 30], // millions
        multiplier: 1000000, // 1 unit = 1 million VND
        formatUnit: 'tr',
        goalAmounts: { laptop: 25000000, phone: 15000000, trip: 10000000, bike: 50000000, emergency: 20000000, wedding: 100000000 },
        sampleExpenses: [
          { emoji: 'â˜•', name: 'Cafe', amount: 50000 },
          { emoji: 'ğŸœ', name: 'CÆ¡m trÆ°a', amount: 45000 },
          { emoji: 'ğŸš—', name: 'Grab', amount: 85000 },
          { emoji: 'ğŸ›’', name: 'SiÃªu thá»‹', amount: 150000 }
        ],
        quickExpenses: [
          { emoji: 'â˜•', name: 'Cafe', amount: 50000, label: 'Cafe 50k' },
          { emoji: 'ğŸœ', name: 'CÆ¡m', amount: 45000, label: 'CÆ¡m 45k' },
          { emoji: 'ğŸš—', name: 'Grab', amount: 85000, label: 'Grab 85k' },
          { emoji: 'ğŸ›’', name: 'Chá»£', amount: 150000, label: 'Chá»£ 150k' }
        ]
      },
      en: {
        label: 'English', flag: 'ğŸ‡¬ğŸ‡§',
        currency: 'USD', symbol: '$', symbolPosition: 'before',
        incomePresets: [3, 4, 5, 6, 8, 10], // thousands
        multiplier: 1000, // 1 unit = 1 thousand USD
        formatUnit: 'k',
        goalAmounts: { laptop: 1500, phone: 1000, trip: 2000, bike: 5000, emergency: 5000, wedding: 20000 },
        sampleExpenses: [
          { emoji: 'â˜•', name: 'Coffee', amount: 5 },
          { emoji: 'ğŸœ', name: 'Lunch', amount: 15 },
          { emoji: 'ğŸš—', name: 'Uber', amount: 25 },
          { emoji: 'ğŸ›’', name: 'Groceries', amount: 80 }
        ],
        quickExpenses: [
          { emoji: 'â˜•', name: 'Coffee', amount: 5, label: 'Coffee $5' },
          { emoji: 'ğŸœ', name: 'Lunch', amount: 15, label: 'Lunch $15' },
          { emoji: 'ğŸš—', name: 'Uber', amount: 25, label: 'Uber $25' },
          { emoji: 'ğŸ›’', name: 'Grocery', amount: 50, label: 'Grocery $50' }
        ]
      },
      zh: {
        label: 'ä¸­æ–‡', flag: 'ğŸ‡¨ğŸ‡³',
        currency: 'CNY', symbol: 'Â¥', symbolPosition: 'before',
        incomePresets: [8, 10, 15, 20, 30, 50], // thousands
        multiplier: 1000,
        formatUnit: 'k',
        goalAmounts: { laptop: 8000, phone: 6000, trip: 10000, bike: 15000, emergency: 20000, wedding: 100000 },
        sampleExpenses: [
          { emoji: 'â˜•', name: 'å’–å•¡', amount: 30 },
          { emoji: 'ğŸœ', name: 'åˆé¤', amount: 40 },
          { emoji: 'ğŸš—', name: 'æ‰“è½¦', amount: 50 },
          { emoji: 'ğŸ›’', name: 'è¶…å¸‚', amount: 200 }
        ],
        quickExpenses: [
          { emoji: 'â˜•', name: 'å’–å•¡', amount: 30, label: 'å’–å•¡ Â¥30' },
          { emoji: 'ğŸœ', name: 'åˆé¤', amount: 40, label: 'åˆé¤ Â¥40' },
          { emoji: 'ğŸš—', name: 'æ‰“è½¦', amount: 50, label: 'æ‰“è½¦ Â¥50' },
          { emoji: 'ğŸ›’', name: 'è¶…å¸‚', amount: 150, label: 'è¶…å¸‚ Â¥150' }
        ]
      },
      ja: {
        label: 'æ—¥æœ¬èª', flag: 'ğŸ‡¯ğŸ‡µ',
        currency: 'JPY', symbol: 'Â¥', symbolPosition: 'before',
        incomePresets: [200, 250, 300, 400, 500, 600], // thousands
        multiplier: 10000, // ä¸‡ = 10k
        formatUnit: 'ä¸‡',
        goalAmounts: { laptop: 150000, phone: 100000, trip: 200000, bike: 300000, emergency: 500000, wedding: 3000000 },
        sampleExpenses: [
          { emoji: 'â˜•', name: 'ã‚³ãƒ¼ãƒ’ãƒ¼', amount: 500 },
          { emoji: 'ğŸœ', name: 'ãƒ©ãƒ³ãƒ', amount: 1000 },
          { emoji: 'ğŸš—', name: 'ã‚¿ã‚¯ã‚·ãƒ¼', amount: 2000 },
          { emoji: 'ğŸ›’', name: 'ã‚¹ãƒ¼ãƒ‘ãƒ¼', amount: 5000 }
        ],
        quickExpenses: [
          { emoji: 'â˜•', name: 'ã‚³ãƒ¼ãƒ’ãƒ¼', amount: 500, label: 'ã‚³ãƒ¼ãƒ’ãƒ¼ Â¥500' },
          { emoji: 'ğŸœ', name: 'ãƒ©ãƒ³ãƒ', amount: 1000, label: 'ãƒ©ãƒ³ãƒ Â¥1000' },
          { emoji: 'ğŸš—', name: 'ã‚¿ã‚¯ã‚·ãƒ¼', amount: 2000, label: 'ã‚¿ã‚¯ã‚·ãƒ¼ Â¥2000' },
          { emoji: 'ğŸ›’', name: 'ã‚¹ãƒ¼ãƒ‘ãƒ¼', amount: 3000, label: 'ã‚¹ãƒ¼ãƒ‘ãƒ¼ Â¥3000' }
        ]
      },
      ko: {
        label: 'í•œêµ­ì–´', flag: 'ğŸ‡°ğŸ‡·',
        currency: 'KRW', symbol: 'â‚©', symbolPosition: 'before',
        incomePresets: [200, 300, 400, 500, 600, 800], // ë§Œì› units (200ë§Œ = 2M KRW)
        multiplier: 10000, // ë§Œ = 10k
        formatUnit: 'ë§Œ',
        goalAmounts: { laptop: 1500000, phone: 1000000, trip: 2000000, bike: 5000000, emergency: 5000000, wedding: 30000000 },
        sampleExpenses: [
          { emoji: 'â˜•', name: 'ì»¤í”¼', amount: 5000 },
          { emoji: 'ğŸœ', name: 'ì ì‹¬', amount: 10000 },
          { emoji: 'ğŸš—', name: 'íƒì‹œ', amount: 15000 },
          { emoji: 'ğŸ›’', name: 'ë§ˆíŠ¸', amount: 50000 }
        ],
        quickExpenses: [
          { emoji: 'â˜•', name: 'ì»¤í”¼', amount: 5000, label: 'ì»¤í”¼ â‚©5000' },
          { emoji: 'ğŸœ', name: 'ì ì‹¬', amount: 10000, label: 'ì ì‹¬ â‚©10000' },
          { emoji: 'ğŸš—', name: 'íƒì‹œ', amount: 15000, label: 'íƒì‹œ â‚©15000' },
          { emoji: 'ğŸ›’', name: 'ë§ˆíŠ¸', amount: 30000, label: 'ë§ˆíŠ¸ â‚©30000' }
        ]
      },
      fr: {
        label: 'FranÃ§ais', flag: 'ğŸ‡«ğŸ‡·',
        currency: 'EUR', symbol: 'â‚¬', symbolPosition: 'after',
        incomePresets: [2, 2.5, 3, 4, 5, 6], // thousands
        multiplier: 1000,
        formatUnit: 'k',
        goalAmounts: { laptop: 1200, phone: 800, trip: 1500, bike: 4000, emergency: 5000, wedding: 15000 },
        sampleExpenses: [
          { emoji: 'â˜•', name: 'CafÃ©', amount: 4 },
          { emoji: 'ğŸœ', name: 'DÃ©jeuner', amount: 15 },
          { emoji: 'ğŸš—', name: 'Uber', amount: 20 },
          { emoji: 'ğŸ›’', name: 'Courses', amount: 60 }
        ],
        quickExpenses: [
          { emoji: 'â˜•', name: 'CafÃ©', amount: 4, label: 'CafÃ© 4â‚¬' },
          { emoji: 'ğŸœ', name: 'DÃ©jeuner', amount: 15, label: 'DÃ©jeuner 15â‚¬' },
          { emoji: 'ğŸš—', name: 'Uber', amount: 20, label: 'Uber 20â‚¬' },
          { emoji: 'ğŸ›’', name: 'Courses', amount: 50, label: 'Courses 50â‚¬' }
        ]
      },
      es: {
        label: 'EspaÃ±ol', flag: 'ğŸ‡ªğŸ‡¸',
        currency: 'EUR', symbol: 'â‚¬', symbolPosition: 'after',
        incomePresets: [1.5, 2, 2.5, 3, 4, 5], // thousands
        multiplier: 1000,
        formatUnit: 'k',
        goalAmounts: { laptop: 1000, phone: 700, trip: 1200, bike: 3500, emergency: 4000, wedding: 12000 },
        sampleExpenses: [
          { emoji: 'â˜•', name: 'CafÃ©', amount: 3 },
          { emoji: 'ğŸœ', name: 'Almuerzo', amount: 12 },
          { emoji: 'ğŸš—', name: 'Uber', amount: 15 },
          { emoji: 'ğŸ›’', name: 'Compras', amount: 50 }
        ],
        quickExpenses: [
          { emoji: 'â˜•', name: 'CafÃ©', amount: 3, label: 'CafÃ© 3â‚¬' },
          { emoji: 'ğŸœ', name: 'Almuerzo', amount: 12, label: 'Almuerzo 12â‚¬' },
          { emoji: 'ğŸš—', name: 'Uber', amount: 15, label: 'Uber 15â‚¬' },
          { emoji: 'ğŸ›’', name: 'Compras', amount: 40, label: 'Compras 40â‚¬' }
        ]
      }
    };

    // Translation function
    const t = (key) => TRANSLATIONS[state.language]?.[key] || TRANSLATIONS.vi[key] || key;

    // Currency helpers
    const getLang = () => LANGUAGES[state.language] || LANGUAGES.vi;

    const formatCurrency = (amount, compact = false) => {
      const lang = getLang();
      if (compact) {
        const unit = lang.multiplier || 1000000;
        const val = amount / unit;
        if (lang.symbolPosition === 'before') {
          return `${lang.symbol}${val.toFixed(val % 1 === 0 ? 0 : 1)}${lang.formatUnit}`;
        } else {
          return `${val.toFixed(val % 1 === 0 ? 0 : 1)}${lang.formatUnit}`;
        }
      }
      // Full format
      if (lang.symbolPosition === 'before') {
        return `${lang.symbol}${amount.toLocaleString()}`;
      } else {
        return `${amount.toLocaleString()} ${lang.symbol}`;
      }
    };

    const getIncomePresets = () => {
      const lang = getLang();
      return lang.incomePresets.map(n => n * lang.multiplier);
    };

    const getGoalAmount = (goalId) => {
      const lang = getLang();
      return lang.goalAmounts[goalId] || 0;
    };

    // Set language function
    const setLanguage = (langCode) => {
      state.language = langCode;
      localStorage.setItem('moni_language', langCode);
      document.documentElement.lang = langCode;
      // Reset financial data when changing language/currency
      state.income = '';
      state.fixedExpenses = getDefaultFixed();
      state.goals = [];
      state.allocations = {};
      state.transactions = []; // Start empty, user adds expenses
      render();
    };

    // ============= DATA PERSISTENCE =============
    const STORAGE_KEY = 'moni_app_data';

    const saveState = () => {
      const dataToSave = {
        version: 1,
        savedAt: Date.now(),
        language: state.language,
        userName: state.userName,
        archetype: state.archetype,
        income: state.income,
        fixedExpenses: state.fixedExpenses,
        goals: state.goals,
        allocations: state.allocations,
        transactions: state.transactions,
        goalDeposits: state.goalDeposits,
        goalNotes: state.goalNotes,
        onboardingCompleted: state.onboardingCompleted,
        milestonesAchieved: state.milestonesAchieved,
        streakDays: state.streakDays,
        lastActiveDate: state.lastActiveDate,
        totalExpensesLogged: state.totalExpensesLogged,
      };
      localStorage.setItem(STORAGE_KEY, JSON.stringify(dataToSave));
    };

    const loadState = () => {
      try {
        const saved = localStorage.getItem(STORAGE_KEY);
        if (saved) return JSON.parse(saved);
      } catch (e) {
        console.error('Failed to load state:', e);
      }
      return null;
    };

    // Load saved data
    const savedData = loadState();
    const isReturningUser = savedData && savedData.onboardingCompleted;

    let state = {
      screen: isReturningUser ? 'main' : 'language',
      language: savedData?.language || localStorage.getItem('moni_language') || 'vi',
      step: 0,
      quizStep: -1,
      quizAnswers: [],
      userName: savedData?.userName || '',
      archetype: savedData?.archetype || null,
      income: savedData?.income || '',
      fixedExpenses: savedData?.fixedExpenses || [],
      goals: savedData?.goals || [],
      allocations: savedData?.allocations || {},
      transactions: savedData?.transactions || [],
      goalDeposits: savedData?.goalDeposits || {},
      goalNotes: savedData?.goalNotes || {}, // Future Self Visualization notes
      onboardingCompleted: savedData?.onboardingCompleted || false,
      // Celebration tracking (persisted)
      milestonesAchieved: savedData?.milestonesAchieved || [],
      streakDays: savedData?.streakDays || 0,
      lastActiveDate: savedData?.lastActiveDate || null,
      totalExpensesLogged: savedData?.totalExpensesLogged || 0,
      // UI state (not persisted)
      showAddExpense: false,
      showAddFixed: false,
      showAddGoal: false,
      showCelebration: null,
      newExpense: { name: '', amount: '' },
      newFixed: { name: '', amount: '' },
      newGoal: { name: '', amount: '' },
      chatLoading: false,
      chatResponse: null,
      chatParsed: null,
      activeTab: 'home',
    };

    const getDefaultFixed = () => [
      { id: 'rent', e: 'ğŸ ', nameKey: 'rent', amount: '' },
      { id: 'electric', e: 'ğŸ’¡', nameKey: 'electric', amount: '' },
      { id: 'water', e: 'ğŸ’§', nameKey: 'water', amount: '' },
      { id: 'internet', e: 'ğŸ“¶', nameKey: 'internet', amount: '' },
      { id: 'phone', e: 'ğŸ“±', nameKey: 'phone', amount: '' },
      { id: 'insurance', e: 'ğŸ›¡ï¸', nameKey: 'insurance', amount: '' },
    ];
    const getFixedName = (item) => item.customName || t(item.nameKey) || item.nameKey;

    // Get sample transactions for current language/currency
    const getSampleTransactions = () => {
      const lang = getLang();
      return (lang.sampleExpenses || []).map(exp => ({
        emoji: exp.emoji,
        name: exp.name,
        amount: exp.amount
      }));
    };

    // Initialize fixed expenses and transactions from defaults
    state.fixedExpenses = getDefaultFixed();
    state.transactions = []; // Start empty, user adds expenses

    const getArchetypes = () => ({
      dreamer: { emoji: 'âœ¨', name: t('theDreamer'), tag: t('dreamerTag'), color: '#8b5cf6', descKey: 'dreamerDesc' },
      experiencer: { emoji: 'ğŸ¢', name: t('theExperiencer'), tag: t('experiencerTag'), color: '#f97316', descKey: 'experiencerDesc' },
      giver: { emoji: 'ğŸ’', name: t('theGiver'), tag: t('giverTag'), color: '#ec4899', descKey: 'giverDesc' },
      planner: { emoji: 'ğŸ¯', name: t('thePlanner'), tag: t('plannerTag'), color: '#10b981', descKey: 'plannerDesc' },
    });

    const getQuiz = () => [
      { q: t('quiz1'), opts: [
        { e: 'ğŸ“‹', text: t('quiz1opt1'), type: 'planner' },
        { e: 'ğŸ', text: t('quiz1opt2'), type: 'experiencer' },
        { e: 'ğŸ’', text: t('quiz1opt3'), type: 'giver' },
        { e: 'âœ¨', text: t('quiz1opt4'), type: 'dreamer' },
      ]},
      { q: t('quiz2'), opts: [
        { e: 'ğŸ‰', text: t('quiz2opt1'), type: 'experiencer' },
        { e: 'ğŸ¤', text: t('quiz2opt2'), type: 'giver' },
        { e: 'ğŸ†•', text: t('quiz2opt3'), type: 'dreamer' },
        { e: 'âœ…', text: t('quiz2opt4'), type: 'planner' },
      ]},
      { q: t('quiz3'), opts: [
        { e: 'ğŸš€', text: t('quiz3opt1'), type: 'dreamer' },
        { e: 'ğŸ˜Œ', text: t('quiz3opt2'), type: 'experiencer' },
        { e: 'ğŸ«‚', text: t('quiz3opt3'), type: 'giver' },
        { e: 'ğŸ’ª', text: t('quiz3opt4'), type: 'planner' },
      ]},
      { q: t('quiz4'), opts: [
        { e: 'ğŸŒˆ', text: t('quiz4opt1'), type: 'dreamer' },
        { e: 'ğŸ“¸', text: t('quiz4opt2'), type: 'experiencer' },
        { e: 'ğŸ˜Š', text: t('quiz4opt3'), type: 'giver' },
        { e: 'ğŸ“Š', text: t('quiz4opt4'), type: 'planner' },
      ]},
    ];

    const GOALS_DATA = [
      { id: 'laptop', e: 'ğŸ’»', nameKey: 'laptop' },
      { id: 'phone', e: 'ğŸ“±', nameKey: 'phoneGoal' },
      { id: 'trip', e: 'âœˆï¸', nameKey: 'trip' },
      { id: 'bike', e: 'ğŸï¸', nameKey: 'bike' },
      { id: 'emergency', e: 'ğŸ›¡ï¸', nameKey: 'emergency' },
      { id: 'wedding', e: 'ğŸ’’', nameKey: 'wedding' },
    ];
    const getGoals = () => GOALS_DATA.map(g => ({
      ...g,
      name: t(g.nameKey),
      amount: getGoalAmount(g.id)
    }));
    const getGoalName = (goal) => goal.customName || t(goal.nameKey) || goal.name;

    const $ = id => document.getElementById(id);
    const fmt = (n) => {
      const lang = getLang();
      const symbol = lang.symbol;
      const pos = lang.symbolPosition;
      const unit = lang.formatUnit;

      let formatted;
      // Different formatting based on currency type
      if (unit === 'tr') {
        // Vietnamese: use triá»‡u (tr) and nghÃ¬n (k)
        if (n >= 1000000) {
          formatted = (n / 1000000).toFixed(1).replace('.0', '') + 'tr';
        } else if (n >= 1000) {
          formatted = (n / 1000).toFixed(0) + 'k';
        } else {
          formatted = n.toString();
        }
      } else if (unit === 'ä¸‡' || unit === 'ë§Œ') {
        // Japanese/Chinese/Korean: use ä¸‡/ë§Œ (10k units)
        if (n >= 10000) {
          formatted = (n / 10000).toFixed(1).replace('.0', '') + unit;
        } else if (n >= 1000) {
          formatted = (n / 1000).toFixed(0) + 'k';
        } else {
          formatted = n.toString();
        }
      } else {
        // Western currencies (USD, EUR): use k and M
        if (n >= 1000000) {
          formatted = (n / 1000000).toFixed(1).replace('.0', '') + 'M';
        } else if (n >= 1000) {
          formatted = (n / 1000).toFixed(1).replace('.0', '') + 'k';
        } else {
          formatted = n.toString();
        }
      }

      if (pos === 'before') {
        return symbol + formatted;
      } else {
        return formatted + symbol;
      }
    };

    // Format large spendable amount for homepage display
    const formatSpendable = (n) => {
      const lang = getLang();
      const multiplier = lang.multiplier || 1000000;
      const unit = lang.formatUnit || 'tr';
      const symbol = lang.symbol;
      const pos = lang.symbolPosition;

      const value = (n / multiplier).toFixed(1).replace('.0', '');

      if (pos === 'before') {
        return `${symbol}${value}<span class="unit">${unit}</span>`;
      } else {
        return `${value}<span class="unit">${unit}</span>`;
      }
    };

    // AI-powered amount parser - understands various formats
    const parseAmount = (input) => {
      if (!input) return 0;
      const text = input.toString().toLowerCase().trim();
      const lang = getLang();

      // Remove currency symbols and spaces
      let clean = text.replace(/[$â‚¬Â¥â‚«â‚©,\s]/g, '');

      // Parse different formats
      // Vietnamese: 50k, 1.5tr, 2 triá»‡u, 500 nghÃ¬n
      // English: 50k, 1.5m, 1.5 million, 500 thousand
      // Chinese: 50k, 1.5ä¸‡, 100ä¸‡
      // Japanese: 50k, 1.5ä¸‡, 100ä¸‡
      // Korean: 50k, 1.5ë§Œ, 100ë§Œ

      let multiplier = 1;

      // Check for multiplier keywords
      if (/tr(iá»‡u)?|million|m(?!\w)/i.test(clean)) {
        multiplier = 1000000;
        clean = clean.replace(/tr(iá»‡u)?|million|m(?!\w)/gi, '');
      } else if (/nghÃ¬n|ngÃ n|thousand|k(?!\w)/i.test(clean)) {
        multiplier = 1000;
        clean = clean.replace(/nghÃ¬n|ngÃ n|thousand|k(?!\w)/gi, '');
      } else if (/ä¸‡|ë§Œ/i.test(clean)) {
        multiplier = 10000;
        clean = clean.replace(/ä¸‡|ë§Œ/gi, '');
      } else if (/å„„|ì–µ/i.test(clean)) {
        multiplier = 100000000;
        clean = clean.replace(/å„„|ì–µ/gi, '');
      }

      // Parse the number
      const num = parseFloat(clean.replace(/[^\d.]/g, '')) || 0;
      return Math.round(num * multiplier);
    };

    const totalFixed = () => state.fixedExpenses.reduce((a, b) => a + (parseInt(b.amount) || 0), 0);
    const totalAllocation = () => Object.values(state.allocations).reduce((a, b) => a + (parseInt(b) || 0), 0);
    const spendable = () => (parseInt(state.income) || 0) - totalFixed() - totalAllocation();

    // ============= TIME HELPERS =============
    const getDaysRemainingInMonth = () => {
      const now = new Date();
      const lastDay = new Date(now.getFullYear(), now.getMonth() + 1, 0);
      return lastDay.getDate() - now.getDate();
    };

    const isToday = (timestamp) => {
      if (!timestamp) return true; // Legacy transactions without timestamp
      const date = new Date(timestamp);
      const today = new Date();
      return date.getDate() === today.getDate() &&
             date.getMonth() === today.getMonth() &&
             date.getFullYear() === today.getFullYear();
    };

    const isThisMonth = (timestamp) => {
      if (!timestamp) return true;
      const date = new Date(timestamp);
      const today = new Date();
      return date.getMonth() === today.getMonth() &&
             date.getFullYear() === today.getFullYear();
    };

    const formatDate = (timestamp) => {
      if (!timestamp) return t('today');
      const date = new Date(timestamp);
      const today = new Date();
      const yesterday = new Date(today);
      yesterday.setDate(yesterday.getDate() - 1);

      if (isToday(timestamp)) return t('today');
      if (date.getDate() === yesterday.getDate() &&
          date.getMonth() === yesterday.getMonth()) return t('yesterday');

      return date.toLocaleDateString(state.language, { day: 'numeric', month: 'short' });
    };

    // Filter transactions by today
    const getTodayTransactions = () => state.transactions.filter(tx => isToday(tx.timestamp));
    const getThisMonthTransactions = () => state.transactions.filter(tx => isThisMonth(tx.timestamp));

    const todaySpent = () => getTodayTransactions().reduce((a, b) => a + b.amount, 0);
    const monthSpent = () => getThisMonthTransactions().reduce((a, b) => a + b.amount, 0);

    // ============= CELEBRATION SYSTEM =============
    const triggerConfetti = (count = 50) => {
      const colors = ['#8b5cf6', '#f97316', '#ec4899', '#10b981', '#fbbf24', '#3b82f6'];
      for (let i = 0; i < count; i++) {
        const confetti = document.createElement('div');
        confetti.className = 'confetti';
        confetti.style.left = Math.random() * 100 + 'vw';
        confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
        confetti.style.animationDelay = Math.random() * 2 + 's';
        confetti.style.borderRadius = Math.random() > 0.5 ? '50%' : '0';
        document.body.appendChild(confetti);
        setTimeout(() => confetti.remove(), 3500);
      }
    };

    const checkMilestones = () => {
      const milestones = [];

      // First expense logged
      if (state.totalExpensesLogged === 1 && !state.milestonesAchieved.includes('first_expense')) {
        milestones.push({ id: 'first_expense', icon: 'ğŸ‰', title: t('firstExpenseTitle') || 'First Expense!', desc: t('firstExpenseDesc') || 'You\'re on your way!' });
      }

      // 10 expenses logged
      if (state.totalExpensesLogged >= 10 && !state.milestonesAchieved.includes('ten_expenses')) {
        milestones.push({ id: 'ten_expenses', icon: 'ğŸŒŸ', title: t('tenExpensesTitle') || 'Getting Organized!', desc: t('tenExpensesDesc') || '10 expenses tracked!' });
      }

      // Goal milestones (25%, 50%, 75%, 100%)
      state.goals.forEach(g => {
        const deposited = state.goalDeposits[g.id] || 0;
        const progress = Math.round((deposited / g.amount) * 100);
        const milestonePoints = [25, 50, 75, 100];

        milestonePoints.forEach(point => {
          const milestoneId = `goal_${g.id}_${point}`;
          if (progress >= point && !state.milestonesAchieved.includes(milestoneId)) {
            if (point === 100) {
              milestones.push({ id: milestoneId, icon: 'ğŸ†', title: `${getGoalName(g)} ${t('completed') || 'Completed'}!`, desc: t('goalCompleteDesc') || 'Amazing achievement!' });
            } else {
              milestones.push({ id: milestoneId, icon: point === 75 ? 'ğŸ”¥' : point === 50 ? 'ğŸ’ª' : 'ğŸŒ±', title: `${point}% ${t('toward') || 'toward'} ${getGoalName(g)}!`, desc: t('keepGoingDesc') || 'Keep it up!' });
            }
          }
        });
      });

      // Streak milestones
      const streakMilestones = [3, 7, 14, 30];
      streakMilestones.forEach(days => {
        const milestoneId = `streak_${days}`;
        if (state.streakDays >= days && !state.milestonesAchieved.includes(milestoneId)) {
          milestones.push({ id: milestoneId, icon: 'ğŸ”¥', title: `${days} ${t('dayStreak') || 'Day Streak'}!`, desc: t('streakDesc') || 'You\'re on fire!' });
        }
      });

      return milestones;
    };

    const celebrateMilestone = (milestone) => {
      state.milestonesAchieved.push(milestone.id);
      state.showCelebration = milestone;
      triggerConfetti(milestone.id.includes('100') || milestone.id.includes('streak_30') ? 80 : 40);
      saveState();
    };

    window.dismissCelebration = () => {
      state.showCelebration = null;
      render();
    };

    const updateStreak = () => {
      const today = new Date().toDateString();
      if (state.lastActiveDate === today) return; // Already updated today

      const yesterday = new Date();
      yesterday.setDate(yesterday.getDate() - 1);

      if (state.lastActiveDate === yesterday.toDateString()) {
        state.streakDays++;
      } else if (state.lastActiveDate !== today) {
        state.streakDays = 1; // Reset streak
      }

      state.lastActiveDate = today;
      saveState();
    };

    // ============= MONI CHARACTER SYSTEM =============
    const getMoniMood = () => {
      const remaining = spendable() - todaySpent();
      const dailyBudget = spendable() / 30;
      const todayUsage = todaySpent() / dailyBudget;
      const hasGoalProgress = state.goals.some(g => (state.goalDeposits[g.id] || 0) > 0);
      const streakActive = state.streakDays >= 3;

      // Determine Moni's mood based on context
      if (state.showCelebration) return 'celebrating';
      if (remaining < 0) return 'supportive'; // Over budget - be supportive, not judgmental
      if (todayUsage === 0 && remaining > dailyBudget * 0.5) return 'encouraging';
      if (todayUsage < 0.5) return 'happy';
      if (todayUsage < 1) return 'calm';
      if (hasGoalProgress) return 'proud';
      if (streakActive) return 'excited';
      return 'friendly';
    };

    const getMoniExpression = (mood) => {
      const expressions = {
        celebrating: 'ğŸ‰',
        happy: 'ğŸ˜Š',
        excited: 'ğŸ¤©',
        proud: 'ğŸ¥³',
        encouraging: 'ğŸ’ª',
        calm: 'ğŸ˜Œ',
        friendly: 'ğŸŒ¿',
        supportive: 'ğŸ¤—',
      };
      return expressions[mood] || 'ğŸŒ¿';
    };

    const getMoniMessage = (mood) => {
      const messages = {
        celebrating: [t('moniCelebrating') || 'Woohoo! You did it!'],
        happy: [t('moniHappy') || 'Great day so far!'],
        excited: [t('moniExcited') || 'You\'re on a roll!'],
        proud: [t('moniProud') || 'Look at that progress!'],
        encouraging: [t('moniEncouraging') || 'Fresh start today!'],
        calm: [t('moniCalm') || 'Balanced and steady.'],
        friendly: [t('moniFriendly') || 'Hey there, friend!'],
        supportive: [t('moniSupportive') || 'Tomorrow is a new day!'],
      };
      const moodMessages = messages[mood] || messages.friendly;
      return moodMessages[Math.floor(Math.random() * moodMessages.length)];
    };

    const render = () => {
      const app = $('app');
      if (state.screen === 'language') renderLanguageSelection(app);
      else if (state.screen === 'splash') renderSplash(app);
      else if (state.screen === 'onboarding') renderOnboarding(app);
      else if (state.screen === 'main') renderMain(app);
    };

    // ============= LANGUAGE SELECTION SCREEN =============
    const renderLanguageSelection = (app) => {
      app.className = 'phone splash-bg';
      const langCards = Object.entries(LANGUAGES).map(([code, lang]) => `
        <button class="lang-card ${state.language === code ? 'selected' : ''}" onclick="selectLanguage('${code}')">
          <span class="lang-card-flag">${lang.flag}</span>
          <div class="lang-card-info">
            <div class="lang-card-name">${lang.label}</div>
            <div class="lang-card-currency">
              <span class="lang-card-currency-badge">${lang.currency}</span>
              <span>${lang.symbol}</span>
            </div>
          </div>
          <div class="lang-card-check">âœ“</div>
        </button>
      `).join('');

      app.innerHTML = `
        <div class="lang-screen">
          <div class="lang-screen-header">
            <div class="lang-screen-icon">ğŸŒ</div>
            <div class="lang-screen-title">Choose Language</div>
            <div class="lang-screen-subtitle">Select your preferred language and currency</div>
          </div>
          <div class="lang-list">
            ${langCards}
          </div>
          <div class="lang-screen-footer">
            <button class="btn" onclick="confirmLanguage()">Continue â†’</button>
          </div>
        </div>
      `;
    };

    window.selectLanguage = (code) => {
      state.language = code;
      render();
    };

    window.confirmLanguage = () => {
      localStorage.setItem('moni_language', state.language);
      document.documentElement.lang = state.language;
      state.screen = 'splash';
      // Reset financial data for new currency
      state.income = '';
      state.fixedExpenses = getDefaultFixed();
      state.goals = [];
      state.allocations = {};
      state.transactions = []; // Start empty, user adds expenses
      render();
    };

    window.goToLanguageScreen = () => {
      state.screen = 'language';
      render();
    };

    window.switchTab = (tab) => {
      state.activeTab = tab;
      render();
    };

    const renderSplash = (app) => {
      app.className = 'phone splash-bg';

      app.innerHTML = `
        <div class="splash">
          <div></div>
          <div>
            <div class="splash-logo">ğŸŒ¿</div>
            <div class="splash-title">Moni</div>
            <div class="splash-tagline">${t('tagline')}</div>
          </div>
          <button class="btn white" onclick="startOnboarding()">${t('start')}</button>
        </div>
      `;
    };

    const renderOnboarding = (app) => {
      app.className = 'phone';
      const dots = [0,1,2,3,4,5,6].map(i => `<div class="dot ${i <= state.step ? 'active' : ''}"></div>`).join('');
      
      if (state.step === 0) {
        app.innerHTML = `
          <div class="header">
            <button class="btn-back" onclick="goSplash()">â†</button>
            <div class="progress-dots">${dots}</div>
            <div style="width:44px"></div>
          </div>
          <div class="content">
            <div class="ob-center">
              <div class="ob-icon">ğŸ‘‹</div>
              <div class="ob-title">${t('welcomeTitle')}</div>
              <div class="ob-desc">${t('welcomeDesc')}</div>
            </div>
            <div style="margin-top:40px">
              <label style="font-size:14px;font-weight:600;color:var(--text-soft);display:block;margin-bottom:12px">${t('nameLabel')}</label>
              <input id="nameInput" class="input" style="text-align:center;font-weight:600" placeholder="${t('namePlaceholder')}" value="${state.userName}" onkeyup="state.userName=this.value;updateBtn()">
            </div>
          </div>
          <div class="footer">
            <button class="btn" id="nextBtn" ${state.userName.trim() ? '' : 'disabled'} onclick="nextStep()">${t('continue')}</button>
          </div>
        `;
        return;
      }

      if (state.step === 1) {
        const archetypes = getArchetypes();
        if (state.quizStep === -1) {
          app.innerHTML = `
            <div class="header">
              <button class="btn-back" onclick="prevStep()">â†</button>
              <div class="progress-dots">${dots}</div>
              <div style="width:44px"></div>
            </div>
            <div class="content">
              <div class="ob-center" style="margin-bottom:20px">
                <div class="ob-icon">ğŸª</div>
                <div class="ob-title">${t('quizTitle')}</div>
                <div class="ob-desc">${t('quizDesc')}</div>
              </div>
              <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px">
                <div style="background:linear-gradient(135deg, #8b5cf6, #a78bfa);border-radius:20px;padding:20px;color:white;text-align:center">
                  <div style="font-size:36px;margin-bottom:8px">âœ¨</div>
                  <div style="font-size:15px;font-weight:700">${t('theDreamer')}</div>
                  <div style="font-size:12px;opacity:0.9;margin-top:4px">${t('dreamerTag')}</div>
                </div>
                <div style="background:linear-gradient(135deg, #f97316, #fb923c);border-radius:20px;padding:20px;color:white;text-align:center">
                  <div style="font-size:36px;margin-bottom:8px">ğŸ¢</div>
                  <div style="font-size:15px;font-weight:700">${t('theExperiencer')}</div>
                  <div style="font-size:12px;opacity:0.9;margin-top:4px">${t('experiencerTag')}</div>
                </div>
                <div style="background:linear-gradient(135deg, #ec4899, #f472b6);border-radius:20px;padding:20px;color:white;text-align:center">
                  <div style="font-size:36px;margin-bottom:8px">ğŸ’</div>
                  <div style="font-size:15px;font-weight:700">${t('theGiver')}</div>
                  <div style="font-size:12px;opacity:0.9;margin-top:4px">${t('giverTag')}</div>
                </div>
                <div style="background:linear-gradient(135deg, #10b981, #34d399);border-radius:20px;padding:20px;color:white;text-align:center">
                  <div style="font-size:36px;margin-bottom:8px">ğŸ¯</div>
                  <div style="font-size:15px;font-weight:700">${t('thePlanner')}</div>
                  <div style="font-size:12px;opacity:0.9;margin-top:4px">${t('plannerTag')}</div>
                </div>
              </div>
              <div style="margin-top:20px;padding:16px;background:var(--purple-light);border-radius:16px;text-align:center">
                <div style="font-size:14px;color:#6b21a8">${t('quizAccompany')}</div>
              </div>
            </div>
            <div class="footer">
              <button class="btn" onclick="startQuiz()">${t('startQuiz')}</button>
              <button class="btn secondary" onclick="skipQuiz()">${t('skip')}</button>
            </div>
          `;
        } else {
          const quiz = getQuiz();
          const q = quiz[state.quizStep];
          app.innerHTML = `
            <div class="header">
              <button class="btn-back" onclick="quizBack()">â†</button>
              <div class="quiz-progress">
                <div class="quiz-bar"><div class="quiz-bar-fill" style="width:${((state.quizStep + 1) / 4) * 100}%"></div></div>
                <span class="quiz-count">${state.quizStep + 1}/4</span>
              </div>
              <div style="width:44px"></div>
            </div>
            <div class="content">
              <div class="quiz-badge">ğŸª Money Personality</div>
              <div class="quiz-question">${q.q}</div>
              ${q.opts.map(opt => `
                <button class="quiz-option" onclick="answerQuiz('${opt.type}')">
                  <span class="quiz-option-icon">${opt.e}</span>
                  <span class="quiz-option-text">${opt.text}</span>
                </button>
              `).join('')}
            </div>
          `;
        }
        return;
      }

      if (state.step === 2) {
        const archetypes = getArchetypes();
        const arch = archetypes[state.archetype];
        app.innerHTML = `
          <div class="header">
            <button class="btn-back" onclick="backToQuiz()">â†</button>
            <div class="progress-dots">${dots}</div>
            <div style="width:44px"></div>
          </div>
          <div class="content">
            <div style="text-align:center;margin-bottom:8px"><span class="quiz-badge">${t('thisIsYou')}</span></div>
            <div class="result-card" style="background:linear-gradient(135deg, ${arch.color}, ${arch.color}dd)">
              <div class="result-emoji">${arch.emoji}</div>
              <div class="result-type">${arch.name}</div>
              <div class="result-tag">${arch.tag}</div>
            </div>
            <p class="result-desc">${t(arch.descKey)}</p>
          </div>
          <div class="footer"><button class="btn" onclick="nextStep()">${t('continue')}</button></div>
        `;
        return;
      }

      if (state.step === 3) {
        const lang = getLang();
        const presets = getIncomePresets();
        const presetLabels = lang.incomePresets;

        app.innerHTML = `
          <div class="header">
            <button class="btn-back" onclick="prevStep()">â†</button>
            <div class="progress-dots">${dots}</div>
            <div style="width:44px"></div>
          </div>
          <div class="content">
            <div class="ob-center">
              <div class="ob-icon">ğŸ’°</div>
              <div class="ob-title">${t('incomeTitle')}</div>
              <div class="ob-desc">${t('incomeDesc')}</div>
            </div>
            <div class="income-input-wrap">
              <input id="incomeInput" class="income-input" placeholder="${formatCurrency(presets[2])}" value="${state.income ? parseInt(state.income).toLocaleString() : ''}" onkeyup="handleIncome(this)">
              <span class="income-unit">${lang.currency}</span>
            </div>
            <div style="text-align:center;font-size:13px;color:var(--text-muted);margin:-8px 0 16px">${t('smartInputHint')}</div>
            <div class="presets">
              ${presets.map((val, i) => `<button class="preset ${parseInt(state.income) === val ? 'active' : ''}" onclick="setIncome(${val})">${lang.symbolPosition === 'before' ? lang.symbol : ''}${presetLabels[i]}${lang.formatUnit}${lang.symbolPosition === 'after' ? lang.symbol : ''}</button>`).join('')}
            </div>
            <div class="privacy-note"><span>ğŸ”’</span><span>${t('privacyNote')}</span></div>
          </div>
          <div class="footer"><button class="btn" id="nextBtn" ${state.income ? '' : 'disabled'} onclick="nextStep()">${t('continue')}</button></div>
        `;
        return;
      }

      // Step 4: Fixed Expenses
      if (state.step === 4) {
        const fixed = totalFixed();
        const addModal = state.showAddFixed ? `
          <div style="position:absolute;inset:0;background:rgba(0,0,0,0.5);display:flex;align-items:flex-end;z-index:100">
            <div style="background:var(--bg);border-top-left-radius:28px;border-top-right-radius:28px;padding:24px;width:100%">
              <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:24px">
                <span style="font-size:20px;font-weight:700">${t('addFixedTitle')}</span>
                <button onclick="state.showAddFixed=false;render()" style="width:36px;height:36px;background:var(--card);border:1px solid var(--border);border-radius:18px;font-size:18px;cursor:pointer">Ã—</button>
              </div>
              <div style="margin-bottom:16px">
                <label style="font-size:13px;font-weight:600;color:var(--text-muted);display:block;margin-bottom:8px">${t('expenseName')}</label>
                <input id="newFixedName" class="input" placeholder="${t('expenseNamePlaceholder')}">
              </div>
              <div style="margin-bottom:24px">
                <label style="font-size:13px;font-weight:600;color:var(--text-muted);display:block;margin-bottom:8px">${t('amountPerMonth')}</label>
                <input id="newFixedAmount" class="input" placeholder="500,000" style="font-size:20px;font-weight:600;text-align:center">
              </div>
              <button class="btn" onclick="addCustomFixed()">${t('add')}</button>
            </div>
          </div>
        ` : '';

        app.innerHTML = `
          <div class="header">
            <button class="btn-back" onclick="prevStep()">â†</button>
            <div class="progress-dots">${dots}</div>
            <div style="width:44px"></div>
          </div>
          <div class="content">
            <div class="ob-center" style="margin-bottom:24px">
              <div class="ob-icon">ğŸ </div>
              <div class="ob-title">${t('fixedTitle')}</div>
              <div class="ob-desc">${t('fixedDesc')}</div>
            </div>
            <div style="display:flex;flex-direction:column;gap:12px">
              ${state.fixedExpenses.map((f, idx) => `
                <div style="display:flex;align-items:center;gap:12px;background:var(--card);border:1px solid var(--border);border-radius:14px;padding:12px 16px">
                  <span style="font-size:24px">${f.e}</span>
                  <span style="flex:1;font-size:15px;color:var(--text)">${getFixedName(f)}</span>
                  <input
                    id="fixed_${idx}"
                    style="width:110px;padding:10px 12px;border:1px solid var(--border);border-radius:10px;font-size:15px;text-align:right;font-family:inherit"
                    placeholder="0"
                    value="${f.amount ? parseInt(f.amount).toLocaleString() : ''}"
                    onblur="updateFixedAmount(${idx}, this.value)"
                  >
                  <button onclick="removeFixed(${idx})" style="width:32px;height:32px;background:#fee2e2;border:none;border-radius:8px;color:#ef4444;font-size:16px;cursor:pointer">Ã—</button>
                </div>
              `).join('')}
              <button onclick="state.showAddFixed=true;render()" style="display:flex;align-items:center;justify-content:center;gap:8px;padding:16px;background:var(--card);border:2px dashed var(--border);border-radius:14px;color:var(--text-muted);font-size:15px;cursor:pointer;font-family:inherit">
                <span style="font-size:20px">+</span> ${t('addOther')}
              </button>
            </div>
            <div style="margin-top:20px;padding:16px;background:var(--bg);border-radius:14px;display:flex;justify-content:space-between;align-items:center">
              <span style="font-size:14px;color:var(--text-soft)">${t('totalFixed')}</span>
              <span data-fixed-total style="font-size:18px;font-weight:700;color:var(--orange)">${fmt(fixed)}/${t('months').charAt(0)}</span>
            </div>
          </div>
          <div class="footer"><button class="btn" onclick="nextStep()">${t('continue')}</button></div>
          ${addModal}
        `;
        return;
      }

      // Step 5: Goals
      if (state.step === 5) {
        const selectedIds = state.goals.map(g => g.id);
        const goals = getGoals();
        const available = goals.filter(g => !selectedIds.includes(g.id));

        const addModal = state.showAddGoal ? `
          <div style="position:absolute;inset:0;background:rgba(0,0,0,0.5);display:flex;align-items:flex-end;z-index:100">
            <div style="background:var(--bg);border-top-left-radius:28px;border-top-right-radius:28px;padding:24px;width:100%">
              <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:24px">
                <span style="font-size:20px;font-weight:700">${t('createGoalTitle')}</span>
                <button onclick="state.showAddGoal=false;render()" style="width:36px;height:36px;background:var(--card);border:1px solid var(--border);border-radius:18px;font-size:18px;cursor:pointer">Ã—</button>
              </div>
              <div style="margin-bottom:16px">
                <label style="font-size:13px;font-weight:600;color:var(--text-muted);display:block;margin-bottom:8px">${t('goalName')}</label>
                <input id="newGoalName" class="input" placeholder="${t('goalNamePlaceholder')}">
              </div>
              <div style="margin-bottom:24px">
                <label style="font-size:13px;font-weight:600;color:var(--text-muted);display:block;margin-bottom:8px">${t('amountNeeded')}</label>
                <input id="newGoalAmount" class="input" placeholder="10,000,000" style="font-size:20px;font-weight:600;text-align:center">
              </div>
              <button class="btn" onclick="addCustomGoal()">${t('addGoal')}</button>
            </div>
          </div>
        ` : '';

        app.innerHTML = `
          <div class="header">
            <button class="btn-back" onclick="prevStep()">â†</button>
            <div class="progress-dots">${dots}</div>
            <div style="width:44px"></div>
          </div>
          <div class="content">
            <div class="ob-center">
              <div class="ob-icon">ğŸ¯</div>
              <div class="ob-title">${t('goalsTitle')}</div>
              <div class="ob-desc">${t('goalsDesc')}</div>
            </div>
            ${state.goals.length > 0 ? `<div class="selected-goals">${state.goals.map(g => `
              <div class="selected-goal">
                <span class="selected-goal-icon">${g.e}</span>
                <div class="selected-goal-info">
                  <div class="selected-goal-name">${getGoalName(g)}</div>
                  <div class="selected-goal-amount">${fmt(g.amount)}</div>
                </div>
                <button class="selected-goal-remove" onclick="removeGoal('${g.id}')">Ã—</button>
              </div>
            `).join('')}</div>` : ''}
            <div class="goal-grid" style="margin-top:${state.goals.length > 0 ? '16px' : '24px'}">
              ${available.map(g => `
                <div class="goal-item" onclick="${state.goals.length < 3 ? `addGoal('${g.id}')` : ''}">
                  <span class="goal-item-icon">${g.e}</span>
                  <span class="goal-item-name">${g.name}</span>
                </div>
              `).join('')}
              ${state.goals.length < 3 ? `
                <div class="goal-item" onclick="state.showAddGoal=true;render()" style="border-style:dashed;background:transparent">
                  <span class="goal-item-icon" style="font-size:28px;opacity:0.6">+</span>
                </div>
              ` : ''}
            </div>
          </div>
          <div class="footer"><button class="btn" ${state.goals.length > 0 ? '' : 'disabled'} onclick="nextStep()">${t('continue')} (${state.goals.length}/3) â†’</button></div>
          ${addModal}
        `;
        return;
      }

      // Step 6: Allocation
      if (state.step === 6) {
        const lang = getLang();
        const incomeVal = parseInt(state.income) || 0;
        const fixed = totalFixed();
        const allocated = totalAllocation();
        const remaining = spendable();
        app.innerHTML = `
          <div class="header">
            <button class="btn-back" onclick="prevStep()">â†</button>
            <div class="progress-dots">${dots}</div>
            <div style="width:44px"></div>
          </div>
          <div class="content">
            <div class="ob-center" style="margin-bottom:24px">
              <div class="ob-icon">ğŸ’¸</div>
              <div class="ob-title">${t('allocationTitle')}</div>
              <div class="ob-desc">${t('allocationDesc')}</div>
            </div>
            ${state.goals.map((g, idx) => {
              const alloc = state.allocations[g.id] || '';
              const monthly = parseInt(alloc) || 0;
              const months = monthly > 0 ? Math.ceil(g.amount / monthly) : 0;
              return `
                <div class="allocation-card">
                  <div class="allocation-header">
                    <span class="allocation-icon">${g.e}</span>
                    <div>
                      <div class="allocation-name">${getGoalName(g)}</div>
                      <div class="allocation-target">${t('target')}: ${fmt(g.amount)}</div>
                    </div>
                  </div>
                  <div class="allocation-input-row">
                    <input id="alloc_${idx}" class="allocation-input" placeholder="0" value="${alloc ? parseInt(alloc).toLocaleString() : ''}" onblur="updateAllocation('${g.id}', this.value)">
                    <span class="allocation-per">${lang.currency} / ${t('months').slice(0,2)}</span>
                  </div>
                  <div class="allocation-time" data-time-${idx}>${monthly > 0 ? `${t('reachGoalIn')} <strong>${months} ${t('months')}</strong>` : ''}</div>
                </div>
              `;
            }).join('')}
            <div style="background:var(--card);border:1px solid var(--border);border-radius:16px;padding:20px;margin-top:8px">
              <div style="display:flex;justify-content:space-between;margin-bottom:12px">
                <span style="color:var(--text-muted);font-size:14px">${t('income')}</span>
                <span style="font-weight:600">${fmt(incomeVal)}</span>
              </div>
              <div style="display:flex;justify-content:space-between;margin-bottom:12px">
                <span style="color:var(--text-muted);font-size:14px">${t('fixedExpenses')}</span>
                <span style="font-weight:600;color:var(--text-soft)">-${fmt(fixed)}</span>
              </div>
              <div style="display:flex;justify-content:space-between;margin-bottom:12px">
                <span style="color:var(--text-muted);font-size:14px">${t('savingForGoals')}</span>
                <span data-alloc-total style="font-weight:600;color:var(--orange)">-${fmt(allocated)}</span>
              </div>
              <div style="border-top:1px solid var(--border);padding-top:12px;display:flex;justify-content:space-between">
                <span style="font-weight:600">${t('spendComfortably')}</span>
                <span data-remain-total style="font-weight:700;font-size:18px;color:${remaining >= 0 ? 'var(--green)' : '#ef4444'}">${fmt(remaining)}</span>
              </div>
            </div>
          </div>
          <div class="footer"><button class="btn" data-finish-btn ${allocated > 0 && remaining >= 0 ? '' : 'disabled'} onclick="finishOnboarding()">${t('finish')}</button></div>
        `;
        return;
      }
    };

    const renderMain = (app) => {
      app.className = 'phone';
      const remaining = spendable() - todaySpent();
      const archetypes = getArchetypes();
      const arch = archetypes[state.archetype];

      // Apply archetype-specific theme color
      const archColor = arch?.color || '#8b5cf6';
      document.documentElement.style.setProperty('--primary', archColor);

      // Archetype-specific encouraging messages
      const getArchetypeQuote = () => {
        const quotes = {
          dreamer: [
            t('dreamerQuote1') || 'Dreams become reality, one step at a time âœ¨',
            t('dreamerQuote2') || 'Your vision is your compass ğŸŒŸ',
            t('dreamerQuote3') || 'Big things start with small savings ğŸ’«'
          ],
          experiencer: [
            t('experiencerQuote1') || 'Life is made of moments worth funding ğŸ¢',
            t('experiencerQuote2') || 'Adventures await, you\'re preparing well! ğŸŒˆ',
            t('experiencerQuote3') || 'Each save brings new experiences closer ğŸ¯'
          ],
          giver: [
            t('giverQuote1') || 'Your generosity starts with self-care ğŸ’',
            t('giverQuote2') || 'Secure your mask first, then help others ğŸ¤',
            t('giverQuote3') || 'Financial wellness lets you give more ğŸ’•'
          ],
          planner: [
            t('plannerQuote1') || 'Every detail matters, you\'re on track ğŸ“‹',
            t('plannerQuote2') || 'Systematic progress leads to success ğŸ¯',
            t('plannerQuote3') || 'Your plan is working beautifully âœ…'
          ]
        };
        const typeQuotes = quotes[state.archetype] || quotes.dreamer;
        return typeQuotes[Math.floor(Math.random() * typeQuotes.length)];
      };

      // Simple text-based add expense modal
      const addExpenseModal = state.showAddExpense ? `
        <div style="position:absolute;inset:0;background:rgba(0,0,0,0.5);display:flex;align-items:flex-end;z-index:100" onclick="if(event.target===this)closeAddExpense()">
          <div style="background:var(--bg);border-top-left-radius:28px;border-top-right-radius:28px;padding:24px;width:100%">
            <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:20px">
              <span style="font-size:20px;font-weight:700">${t('addExpenseTitle')}</span>
              <button onclick="closeAddExpense()" style="width:36px;height:36px;background:var(--card);border:1px solid var(--border);border-radius:18px;font-size:18px;cursor:pointer">Ã—</button>
            </div>
            <div style="margin-bottom:20px">
              <input id="expenseText" class="input" placeholder="${t('expenseTextPlaceholder')}" style="font-size:18px;padding:16px" onkeydown="if(event.key==='Enter')parseAndAddExpense()">
              <div style="font-size:12px;color:var(--text-muted);margin-top:8px;padding:0 4px">${t('expenseTextHint')}</div>
            </div>
            <button class="btn" onclick="parseAndAddExpense()">${t('addExpense')}</button>
          </div>
        </div>
      ` : '';

      // Chat response section
      let chatSection = '';
      if (state.chatLoading) {
        chatSection = `
          <div class="response show">
            <div class="response-bubble">
              <div class="typing">
                <span></span><span></span><span></span>
              </div>
            </div>
          </div>
        `;
      } else if (state.chatResponse) {
        // Calculate goal impact for permission engine
        const purchaseAmount = state.chatParsed?.amount || 0;
        const remainingAfter = remaining - purchaseAmount;
        const affectsGoals = purchaseAmount > (remaining * 0.3); // >30% affects goals
        const goalImpactText = state.goals.length > 0
          ? (affectsGoals
              ? `âš ï¸ ${t('mayAffectGoals') || 'May slow down goals'}`
              : `âœ“ ${t('noGoalImpact') || 'Won\'t affect your goals'}`)
          : '';

        chatSection = `
          <div class="response show">
            <div class="response-bubble">
              <div class="response-text">${state.chatResponse}</div>
              ${state.chatParsed ? `
                <div style="background:var(--bg);border-radius:12px;padding:12px;margin:12px 0">
                  ${goalImpactText ? `<div style="font-size:13px;color:${affectsGoals ? 'var(--orange)' : 'var(--green)'};margin-bottom:8px">${goalImpactText}</div>` : ''}
                  <div style="font-size:13px;color:var(--text-muted)">âœ“ ${t('afterPurchase')}: <strong style="color:var(--text)">${fmt(remainingAfter)}</strong> ${t('leftRemaining')}</div>
                </div>
                <div class="response-actions">
                  <button class="res-btn primary" onclick="confirmChatPurchase()">${t('bought')}</button>
                  <button class="res-btn secondary" onclick="clearChat()">${t('cancel')}</button>
                </div>
              ` : `
                <div class="response-actions">
                  <button class="res-btn secondary" onclick="clearChat()" style="flex:none;width:100%">${t('close')}</button>
                </div>
              `}
            </div>
          </div>
        `;
      }
      
      // Home tab content
      const moniMood = getMoniMood();
      const moniExpression = getMoniExpression(moniMood);
      const moniQuote = getArchetypeQuote();
      const celebrationBanner = state.showCelebration ? `
        <div class="celebration-banner">
          <div class="icon">${state.showCelebration.icon}</div>
          <div class="text">
            <div class="title">${state.showCelebration.title}</div>
            <div class="desc">${state.showCelebration.desc}</div>
          </div>
          <button class="dismiss" onclick="dismissCelebration()">Ã—</button>
        </div>
      ` : '';
      const streakBadge = state.streakDays >= 3 ? `<span class="streak-badge">ğŸ”¥ ${state.streakDays} ${t('days') || 'days'}</span>` : '';
      const homeContent = `
        <div class="main-header">
          <div class="greeting">${t('hey')} ${state.userName} ğŸ‘‹ ${streakBadge}</div>
          <div class="avatar-container" style="position:relative">
            <div class="avatar" style="background:linear-gradient(135deg, ${archColor}22, ${archColor}11)">${arch?.emoji || 'âœ¨'}</div>
            <div style="position:absolute;bottom:-2px;right:-2px;font-size:10px;background:${archColor};color:white;padding:2px 6px;border-radius:8px;font-weight:600">${arch?.tag || ''}</div>
          </div>
        </div>
        ${celebrationBanner}
        <div style="background:linear-gradient(135deg, ${archColor}11, ${archColor}05);border:1px solid ${archColor}22;border-radius:12px;padding:12px 16px;margin-bottom:16px;display:flex;align-items:center;gap:10px">
          <span style="font-size:20px">${moniExpression}</span>
          <span style="font-size:13px;color:var(--text-soft);font-style:italic">${moniQuote}</span>
        </div>
        <div class="spendable">
          <div class="spendable-label">${t('spendableLabel')}</div>
          <div class="spendable-amount">${formatSpendable(remaining)}</div>
          ${(() => {
            // Peace of Mind Indicator logic
            const daysLeft = getDaysRemainingInMonth();
            const dailyBudget = daysLeft > 0 ? remaining / daysLeft : 0;
            const totalDays = new Date(new Date().getFullYear(), new Date().getMonth() + 1, 0).getDate();
            const idealDaily = spendable() / totalDays; // Original monthly budget / total days
            const paceRatio = idealDaily > 0 ? dailyBudget / idealDaily : 1;

            let peaceStatus, peaceEmoji, peaceColor;
            if (paceRatio >= 1) {
              peaceStatus = t('paceOkay') || 'Äang okay';
              peaceEmoji = 'ğŸŒ¿';
              peaceColor = 'var(--green)';
            } else if (paceRatio >= 0.8) {
              peaceStatus = t('paceGood') || 'Váº«n á»•n';
              peaceEmoji = 'ğŸŒ±';
              peaceColor = '#84cc16';
            } else {
              peaceStatus = t('paceWatch') || 'ChÃº Ã½ chÃºt';
              peaceEmoji = 'ğŸ’­';
              peaceColor = 'var(--orange)';
            }

            // Generate dots (10 dots total)
            const filledDots = Math.min(10, Math.max(0, Math.round(paceRatio * 10)));
            const dots = 'â—‰'.repeat(filledDots) + 'â—‹'.repeat(10 - filledDots);

            const paceMessage = paceRatio >= 0.8
              ? (t('onPace') || 'váº«n Ä‘Ãºng pace')
              : (t('slowDown') || 'nÃªn cháº­m láº¡i');

            return `
              <div style="margin-top:12px;padding:12px;background:var(--card);border-radius:12px;border:1px solid var(--border)">
                <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:6px">
                  <span style="font-size:14px;letter-spacing:1px;color:${peaceColor}">${dots}</span>
                  <span style="font-size:13px;font-weight:600;color:${peaceColor}">${peaceStatus} ${peaceEmoji}</span>
                </div>
                <div style="font-size:12px;color:var(--text-muted)">${t('remaining')} ${daysLeft} ${(t('daysLeft') || 'days left').toLowerCase()} Â· ${paceMessage}</div>
              </div>
            `;
          })()}
        </div>
        <div class="goals-status">
          ${state.goals.slice(0, 2).map((g, i) => {
            const deposited = state.goalDeposits[g.id] || 0;
            const progress = Math.min(100, Math.round((deposited / g.amount) * 100));
            const remaining = g.amount - deposited;
            const alloc = parseInt(state.allocations[g.id]) || 0;
            const monthsLeft = alloc > 0 ? Math.ceil(remaining / alloc) : 0;
            const encouragement = progress >= 75 ? 'ğŸ”¥' : progress >= 50 ? 'ğŸ’ª' : progress >= 25 ? 'ğŸŒ±' : 'âœ¨';
            return `
              <div class="goal-pill" onclick="switchTab('goals')" style="cursor:pointer">
                <span class="goal-emoji">${g.e}</span>
                <div class="goal-info">
                  <div class="goal-name">${getGoalName(g)}</div>
                  <div class="goal-meta">${progress > 0 ? fmt(deposited) + ' Â· ' : ''}${monthsLeft > 0 ? monthsLeft + ' ' + t('months') + ' ' + t('remaining').toLowerCase() : t('setAllocation')} ${encouragement}</div>
                  <div class="goal-progress"><div class="goal-progress-fill" style="width: ${progress}%"></div></div>
                </div>
              </div>
            `;
          }).join('')}
        </div>
        <div class="recent-section">
          <div class="recent-header">
            <span class="recent-title">${t('today')}</span>
            <div style="display:flex;align-items:center;gap:12px">
              <span class="recent-total">${getTodayTransactions().length > 0 ? fmt(todaySpent()) : ''}</span>
              <button onclick="switchTab('history')" style="background:none;border:none;color:var(--primary);font-size:13px;cursor:pointer;font-family:inherit">${t('seeAll')} â†’</button>
            </div>
          </div>
          <div class="recent-list">
            ${getTodayTransactions().length > 0 ? getTodayTransactions().slice(0, 4).map(tx => `
              <div class="recent-item">
                <span class="recent-emoji">${tx.emoji}</span>
                <span class="recent-name">${tx.name}</span>
                <span class="recent-amount">${fmt(tx.amount)}</span>
              </div>
            `).join('') : `
              <div style="text-align:center;padding:24px;color:var(--text-muted)">
                <div style="font-size:32px;margin-bottom:8px">âœ¨</div>
                <div style="font-size:14px">${t('noExpensesYet')}</div>
              </div>
            `}
          </div>
        </div>
        <div class="spacer"></div>
        <div class="ask-section">
          <div class="ask-container">
            <div class="ask-row">
              <div class="ask-icon">ğŸŒ¿</div>
              <input type="text" class="ask-input" placeholder="${t('askPlaceholder')}" id="askInput" onkeydown="if(event.key==='Enter')askMoni()">
              <button class="ask-btn" onclick="askMoni()">â†’</button>
            </div>
          </div>
          <div class="chips">
            ${(getLang().quickExpenses || []).slice(0, 3).map(qe => `
              <button class="chip" onclick="askWithText('${qe.label}')">${qe.emoji} ${qe.label}</button>
            `).join('')}
          </div>
          ${chatSection}
          <div class="ask-hint">${t('askHint')}</div>
        </div>
      `;

      // Archetype-specific goal card renderer
      const renderGoalCard = (g) => {
        const deposited = state.goalDeposits[g.id] || 0;
        const alloc = parseInt(state.allocations[g.id]) || 0;
        const progress = Math.min(100, Math.round((deposited / g.amount) * 100));
        const remaining = g.amount - deposited;
        const monthsLeft = alloc > 0 ? Math.ceil(remaining / alloc) : 0;
        const isComplete = deposited >= g.amount;
        const archetype = state.archetype;
        const goalNote = state.goalNotes[g.id] || '';

        // Future Self note section - shared across all archetypes
        const noteSection = `
          <div style="background:var(--bg);border-radius:12px;padding:12px;margin:12px 0;cursor:pointer" onclick="editGoalNote('${g.id}')">
            ${goalNote
              ? `<div style="font-size:13px;color:var(--text-soft);font-style:italic">"${goalNote}"</div>`
              : `<div style="font-size:12px;color:var(--text-muted);display:flex;align-items:center;gap:6px"><span>âœï¸</span> ${t('addFutureSelfNote') || 'Add a note about your future self...'}</div>`
            }
          </div>
        `;

        // DREAMER: Vision board style - soft, dreamy, inspirational
        if (archetype === 'dreamer') {
          const quote = progress >= 50 ? (t('dreamerGoalQuote1') || 'Your dream is taking shape âœ¨') : (t('dreamerGoalQuote2') || 'Every step brings you closer ğŸŒŸ');
          return `
            <div style="background:linear-gradient(135deg, ${archColor}11, ${archColor}05);border:1px solid ${archColor}33;border-radius:20px;padding:24px;margin-bottom:16px;position:relative;overflow:hidden">
              <div style="position:absolute;top:12px;right:12px;font-size:40px;opacity:0.15">${g.e}</div>
              <div style="font-size:11px;text-transform:uppercase;letter-spacing:1px;color:${archColor};font-weight:600;margin-bottom:8px">âœ¨ ${t('dreamGoal') || 'Dream Goal'}</div>
              <div style="font-size:20px;font-weight:700;margin-bottom:4px">${getGoalName(g)}</div>
              <div style="font-size:13px;color:var(--text-muted);font-style:italic;margin-bottom:16px">${quote}</div>
              <div style="display:flex;align-items:center;gap:16px;margin-bottom:16px">
                <div style="flex:1;background:rgba(0,0,0,0.06);border-radius:10px;height:12px;overflow:hidden">
                  <div style="background:${archColor};height:100%;width:${progress}%;border-radius:10px;transition:width 0.5s"></div>
                </div>
                <span style="font-size:15px;font-weight:700;color:${archColor}">${progress}%</span>
              </div>
              <div style="display:flex;justify-content:space-between;align-items:center;padding:12px 16px;background:rgba(255,255,255,0.5);border-radius:12px;margin-bottom:12px">
                <div><div style="font-size:11px;color:var(--text-muted)">${t('saved')}</div><div style="font-size:18px;font-weight:700">${fmt(deposited)}</div></div>
                <div style="font-size:20px">${isComplete ? 'ğŸ‰' : monthsLeft <= 2 ? 'ğŸ”¥' : 'âœ¨'}</div>
                <div style="text-align:right"><div style="font-size:11px;color:var(--text-muted)">${t('target')}</div><div style="font-size:18px;font-weight:700">${fmt(g.amount)}</div></div>
              </div>
              ${noteSection}
              ${!isComplete ? `<button onclick="depositToGoal('${g.id}')" style="width:100%;padding:14px;background:${archColor};color:white;border:none;border-radius:14px;font-weight:600;cursor:pointer;font-family:inherit;font-size:15px">${t('bringDreamCloser') || 'Bring Dream Closer'} +</button>` : `<div style="text-align:center;padding:14px;background:rgba(34,197,94,0.15);border-radius:14px;color:var(--green);font-weight:700;font-size:15px">ğŸ‰ ${t('dreamAchieved') || 'Dream Achieved'}!</div>`}
            </div>
          `;
        }

        // PLANNER: Detailed stats view - organized, data-rich
        if (archetype === 'planner') {
          const weeklyTarget = alloc > 0 ? Math.round(alloc / 4) : 0;
          const dailyTarget = alloc > 0 ? Math.round(alloc / 30) : 0;
          const completionDate = monthsLeft > 0 ? new Date(Date.now() + monthsLeft * 30 * 24 * 60 * 60 * 1000).toLocaleDateString(state.language, { month: 'short', year: 'numeric' }) : '';
          return `
            <div style="background:var(--card);border:1px solid var(--border);border-radius:16px;padding:20px;margin-bottom:12px">
              <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:16px">
                <div style="display:flex;align-items:center;gap:12px">
                  <span style="font-size:28px">${g.e}</span>
                  <div><div style="font-weight:700;font-size:16px">${getGoalName(g)}</div><div style="font-size:12px;color:var(--text-muted)">${isComplete ? 'âœ… ' + t('completed') : completionDate ? 'ğŸ“… ETA: ' + completionDate : ''}</div></div>
                </div>
                <div style="text-align:right"><div style="font-size:20px;font-weight:700;color:${isComplete ? 'var(--green)' : archColor}">${progress}%</div></div>
              </div>
              <div style="background:var(--bg);border-radius:8px;height:8px;overflow:hidden;margin-bottom:16px">
                <div style="background:${isComplete ? 'var(--green)' : archColor};height:100%;width:${progress}%;border-radius:8px"></div>
              </div>
              <div style="display:grid;grid-template-columns:repeat(3,1fr);gap:8px;margin-bottom:16px">
                <div style="background:var(--bg);padding:12px;border-radius:10px;text-align:center"><div style="font-size:11px;color:var(--text-muted);margin-bottom:4px">${t('saved')}</div><div style="font-size:14px;font-weight:700">${fmt(deposited)}</div></div>
                <div style="background:var(--bg);padding:12px;border-radius:10px;text-align:center"><div style="font-size:11px;color:var(--text-muted);margin-bottom:4px">${t('remaining')}</div><div style="font-size:14px;font-weight:700">${fmt(remaining)}</div></div>
                <div style="background:var(--bg);padding:12px;border-radius:10px;text-align:center"><div style="font-size:11px;color:var(--text-muted);margin-bottom:4px">${t('monthly')}</div><div style="font-size:14px;font-weight:700">${fmt(alloc)}</div></div>
              </div>
              ${alloc > 0 ? `<div style="font-size:12px;color:var(--text-muted);padding:10px;background:var(--bg);border-radius:8px;margin-bottom:12px">ğŸ“Š ${t('breakdown') || 'Breakdown'}: ${fmt(weeklyTarget)}/${t('week') || 'wk'} Â· ${fmt(dailyTarget)}/${t('day') || 'day'}</div>` : ''}
              ${noteSection}
              ${!isComplete ? `<div style="display:flex;gap:8px"><button onclick="depositToGoal('${g.id}')" style="flex:1;padding:12px;background:${archColor};color:white;border:none;border-radius:12px;font-weight:600;cursor:pointer;font-family:inherit">+ ${t('deposit')}</button>${deposited > 0 ? `<button onclick="withdrawFromGoal('${g.id}')" style="padding:12px 16px;background:var(--card);border:1px solid var(--border);border-radius:12px;cursor:pointer;font-family:inherit">âˆ’</button>` : ''}</div>` : ''}
            </div>
          `;
        }

        // GIVER: Impact-focused view - warm, generous
        if (archetype === 'giver') {
          const impactMessage = g.id === 'trip' ? (t('giverTripImpact') || 'Create memories with loved ones') : g.id === 'emergency' ? (t('giverEmergencyImpact') || 'Be there when others need you') : (t('giverDefaultImpact') || 'Enable your generous heart');
          return `
            <div style="background:linear-gradient(135deg, #ec489911, #ec489905);border:1px solid #ec489933;border-radius:16px;padding:20px;margin-bottom:12px">
              <div style="display:flex;align-items:center;gap:12px;margin-bottom:12px">
                <span style="font-size:32px">${g.e}</span>
                <div style="flex:1"><div style="font-weight:700;font-size:16px">${getGoalName(g)}</div><div style="font-size:12px;color:#ec4899;font-style:italic">${impactMessage}</div></div>
              </div>
              <div style="background:rgba(236,72,153,0.1);border-radius:12px;padding:16px;margin-bottom:16px">
                <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px"><span style="font-size:13px;color:var(--text-muted)">${t('yourProgress') || 'Your progress'}</span><span style="font-size:15px;font-weight:700;color:#ec4899">${progress}%</span></div>
                <div style="background:rgba(0,0,0,0.1);border-radius:6px;height:8px;overflow:hidden"><div style="background:#ec4899;height:100%;width:${progress}%;border-radius:6px"></div></div>
              </div>
              <div style="display:flex;gap:12px;margin-bottom:16px">
                <div style="flex:1;text-align:center;padding:12px;background:rgba(255,255,255,0.5);border-radius:10px"><div style="font-size:18px;font-weight:700">${fmt(deposited)}</div><div style="font-size:11px;color:var(--text-muted)">${t('saved')}</div></div>
                <div style="flex:1;text-align:center;padding:12px;background:rgba(255,255,255,0.5);border-radius:10px"><div style="font-size:18px;font-weight:700">${fmt(remaining)}</div><div style="font-size:11px;color:var(--text-muted)">${t('toGo') || 'to go'}</div></div>
              </div>
              ${noteSection}
              ${!isComplete ? `<button onclick="depositToGoal('${g.id}')" style="width:100%;padding:14px;background:#ec4899;color:white;border:none;border-radius:14px;font-weight:600;cursor:pointer;font-family:inherit">ğŸ’ ${t('addToGiving') || 'Add to Your Giving Fund'}</button>` : `<div style="text-align:center;padding:14px;background:rgba(34,197,94,0.15);border-radius:14px;color:var(--green);font-weight:700">ğŸ’ ${t('readyToGive') || 'Ready to Give'}!</div>`}
            </div>
          `;
        }

        // EXPERIENCER: Adventure/memory style - exciting, bold
        if (archetype === 'experiencer') {
          return `
            <div style="background:linear-gradient(135deg, #f9731611, #f9731605);border:1px solid #f9731633;border-radius:20px;overflow:hidden;margin-bottom:16px">
              <div style="background:linear-gradient(135deg, #f97316, #fb923c);padding:20px;color:white">
                <div style="display:flex;align-items:center;gap:12px">
                  <span style="font-size:36px">${g.e}</span>
                  <div><div style="font-size:12px;opacity:0.9">ğŸ¢ ${t('adventure') || 'ADVENTURE'}</div><div style="font-size:20px;font-weight:700">${getGoalName(g)}</div></div>
                </div>
              </div>
              <div style="padding:20px">
                <div style="display:flex;align-items:center;gap:12px;margin-bottom:16px">
                  <div style="flex:1;background:var(--bg);border-radius:8px;height:10px;overflow:hidden"><div style="background:linear-gradient(90deg, #f97316, #fb923c);height:100%;width:${progress}%;border-radius:8px"></div></div>
                  <span style="font-size:16px;font-weight:700;color:#f97316">${progress}%</span>
                </div>
                <div style="display:flex;justify-content:space-around;text-align:center;margin-bottom:16px">
                  <div><div style="font-size:20px;font-weight:700">${fmt(deposited)}</div><div style="font-size:11px;color:var(--text-muted)">${t('fundedSoFar') || 'funded'}</div></div>
                  <div style="width:1px;background:var(--border)"></div>
                  <div><div style="font-size:20px;font-weight:700">${monthsLeft || 'âˆ'}</div><div style="font-size:11px;color:var(--text-muted)">${t('monthsToGo') || 'months to go'}</div></div>
                </div>
                ${noteSection}
                ${!isComplete ? `<button onclick="depositToGoal('${g.id}')" style="width:100%;padding:14px;background:linear-gradient(90deg, #f97316, #fb923c);color:white;border:none;border-radius:14px;font-weight:600;cursor:pointer;font-family:inherit;font-size:15px">ğŸ¢ ${t('fundAdventure') || 'Fund This Adventure'}</button>` : `<div style="text-align:center;padding:14px;background:rgba(249,115,22,0.15);border-radius:14px;color:#f97316;font-weight:700;font-size:15px">ğŸ‰ ${t('adventureReady') || 'Adventure Ready'}!</div>`}
              </div>
            </div>
          `;
        }

        // Default fallback
        return `<div style="background:var(--card);border:1px solid var(--border);border-radius:16px;padding:20px;margin-bottom:12px">
          <div style="display:flex;align-items:center;gap:12px"><span style="font-size:32px">${g.e}</span><div><div style="font-weight:700">${getGoalName(g)}</div><div style="color:var(--text-muted)">${fmt(deposited)} / ${fmt(g.amount)}</div></div></div>
        </div>`;
      };

      // Goals tab content - archetype-specific
      const goalsContent = `
        <div class="main-header">
          <div class="greeting">${arch?.emoji || 'ğŸ¯'} ${t('goals')}</div>
          <div class="avatar" style="background:linear-gradient(135deg, ${archColor}22, ${archColor}11)">${arch?.emoji || 'âœ¨'}</div>
        </div>
        <div style="margin-top:16px">
          ${state.goals.length > 0 ? state.goals.map(g => renderGoalCard(g)).join('') : `
            <div style="text-align:center;padding:48px 24px;color:var(--text-muted)">
              <div style="font-size:48px;margin-bottom:16px">${arch?.emoji || 'ğŸ¯'}</div>
              <div style="font-size:16px;font-weight:600;margin-bottom:8px">${t('noGoalsYet')}</div>
              <div style="font-size:14px">${t('goalsWillAppear')}</div>
            </div>
          `}
        </div>
      `;

      // History tab content - group transactions by date
      const groupByDate = (transactions) => {
        const groups = {};
        transactions.forEach(tx => {
          const dateKey = tx.timestamp ? new Date(tx.timestamp).toDateString() : new Date().toDateString();
          if (!groups[dateKey]) groups[dateKey] = [];
          groups[dateKey].push(tx);
        });
        return groups;
      };

      const txGroups = groupByDate(getThisMonthTransactions());
      const groupKeys = Object.keys(txGroups).sort((a, b) => new Date(b) - new Date(a));

      const historyContent = `
        <div class="main-header">
          <div class="greeting">ğŸ“Š ${t('history')}</div>
          <div class="avatar">${arch?.emoji || 'âœ¨'}</div>
        </div>
        <div style="margin-top:16px">
          ${getThisMonthTransactions().length > 0 ? `
            <div style="background:var(--card);border:1px solid var(--border);border-radius:16px;padding:16px;margin-bottom:12px">
              <div style="display:flex;justify-content:space-between;align-items:center">
                <span style="font-weight:600">${t('thisMonth')}</span>
                <span style="font-weight:700;color:var(--text)">${fmt(monthSpent())}</span>
              </div>
            </div>
            ${groupKeys.map(dateKey => {
              const txs = txGroups[dateKey];
              const dayTotal = txs.reduce((a, b) => a + b.amount, 0);
              const dateLabel = formatDate(txs[0].timestamp);
              return `
                <div style="background:var(--card);border:1px solid var(--border);border-radius:16px;padding:16px;margin-bottom:12px">
                  <div style="display:flex;justify-content:space-between;font-weight:600;font-size:14px;color:var(--text-muted);margin-bottom:12px">
                    <span>${dateLabel}</span>
                    <span>${fmt(dayTotal)}</span>
                  </div>
                  ${txs.map(tx => `
                    <div style="display:flex;align-items:center;padding:10px 0;border-bottom:1px solid var(--border)">
                      <span style="font-size:24px;margin-right:12px">${tx.emoji}</span>
                      <span style="flex:1;font-weight:500">${tx.name}</span>
                      <span style="font-weight:600;color:var(--text-soft)">${fmt(tx.amount)}</span>
                    </div>
                  `).join('')}
                </div>
              `;
            }).join('')}
          ` : `
            <div style="text-align:center;padding:48px 24px;color:var(--text-muted)">
              <div style="font-size:48px;margin-bottom:16px">ğŸ“Š</div>
              <div style="font-size:16px;font-weight:600;margin-bottom:8px">${t('noExpensesYet')}</div>
              <div style="font-size:14px">${t('expensesWillAppear')}</div>
            </div>
          `}
        </div>
      `;

      // Analytics tab content - Spending meaning categories
      const categorizeTransaction = (tx) => {
        const name = (tx.name || '').toLowerCase();
        const emoji = tx.emoji || '';
        // Relationships: gifts, dining out, social
        if (['ğŸ', 'ğŸ’', 'ğŸ½ï¸', 'ğŸº', 'ğŸ‚', 'ğŸ‰'].includes(emoji) || /gift|party|friend|date|dinner|lunch/i.test(name)) return 'relationships';
        // Self-care: health, wellness, entertainment, personal
        if (['ğŸ’Š', 'ğŸ‹ï¸', 'ğŸ§˜', 'ğŸ’‡', 'ğŸ¬', 'ğŸ®', 'â˜•', 'ğŸ§–'].includes(emoji) || /spa|gym|movie|game|cafe|health|beauty/i.test(name)) return 'selfcare';
        // Default: Necessities
        return 'necessities';
      };

      const monthTx = getThisMonthTransactions();
      const categoryTotals = { relationships: 0, selfcare: 0, necessities: 0 };
      monthTx.forEach(tx => { categoryTotals[categorizeTransaction(tx)] += tx.amount; });
      const totalSpent = monthTx.reduce((a, b) => a + b.amount, 0);

      const categoryData = [
        { key: 'relationships', emoji: 'ğŸ‘¥', label: t('relationships') || 'Relationships', color: '#ec4899', amount: categoryTotals.relationships },
        { key: 'selfcare', emoji: 'ğŸ§˜', label: t('selfCare') || 'Self-care', color: '#8b5cf6', amount: categoryTotals.selfcare },
        { key: 'necessities', emoji: 'ğŸ¯', label: t('necessities') || 'Necessities', color: '#10b981', amount: categoryTotals.necessities },
      ];

      const analyticsContent = `
        <div class="main-header">
          <div class="greeting">ğŸ“Š ${t('analytics') || 'Analytics'}</div>
          <div class="avatar" style="background:linear-gradient(135deg, ${archColor}22, ${archColor}11)">${arch?.emoji || 'âœ¨'}</div>
        </div>
        <div style="margin-top:16px">
          <div style="background:var(--card);border:1px solid var(--border);border-radius:20px;padding:24px;margin-bottom:16px">
            <div style="text-align:center;margin-bottom:20px">
              <div style="font-size:13px;color:var(--text-muted);margin-bottom:4px">${t('thisMonthSpending') || 'This month you spent'}</div>
              <div style="font-size:32px;font-weight:700">${fmt(totalSpent)}</div>
            </div>
            <div style="font-size:14px;font-weight:600;margin-bottom:16px;color:var(--text-muted)">${t('meaningAttached') || 'Meaning attached to spending'}:</div>
            ${categoryData.map(cat => {
              const percent = totalSpent > 0 ? Math.round((cat.amount / totalSpent) * 100) : 0;
              return `
                <div style="margin-bottom:16px">
                  <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px">
                    <div style="display:flex;align-items:center;gap:8px">
                      <span style="font-size:20px">${cat.emoji}</span>
                      <span style="font-weight:600">${cat.label}</span>
                    </div>
                    <div style="text-align:right">
                      <span style="font-weight:700">${fmt(cat.amount)}</span>
                      <span style="color:var(--text-muted);font-size:13px;margin-left:4px">(${percent}%)</span>
                    </div>
                  </div>
                  <div style="background:var(--bg);border-radius:6px;height:8px;overflow:hidden">
                    <div style="background:${cat.color};height:100%;width:${percent}%;border-radius:6px;transition:width 0.3s"></div>
                  </div>
                </div>
              `;
            }).join('')}
          </div>
          ${monthTx.length === 0 ? `
            <div style="text-align:center;padding:32px;color:var(--text-muted)">
              <div style="font-size:40px;margin-bottom:12px">ğŸ“Š</div>
              <div style="font-size:14px">${t('noDataYet') || 'Add expenses to see analytics'}</div>
            </div>
          ` : `
            <div style="background:linear-gradient(135deg, ${archColor}11, ${archColor}05);border:1px solid ${archColor}22;border-radius:16px;padding:16px">
              <div style="font-size:13px;color:var(--text-soft);text-align:center">
                ${categoryTotals.relationships > categoryTotals.selfcare && categoryTotals.relationships > categoryTotals.necessities
                  ? `ğŸ’ ${t('relationshipsFocus') || 'You prioritize relationships - beautiful!'}`
                  : categoryTotals.selfcare > categoryTotals.necessities
                    ? `ğŸ§˜ ${t('selfCareFocus') || 'You\'re taking care of yourself - important!'}`
                    : `âœ… ${t('necessitiesFocus') || 'Focused on essentials - practical!'}`}
              </div>
            </div>
          `}
        </div>
      `;

      // Settings tab content
      const totalFixedSettings = Array.isArray(state.fixedExpenses)
        ? state.fixedExpenses.reduce((a, b) => a + (parseInt(b.amount) || 0), 0)
        : 0;
      const totalAlloc = Object.values(state.allocations).reduce((a, b) => a + (parseInt(b) || 0), 0);
      const settingsContent = `
        <div class="main-header">
          <div class="greeting">âš™ï¸ ${t('settings') || 'Settings'}</div>
          <div class="avatar" style="background:linear-gradient(135deg, ${archColor}22, ${archColor}11)">${arch?.emoji || 'âœ¨'}</div>
        </div>
        <div style="margin-top:16px">
          <!-- Income -->
          <div style="background:var(--card);border:1px solid var(--border);border-radius:16px;padding:16px;margin-bottom:12px">
            <div style="display:flex;justify-content:space-between;align-items:center">
              <div style="display:flex;align-items:center;gap:12px">
                <span style="font-size:24px">ğŸ’°</span>
                <div>
                  <div style="font-size:13px;color:var(--text-muted)">${t('income') || 'Income'}</div>
                  <div style="font-size:18px;font-weight:700">${fmt(parseInt(state.income) || 0)}</div>
                </div>
              </div>
              <button onclick="editIncome()" style="padding:8px 16px;background:var(--bg);border:1px solid var(--border);border-radius:10px;font-size:13px;cursor:pointer;font-family:inherit">${t('edit') || 'Edit'}</button>
            </div>
          </div>

          <!-- Fixed Expenses -->
          <div style="background:var(--card);border:1px solid var(--border);border-radius:16px;padding:16px;margin-bottom:12px">
            <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px">
              <div style="display:flex;align-items:center;gap:12px">
                <span style="font-size:24px">ğŸ </span>
                <div>
                  <div style="font-size:13px;color:var(--text-muted)">${t('fixedExpenses') || 'Fixed Expenses'}</div>
                  <div style="font-size:18px;font-weight:700">${fmt(totalFixedSettings)}/${t('month') || 'mo'}</div>
                </div>
              </div>
              <button onclick="editFixedExpenses()" style="padding:8px 16px;background:var(--bg);border:1px solid var(--border);border-radius:10px;font-size:13px;cursor:pointer;font-family:inherit">${t('edit') || 'Edit'}</button>
            </div>
            <div style="font-size:12px;color:var(--text-muted);padding-left:36px">
              ${Array.isArray(state.fixedExpenses) && state.fixedExpenses.filter(f => parseInt(f.amount) > 0).length > 0
                ? state.fixedExpenses.filter(f => parseInt(f.amount) > 0).map(f => `${t(f.nameKey) || f.nameKey}: ${fmt(f.amount)}`).join(' Â· ')
                : (t('noFixedExpenses') || 'No fixed expenses')}
            </div>
          </div>

          <!-- Goals & Allocation -->
          <div style="background:var(--card);border:1px solid var(--border);border-radius:16px;padding:16px;margin-bottom:12px">
            <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px">
              <div style="display:flex;align-items:center;gap:12px">
                <span style="font-size:24px">ğŸ¯</span>
                <div>
                  <div style="font-size:13px;color:var(--text-muted)">${t('goalsAllocation') || 'Goals & Allocation'}</div>
                  <div style="font-size:18px;font-weight:700">${fmt(totalAlloc)}/${t('month') || 'mo'}</div>
                </div>
              </div>
              <button onclick="editGoalsAllocation()" style="padding:8px 16px;background:var(--bg);border:1px solid var(--border);border-radius:10px;font-size:13px;cursor:pointer;font-family:inherit">${t('edit') || 'Edit'}</button>
            </div>
            <div style="font-size:12px;color:var(--text-muted);padding-left:36px">
              ${state.goals.map(g => `${g.e} ${getGoalName(g)}: ${fmt(state.allocations[g.id] || 0)}/${t('month') || 'mo'}`).join(' Â· ') || t('noGoals') || 'No goals set'}
            </div>
          </div>

          <!-- Personality -->
          <div style="background:var(--card);border:1px solid var(--border);border-radius:16px;padding:16px;margin-bottom:12px">
            <div style="display:flex;justify-content:space-between;align-items:center">
              <div style="display:flex;align-items:center;gap:12px">
                <span style="font-size:24px">ğŸª</span>
                <div>
                  <div style="font-size:13px;color:var(--text-muted)">${t('personality') || 'Personality'}</div>
                  <div style="font-size:18px;font-weight:700">${arch?.emoji || 'âœ¨'} ${arch?.name || 'Dreamer'}</div>
                </div>
              </div>
              <button onclick="redoQuiz()" style="padding:8px 16px;background:var(--bg);border:1px solid var(--border);border-radius:10px;font-size:13px;cursor:pointer;font-family:inherit">${t('redo') || 'Redo'}</button>
            </div>
          </div>

          <!-- Language -->
          <div style="background:var(--card);border:1px solid var(--border);border-radius:16px;padding:16px;margin-bottom:12px">
            <div style="display:flex;justify-content:space-between;align-items:center">
              <div style="display:flex;align-items:center;gap:12px">
                <span style="font-size:24px">ğŸŒ</span>
                <div>
                  <div style="font-size:13px;color:var(--text-muted)">${t('languageLabel') || 'Language'}</div>
                  <div style="font-size:18px;font-weight:700">${getLang().flag || 'ğŸŒ'} ${getLang().label || 'Language'}</div>
                </div>
              </div>
              <button onclick="editLanguage()" style="padding:8px 16px;background:var(--bg);border:1px solid var(--border);border-radius:10px;font-size:13px;cursor:pointer;font-family:inherit">${t('edit') || 'Edit'}</button>
            </div>
          </div>

          <!-- Reset Data -->
          <div style="background:var(--card);border:1px solid var(--border);border-radius:16px;padding:16px;margin-bottom:12px">
            <div style="display:flex;justify-content:space-between;align-items:center">
              <div style="display:flex;align-items:center;gap:12px">
                <span style="font-size:24px">ğŸ—‘ï¸</span>
                <div>
                  <div style="font-size:13px;color:var(--text-muted)">${t('resetData') || 'Reset Data'}</div>
                  <div style="font-size:14px;color:var(--orange)">${t('resetWarning') || 'Start fresh with new setup'}</div>
                </div>
              </div>
              <button onclick="resetAllData()" style="padding:8px 16px;background:rgba(239,68,68,0.1);border:1px solid rgba(239,68,68,0.3);border-radius:10px;font-size:13px;cursor:pointer;font-family:inherit;color:#ef4444">${t('reset') || 'Reset'}</button>
            </div>
          </div>
        </div>
      `;

      // Select content based on active tab
      let tabContent = homeContent;
      if (state.activeTab === 'goals') tabContent = goalsContent;
      else if (state.activeTab === 'analytics') tabContent = analyticsContent;
      else if (state.activeTab === 'history') tabContent = historyContent;
      else if (state.activeTab === 'settings') tabContent = settingsContent;

      app.innerHTML = `
        <div class="status-bar"><span>9:41</span><span>ğŸ“¶ ğŸ”‹</span></div>
        <div class="content" style="padding: 0 24px;">
          ${tabContent}
        </div>
        <button class="fab" onclick="openAddExpense()">+</button>
        <div class="tab-bar">
          <button class="tab ${state.activeTab === 'home' ? 'active' : ''}" onclick="switchTab('home')"><span class="tab-icon">ğŸ </span><span class="tab-label">${t('home')}</span></button>
          <button class="tab ${state.activeTab === 'goals' ? 'active' : ''}" onclick="switchTab('goals')"><span class="tab-icon">ğŸ¯</span><span class="tab-label">${t('goals')}</span></button>
          <button class="tab ${state.activeTab === 'analytics' ? 'active' : ''}" onclick="switchTab('analytics')"><span class="tab-icon">ğŸ“Š</span><span class="tab-label">${t('analytics') || 'Stats'}</span></button>
          <button class="tab ${state.activeTab === 'history' ? 'active' : ''}" onclick="switchTab('history')"><span class="tab-icon">ğŸ“œ</span><span class="tab-label">${t('history')}</span></button>
          <button class="tab ${state.activeTab === 'settings' ? 'active' : ''}" onclick="switchTab('settings')"><span class="tab-icon">âš™ï¸</span><span class="tab-label">${t('settings') || 'Settings'}</span></button>
        </div>
        ${addExpenseModal}
      `;
    };

    window.startOnboarding = () => { state.screen = 'onboarding'; state.step = 0; render(); };
    window.goSplash = () => { state.screen = 'splash'; render(); };
    window.nextStep = () => { state.step++; render(); };
    window.prevStep = () => { state.step--; render(); };
    window.updateBtn = () => { const btn = $('nextBtn'); if (btn) btn.disabled = !state.userName.trim(); };
    window.startQuiz = () => { state.quizStep = 0; render(); };
    window.skipQuiz = () => { state.archetype = 'dreamer'; state.step = 2; render(); };
    window.quizBack = () => { if (state.quizStep > 0) { state.quizStep--; state.quizAnswers.pop(); } else { state.quizStep = -1; } render(); };
    window.backToQuiz = () => { state.step = 1; state.quizStep = 3; render(); };
    window.answerQuiz = (type) => {
      state.quizAnswers.push(type);
      if (state.quizStep < 3) { state.quizStep++; render(); }
      else {
        const counts = {};
        state.quizAnswers.forEach(t => counts[t] = (counts[t] || 0) + 1);
        let maxType = 'dreamer', maxCount = 0;
        Object.entries(counts).forEach(([t, c]) => { if (c > maxCount) { maxType = t; maxCount = c; } });
        state.archetype = maxType;
        state.step = 2;
        render();
      }
    };
    window.handleIncome = (el) => {
      // AI parse: supports "15tr", "15 triá»‡u", "15m", "15 million", "15000000", etc.
      const parsed = parseAmount(el.value);
      state.income = parsed > 0 ? parsed.toString() : el.value.replace(/\D/g, '');
      const btn = $('nextBtn');
      if (btn) btn.disabled = !state.income;
    };
    window.setIncome = (val) => { state.income = val.toString(); render(); };

    // Fixed expenses
    window.updateFixedAmount = (idx, val) => {
      // AI parse for fixed expenses
      const parsed = parseAmount(val);
      state.fixedExpenses[idx].amount = parsed > 0 ? parsed.toString() : val.replace(/\D/g, '');
      // Update the total display without full re-render
      const totalEl = document.querySelector('[data-fixed-total]');
      if (totalEl) totalEl.textContent = fmt(totalFixed()) + '/' + t('months').charAt(0);
    };
    window.removeFixed = (idx) => { 
      state.fixedExpenses.splice(idx, 1); 
      render(); 
    };
    window.addCustomFixed = () => {
      const name = $('newFixedName')?.value;
      const rawAmount = $('newFixedAmount')?.value;
      // AI parse: "500k", "1tr", "1.5 million", etc.
      const amount = parseAmount(rawAmount);
      if (name && amount > 0) {
        const emojis = ['ğŸ“¦', 'ğŸ¬', 'ğŸ‹ï¸', 'ğŸ“š', 'ğŸµ', 'ğŸšŒ', 'ğŸ’³', 'ğŸ”§'];
        state.fixedExpenses.push({
          id: 'custom_' + Date.now(),
          e: emojis[Math.floor(Math.random() * emojis.length)],
          customName: name,
          nameKey: '',
          amount: amount.toString()
        });
        state.showAddFixed = false;
        render();
      }
    };
    
    // Goals
    window.addGoal = (id) => {
      if (state.goals.length >= 3) return;
      const goalData = GOALS_DATA.find(g => g.id === id);
      if (goalData) {
        state.goals.push({
          ...goalData,
          amount: getGoalAmount(goalData.id)
        });
        render();
      }
    };
    window.removeGoal = (id) => { 
      state.goals = state.goals.filter(g => g.id !== id); 
      delete state.allocations[id]; 
      render(); 
    };
    window.addCustomGoal = () => {
      const name = $('newGoalName')?.value;
      const rawAmount = $('newGoalAmount')?.value;
      // AI parse: "25tr", "25 million", "$1500", etc.
      const amount = parseAmount(rawAmount);
      if (name && amount > 0 && state.goals.length < 3) {
        const emojis = ['ğŸ¯', 'â­', 'ğŸŒŸ', 'ğŸ’«', 'ğŸ', 'ğŸ†', 'ğŸ’', 'ğŸš€'];
        state.goals.push({
          id: 'custom_' + Date.now(),
          e: emojis[Math.floor(Math.random() * emojis.length)],
          customName: name,
          nameKey: '',
          amount: amount
        });
        state.showAddGoal = false;
        render();
      }
    };
    
    // Allocation  
    window.updateAllocation = (id, val) => {
      // AI parse for allocation: "500k", "1tr", "1 million", etc.
      const parsed = parseAmount(val);
      state.allocations[id] = parsed > 0 ? parsed.toString() : val.replace(/\D/g, '');
      // Update summary without full re-render
      updateAllocationSummary();
    };
    
    window.updateAllocationSummary = () => {
      const income = parseInt(state.income) || 0;
      const fixed = totalFixed();
      const allocated = totalAllocation();
      const remaining = spendable();
      
      const allocEl = document.querySelector('[data-alloc-total]');
      const remainEl = document.querySelector('[data-remain-total]');
      const btn = document.querySelector('[data-finish-btn]');
      
      if (allocEl) allocEl.textContent = '-' + fmt(allocated);
      if (remainEl) {
        remainEl.textContent = fmt(remaining);
        remainEl.style.color = remaining >= 0 ? 'var(--green)' : '#ef4444';
      }
      if (btn) btn.disabled = !(allocated > 0 && remaining >= 0);
      
      // Update time estimates
      state.goals.forEach((g, idx) => {
        const alloc = state.allocations[g.id] || 0;
        const monthly = parseInt(alloc) || 0;
        const monthsNum = monthly > 0 ? Math.ceil(g.amount / monthly) : 0;
        const timeEl = document.querySelector(`[data-time-${idx}]`);
        if (timeEl) {
          timeEl.innerHTML = monthly > 0 ? `${t('reachGoalIn')} <strong>${monthsNum} ${t('months')}</strong>` : '';
        }
      });
    };
    
    window.finishOnboarding = () => {
      state.onboardingCompleted = true;
      state.screen = 'main';
      saveState();
      render();
    };
    window.fillInput = (text) => { const input = $('askInput'); if (input) { input.value = text; input.focus(); } };
    
    // Chat functions with Claude API
    window.askWithText = (text) => {
      const input = $('askInput');
      if (input) input.value = text;
      askMoni();
    };
    
    window.askMoni = async () => {
      const input = $('askInput');
      const query = input?.value?.trim();
      if (!query) return;
      
      state.chatLoading = true;
      state.chatResponse = null;
      state.chatParsed = null;
      render();
      
      const remaining = spendable() - todaySpent();
      const goalsInfo = state.goals.map(g => `${g.name}: ${fmt(g.amount)}, tiáº¿t kiá»‡m ${fmt(state.allocations[g.id] || 0)}/thÃ¡ng`).join('; ');
      
      const systemPrompt = `Báº¡n lÃ  Moni, má»™t trá»£ lÃ½ tÃ i chÃ­nh thÃ¢n thiá»‡n. Báº¡n giÃºp user quyáº¿t Ä‘á»‹nh cÃ³ nÃªn mua má»™t mÃ³n Ä‘á»“ hay khÃ´ng dá»±a trÃªn ngÃ¢n sÃ¡ch cá»§a há».

ThÃ´ng tin tÃ i chÃ­nh cá»§a user:
- Sá»‘ tiá»n cÃ³ thá»ƒ tiÃªu thoáº£i mÃ¡i cÃ²n láº¡i: ${fmt(remaining)}
- CÃ²n 18 ngÃ y trong thÃ¡ng
- Má»¥c tiÃªu Ä‘ang theo Ä‘uá»•i: ${goalsInfo || 'ChÆ°a cÃ³'}

Quy táº¯c:
1. Tráº£ lá»i ngáº¯n gá»n, thÃ¢n thiá»‡n, dÃ¹ng emoji
2. Náº¿u user há»i vá» viá»‡c mua má»™t mÃ³n Ä‘á»“, hÃ£y phÃ¢n tÃ­ch xem cÃ³ nÃªn mua khÃ´ng
3. Náº¿u mÃ³n Ä‘á»“ < 5% ngÃ¢n sÃ¡ch cÃ²n láº¡i â†’ khuyáº¿n khÃ­ch mua
4. Náº¿u mÃ³n Ä‘á»“ 5-20% ngÃ¢n sÃ¡ch â†’ cÃ¢n nháº¯c, nÃªu trade-off
5. Náº¿u mÃ³n Ä‘á»“ > 20% ngÃ¢n sÃ¡ch â†’ cáº£nh bÃ¡o nháº¹ nhÃ ng
6. LuÃ´n tÃ´n trá»ng quyáº¿t Ä‘á»‹nh cá»§a user, khÃ´ng phÃ¡n xÃ©t
7. Náº¿u phÃ¡t hiá»‡n Ä‘Æ°á»£c sá»‘ tiá»n trong cÃ¢u há»i, PHáº¢I tráº£ vá» á»Ÿ cuá»‘i response theo format: [PARSED:tÃªn_mÃ³n:sá»‘_tiá»n]

VÃ­ dá»¥ response:
"Cafe 50k â€” mua Ä‘i! â˜• Chá»‰ chiáº¿m 2% ngÃ¢n sÃ¡ch, khÃ´ng áº£nh hÆ°á»Ÿng gÃ¬ tá»›i má»¥c tiÃªu cá»§a báº¡n.
[PARSED:Cafe:50000]"`;

      // Always use fallback for now (API may not work in artifact)
      const useFallback = () => {
        // Parse amount with better regex - handle "50k", "50K", "50000", "150k"
        const amountMatch = query.match(/(\d+)\s*k/i) || query.match(/(\d{4,})/);
        if (amountMatch) {
          let amount = parseInt(amountMatch[1]);
          // If matched with 'k', multiply by 1000
          if (query.toLowerCase().includes('k') && amount < 1000) {
            amount *= 1000;
          }
          // Extract item name (everything except the amount part)
          const item = query.replace(/\d+\s*k?/gi, '').trim() || 'Item';
          const percent = remaining > 0 ? (amount / remaining * 100) : 100;

          state.chatParsed = { item, amount };

          if (percent < 5) {
            state.chatResponse = `<strong>${item} ${fmt(amount)}</strong> â€” ${t('buyIt')} ğŸ‰<br><br>${t('onlyPercent')} ${percent.toFixed(1)}% ${t('budget')}, ${t('comfortable')}`;
          } else if (percent < 20) {
            state.chatResponse = `<strong>${item} ${fmt(amount)}</strong> â€” ${t('okToBuy')} ğŸ‘<br><br>${percent.toFixed(1)}% ${t('budget')}. ${t('considerIt')}`;
          } else {
            state.chatResponse = `<strong>${item} ${fmt(amount)}</strong> â€” ${t('tooMuch')} ğŸ¤”<br><br>${percent.toFixed(1)}% ${t('percentOfBudget')} ${t('areYouSure')}`;
          }
        } else {
          state.chatResponse = t('notUnderstand');
        }
      };

      try {
        const response = await fetch('https://api.anthropic.com/v1/messages', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({
            model: 'claude-sonnet-4-20250514',
            max_tokens: 500,
            system: systemPrompt,
            messages: [{ role: 'user', content: query }]
          })
        });
        
        if (!response.ok) {
          throw new Error('API error');
        }
        
        const data = await response.json();
        let text = data.content?.[0]?.text;
        
        if (!text) {
          throw new Error('No response');
        }
        
        // Parse the response for item and amount
        const parseMatch = text.match(/\[PARSED:(.+?):(\d+)\]/);
        if (parseMatch) {
          state.chatParsed = {
            item: parseMatch[1],
            amount: parseInt(parseMatch[2])
          };
          text = text.replace(/\[PARSED:.+?\]/, '').trim();
        }
        
        state.chatResponse = text.replace(/\n/g, '<br>');
      } catch (err) {
        console.error('API Error:', err);
        useFallback();
      }
      
      state.chatLoading = false;
      render();
    };
    
    window.clearChat = () => {
      state.chatResponse = null;
      state.chatParsed = null;
      const input = $('askInput');
      if (input) input.value = '';
      render();
    };
    
    window.confirmChatPurchase = () => {
      if (state.chatParsed) {
        const emojis = ['â˜•', 'ğŸœ', 'ğŸš—', 'ğŸ›’', 'ğŸ¬', 'ğŸ›ï¸', 'ğŸ’Š', 'ğŸ“¦'];
        const item = state.chatParsed.item;
        let emoji = emojis[0];
        if (item.toLowerCase().includes('cafe') || item.toLowerCase().includes('cÃ  phÃª')) emoji = 'â˜•';
        else if (item.toLowerCase().includes('cÆ¡m') || item.toLowerCase().includes('Äƒn')) emoji = 'ğŸœ';
        else if (item.toLowerCase().includes('grab') || item.toLowerCase().includes('xe')) emoji = 'ğŸš—';
        else if (item.toLowerCase().includes('siÃªu thá»‹') || item.toLowerCase().includes('chá»£')) emoji = 'ğŸ›’';
        else emoji = emojis[Math.floor(Math.random() * emojis.length)];

        state.transactions.unshift({
          emoji,
          name: state.chatParsed.item,
          amount: state.chatParsed.amount,
          timestamp: Date.now()
        });
        saveState();
      }
      clearChat();
    };
    
    window.openAddExpense = () => { state.showAddExpense = true; render(); };
    window.closeAddExpense = () => { state.showAddExpense = false; render(); };

    // AI-powered expense parser with auto category assignment
    window.parseAndAddExpense = () => {
      const text = $('expenseText')?.value?.trim();
      if (!text) return;

      // Parse amount from text
      const amount = parseAmount(text);
      if (amount <= 0) {
        alert(t('enterValidAmount') || 'Please enter a valid amount');
        return;
      }

      // Extract name (remove amount-related parts)
      let name = text
        .replace(/[\d,.]+\s*(k|tr|triá»‡u|nghÃ¬n|ngÃ n|m|million|thousand|ä¸‡|ë§Œ|ì›|å††|Â¥|â‚¬|\$|â‚«|Ä‘)/gi, '')
        .replace(/[\d,.]+/g, '')
        .trim();

      // If no name left, use generic
      if (!name) name = t('expense') || 'Expense';

      // AI category assignment based on keywords
      const categoryMap = {
        'â˜•': ['cafe', 'coffee', 'cÃ  phÃª', 'cappuccino', 'latte', 'starbucks', 'å’–å•¡', 'ã‚³ãƒ¼ãƒ’ãƒ¼', 'ì»¤í”¼'],
        'ğŸœ': ['cÆ¡m', 'phá»Ÿ', 'bÃºn', 'lunch', 'dinner', 'food', 'Äƒn', 'meal', 'restaurant', 'åˆé¤', 'æ™šé¤', 'ãƒ©ãƒ³ãƒ', 'ì ì‹¬', 'ì €ë…', 'almuerzo', 'dÃ©jeuner'],
        'ğŸš—': ['grab', 'uber', 'taxi', 'xe', 'car', 'ride', 'gojek', 'æ‰“è½¦', 'ã‚¿ã‚¯ã‚·ãƒ¼', 'íƒì‹œ'],
        'ğŸ›’': ['chá»£', 'siÃªu thá»‹', 'market', 'grocery', 'supermarket', 'shop', 'è¶…å¸‚', 'ã‚¹ãƒ¼ãƒ‘ãƒ¼', 'ë§ˆíŠ¸', 'courses', 'compras'],
        'ğŸº': ['beer', 'bia', 'rÆ°á»£u', 'wine', 'drink', 'bar', 'pub', 'å•¤é…’', 'ãƒ“ãƒ¼ãƒ«', 'ë§¥ì£¼'],
        'ğŸ¬': ['movie', 'phim', 'cinema', 'netflix', 'show', 'ç”µå½±', 'æ˜ ç”»', 'ì˜í™”', 'cine'],
        'ğŸ’Š': ['thuá»‘c', 'medicine', 'pharmacy', 'doctor', 'hospital', 'è¯', 'è–¬', 'ì•½', 'pharmacie', 'farmacia'],
        'ğŸ®': ['game', 'gaming', 'steam', 'playstation', 'xbox', 'æ¸¸æˆ', 'ã‚²ãƒ¼ãƒ ', 'ê²Œì„'],
        'ğŸ‘•': ['quáº§n', 'Ã¡o', 'clothes', 'fashion', 'shirt', 'dress', 'è¡£æœ', 'æœ', 'ì˜·', 'vÃªtements', 'ropa'],
        'ğŸ’„': ['makeup', 'má»¹ pháº©m', 'cosmetic', 'beauty', 'åŒ–å¦†', 'åŒ–ç²§', 'í™”ì¥í’ˆ', 'maquillage'],
        'ğŸ“±': ['phone', 'Ä‘iá»‡n thoáº¡i', 'mobile', 'æ‰‹æœº', 'æºå¸¯', 'í•¸ë“œí°', 'tÃ©lÃ©phone', 'telÃ©fono'],
        'ğŸ ': ['rent', 'thuÃª nhÃ ', 'housing', 'æˆ¿ç§Ÿ', 'å®¶è³ƒ', 'ì§‘ì„¸', 'loyer', 'alquiler'],
        'ğŸ’¡': ['Ä‘iá»‡n', 'electric', 'electricity', 'bill', 'ç”µè´¹', 'é›»æ°—', 'ì „ê¸°', 'Ã©lectricitÃ©'],
        'ğŸ“¶': ['internet', 'wifi', 'data', 'ç½‘ç»œ', 'ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆ', 'ì¸í„°ë„·'],
        'ğŸ': ['gift', 'quÃ ', 'present', 'ç¤¼ç‰©', 'ãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆ', 'ì„ ë¬¼', 'cadeau', 'regalo'],
        'âœˆï¸': ['travel', 'flight', 'bay', 'trip', 'vacation', 'æ—…è¡Œ', 'ì—¬í–‰', 'voyage', 'viaje'],
        'ğŸ‹ï¸': ['gym', 'fitness', 'sport', 'workout', 'å¥èº«', 'ã‚¸ãƒ ', 'í—¬ìŠ¤'],
        'ğŸ“š': ['book', 'sÃ¡ch', 'education', 'course', 'study', 'ä¹¦', 'æœ¬', 'ì±…', 'livre', 'libro'],
      };

      // Find matching emoji
      let emoji = 'ğŸ’¸'; // default
      const lowerName = name.toLowerCase();
      const lowerText = text.toLowerCase();

      for (const [e, keywords] of Object.entries(categoryMap)) {
        if (keywords.some(kw => lowerName.includes(kw) || lowerText.includes(kw))) {
          emoji = e;
          break;
        }
      }

      // Capitalize first letter of name
      name = name.charAt(0).toUpperCase() + name.slice(1);

      // Add transaction with timestamp
      state.transactions.unshift({ emoji, name, amount, timestamp: Date.now() });
      state.totalExpensesLogged++;
      state.showAddExpense = false;
      updateStreak();
      saveState();

      // Check for milestones
      const milestones = checkMilestones();
      if (milestones.length > 0) {
        celebrateMilestone(milestones[0]);
      }

      render();
    };
    window.confirmAddExpenseFromModal = () => {
      const name = $('expenseName')?.value;
      const rawAmount = $('expenseAmount')?.value;
      const amount = parseAmount(rawAmount);
      if (name && amount > 0) {
        const emojis = ['ğŸ›ï¸', 'ğŸ½ï¸', 'ğŸ¬', 'ğŸ', 'ğŸ’Š', 'ğŸ“¦', 'ğŸ®', 'âœ¨'];
        state.transactions.unshift({
          emoji: emojis[Math.floor(Math.random() * emojis.length)],
          name,
          amount,
          timestamp: Date.now()
        });
        state.showAddExpense = false;
        saveState();
        render();
      }
    };
    window.quickAddExpense = (emoji, name, amount) => {
      state.transactions.unshift({ emoji, name, amount, timestamp: Date.now() });
      state.showAddExpense = false;
      saveState();
      render();
    };

    window.depositToGoal = (goalId) => {
      const goal = state.goals.find(g => g.id === goalId);
      if (!goal) return;

      const currentDeposit = state.goalDeposits[goalId] || 0;
      const remaining = goal.amount - currentDeposit;
      const suggested = Math.min(parseInt(state.allocations[goalId]) || 0, remaining);

      const input = prompt(t('enterDepositAmount') + ` (${t('remaining')}: ${fmt(remaining)})`, suggested > 0 ? suggested : '');
      if (input === null) return;

      const amount = parseAmount(input);
      if (amount > 0) {
        state.goalDeposits[goalId] = currentDeposit + Math.min(amount, remaining);
        saveState();

        // Check for goal milestones
        const milestones = checkMilestones();
        if (milestones.length > 0) {
          celebrateMilestone(milestones[0]);
        }

        render();
      }
    };

    window.withdrawFromGoal = (goalId) => {
      const currentDeposit = state.goalDeposits[goalId] || 0;
      if (currentDeposit <= 0) return;

      const input = prompt(t('enterWithdrawAmount') + ` (${t('available')}: ${fmt(currentDeposit)})`, '');
      if (input === null) return;

      const amount = parseAmount(input);
      if (amount > 0) {
        state.goalDeposits[goalId] = Math.max(0, currentDeposit - amount);
        saveState();
        render();
      }
    };

    // B2: Future Self Visualization - Edit goal note
    window.editGoalNote = (goalId) => {
      const goal = state.goals.find(g => g.id === goalId);
      if (!goal) return;

      const currentNote = state.goalNotes[goalId] || '';
      const promptText = t('futureSelfPrompt') || 'Why do you want this? Describe your future self enjoying this goal:';
      const input = prompt(promptText, currentNote);

      if (input === null) return; // User cancelled

      state.goalNotes[goalId] = input.trim();
      saveState();
      render();
    };

    // B5: Settings Screen - Edit functions
    window.editIncome = () => {
      const current = state.income || '';
      const input = prompt(t('enterIncome') || 'Enter your monthly income:', fmt(parseInt(current) || 0));
      if (input === null) return;

      const amount = parseAmount(input);
      if (amount > 0) {
        state.income = amount.toString();
        saveState();
        render();
      }
    };

    window.editFixedExpenses = () => {
      // Cycle through each fixed expense and let user edit
      if (!Array.isArray(state.fixedExpenses)) return;
      state.fixedExpenses.forEach((expense, index) => {
        const current = parseInt(expense.amount) || 0;
        const label = t(expense.nameKey) || expense.nameKey;
        const input = prompt(`${expense.e} ${label}:`, current > 0 ? current.toString() : '0');
        if (input !== null) {
          const amount = parseAmount(input);
          state.fixedExpenses[index].amount = amount.toString();
        }
      });
      saveState();
      render();
    };

    window.editGoalsAllocation = () => {
      // Let user edit allocation for each goal
      if (!Array.isArray(state.goals) || state.goals.length === 0) {
        alert(t('noGoals') || 'No goals set');
        return;
      }
      state.goals.forEach(g => {
        const current = state.allocations[g.id] || 0;
        const goalName = getGoalName(g);
        const input = prompt(`${g.e} ${goalName} - ${t('monthlyAllocation') || 'Monthly allocation'}:`, current > 0 ? fmt(current) : '0');
        if (input !== null) {
          const amount = parseAmount(input);
          state.allocations[g.id] = amount;
        }
      });
      saveState();
      render();
    };

    window.redoQuiz = () => {
      if (confirm(t('redoQuizConfirm') || 'Retake personality quiz? Your current type will be replaced.')) {
        state.quizAnswers = [];
        state.quizStep = 0;
        state.screen = 'onboarding';
        state.step = 1;
        saveState();
        render();
      }
    };

    window.editLanguage = () => {
      const languages = ['vi', 'en', 'zh', 'ja', 'ko', 'fr', 'es'];
      const labels = languages.map(l => `${LANGUAGES[l]?.flag || 'ğŸŒ'} ${LANGUAGES[l]?.label || l}`);
      const currentIndex = languages.indexOf(state.language);
      const choice = prompt(
        `${t('selectLanguage') || 'Select language'}:\n${languages.map((l, i) => `${i + 1}. ${labels[i]}`).join('\n')}\n\n${t('enterNumber') || 'Enter number (1-7)'}:`,
        (currentIndex + 1).toString()
      );
      if (choice !== null) {
        const index = parseInt(choice) - 1;
        if (index >= 0 && index < languages.length) {
          state.language = languages[index];
          saveState();
          render();
        }
      }
    };

    window.resetAllData = () => {
      if (confirm(t('resetConfirm') || 'Are you sure? This will delete all your data and start fresh.')) {
        if (confirm(t('resetConfirm2') || 'This cannot be undone. Really reset?')) {
          localStorage.removeItem('moniState');
          location.reload();
        }
      }
    };

    render();
  </script>
</body>
</html>
